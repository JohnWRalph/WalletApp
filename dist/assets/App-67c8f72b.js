var Jb=Object.defineProperty;var Zb=(r,e,t)=>e in r?Jb(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var ft=(r,e,t)=>(Zb(r,typeof e!="symbol"?e+"":e,t),t),Yf=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)};var Me=(r,e,t)=>(Yf(r,e,"read from private field"),t?t.call(r):e.get(r)),Ye=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)},Ae=(r,e,t,n)=>(Yf(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t);var Nr=(r,e,t)=>(Yf(r,e,"access private method"),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function Te(){}const Xb=r=>r;function _x(r){return r()}function W0(){return Object.create(null)}function nr(r){r.forEach(_x)}function Al(r){return typeof r=="function"}function ir(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}let Aa;function Xr(r,e){return Aa||(Aa=document.createElement("a")),Aa.href=e,r===Aa.href}function Qb(r){return Object.keys(r).length===0}function ey(r,...e){if(r==null)return Te;const t=r.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function tt(r,e,t){r.$$.on_destroy.push(ey(e,t))}function kx(r,e,t){return r.set(t),e}function H0(r){const e=typeof r=="string"&&r.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[r,"px"]}const Ex=typeof window<"u";let ty=Ex?()=>window.performance.now():()=>Date.now(),Il=Ex?r=>requestAnimationFrame(r):Te;const ks=new Set;function Sx(r){ks.forEach(e=>{e.c(r)||(ks.delete(e),e.f())}),ks.size!==0&&Il(Sx)}function ry(r){let e;return ks.size===0&&Il(Sx),{promise:new Promise(t=>{ks.add(e={c:r,f:t})}),abort(){ks.delete(e)}}}function U(r,e){r.appendChild(e)}function Ax(r){if(!r)return document;const e=r.getRootNode?r.getRootNode():r.ownerDocument;return e&&e.host?e:r.ownerDocument}function ny(r){const e=H("style");return iy(Ax(r),e),e.sheet}function iy(r,e){return U(r.head||r,e),e.sheet}function ae(r,e,t){r.insertBefore(e,t||null)}function oe(r){r.parentNode&&r.parentNode.removeChild(r)}function Ln(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function H(r){return document.createElement(r)}function Se(r){return document.createTextNode(r)}function ee(){return Se(" ")}function po(){return Se("")}function _e(r,e,t,n){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}function F(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function Ix(r){let e;return{p(...t){e=t,e.forEach(n=>r.push(n))},r(){e.forEach(t=>r.splice(r.indexOf(t),1))}}}function sy(r){return Array.from(r.childNodes)}function xt(r,e){e=""+e,r.data!==e&&(r.data=e)}function xi(r,e){r.value=e??""}function _t(r,e,t,n){t===null?r.style.removeProperty(e):r.style.setProperty(e,t,n?"important":"")}function sc(r,e,t){r.classList[t?"add":"remove"](e)}function oy(r,e,{bubbles:t=!1,cancelable:n=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(r,t,n,e),i}const oc=new Map;let ac=0;function ay(r){let e=5381,t=r.length;for(;t--;)e=(e<<5)-e^r.charCodeAt(t);return e>>>0}function cy(r,e){const t={stylesheet:ny(e),rules:{}};return oc.set(r,t),t}function G0(r,e,t,n,i,s,o,a=0){const c=16.666/n;let f=`{
`;for(let S=0;S<=1;S+=c){const A=e+(t-e)*s(S);f+=S*100+`%{${o(A,1-A)}}
`}const l=f+`100% {${o(t,1-t)}}
}`,h=`__svelte_${ay(l)}_${a}`,w=Ax(r),{stylesheet:b,rules:m}=oc.get(w)||cy(w,r);m[h]||(m[h]=!0,b.insertRule(`@keyframes ${h} ${l}`,b.cssRules.length));const k=r.style.animation||"";return r.style.animation=`${k?`${k}, `:""}${h} ${n}ms linear ${i}ms 1 both`,ac+=1,h}function fy(r,e){const t=(r.style.animation||"").split(", "),n=t.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),i=t.length-n.length;i&&(r.style.animation=n.join(", "),ac-=i,ac||uy())}function uy(){Il(()=>{ac||(oc.forEach(r=>{const{ownerNode:e}=r.stylesheet;e&&oe(e)}),oc.clear())})}let Rl;function Co(r){Rl=r}const xs=[],q0=[];let Es=[];const V0=[],ly=Promise.resolve();let ju=!1;function dy(){ju||(ju=!0,ly.then(Rx))}function Si(r){Es.push(r)}const Jf=new Set;let os=0;function Rx(){if(os!==0)return;const r=Rl;do{try{for(;os<xs.length;){const e=xs[os];os++,Co(e),hy(e.$$)}}catch(e){throw xs.length=0,os=0,e}for(Co(null),xs.length=0,os=0;q0.length;)q0.pop()();for(let e=0;e<Es.length;e+=1){const t=Es[e];Jf.has(t)||(Jf.add(t),t())}Es.length=0}while(xs.length);for(;V0.length;)V0.pop()();ju=!1,Jf.clear(),Co(r)}function hy(r){if(r.fragment!==null){r.update(),nr(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(Si)}}function py(r){const e=[],t=[];Es.forEach(n=>r.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),Es=e}let So;function xy(){return So||(So=Promise.resolve(),So.then(()=>{So=null})),So}function Zf(r,e,t){r.dispatchEvent(oy(`${e?"intro":"outro"}${t}`))}const Ga=new Set;let ti;function or(){ti={r:0,c:[],p:ti}}function ar(){ti.r||nr(ti.c),ti=ti.p}function ue(r,e){r&&r.i&&(Ga.delete(r),r.i(e))}function we(r,e,t,n){if(r&&r.o){if(Ga.has(r))return;Ga.add(r),ti.c.push(()=>{Ga.delete(r),n&&(t&&r.d(1),n())}),r.o(e)}else n&&n()}const gy={duration:0};function Ai(r,e,t,n){const i={direction:"both"};let s=e(r,t,i),o=n?0:1,a=null,c=null,f=null;function l(){f&&fy(r,f)}function h(b,m){const k=b.b-o;return m*=Math.abs(k),{a:o,b:b.b,d:k,duration:m,start:b.start,end:b.start+m,group:b.group}}function w(b){const{delay:m=0,duration:k=300,easing:S=Xb,tick:A=Te,css:O}=s||gy,R={start:ty()+m,b};b||(R.group=ti,ti.r+=1),a||c?c=R:(O&&(l(),f=G0(r,o,b,k,m,S,O)),b&&A(0,1),a=h(R,k),Si(()=>Zf(r,b,"start")),ry(B=>{if(c&&B>c.start&&(a=h(c,k),c=null,Zf(r,a.b,"start"),O&&(l(),f=G0(r,o,a.b,a.duration,0,S,s.css))),a){if(B>=a.end)A(o=a.b,1-o),Zf(r,a.b,"end"),c||(a.b?l():--a.group.r||nr(a.group.c)),a=null;else if(B>=a.start){const N=B-a.start;o=a.a+a.d*S(N/a.duration),A(o,1-o)}}return!!(a||c)}))}return{run(b){Al(s)?xy().then(()=>{s=s(i),w(b)}):w(b)},end(){l(),a=c=null}}}function Sr(r){r&&r.c()}function cr(r,e,t,n){const{fragment:i,after_update:s}=r.$$;i&&i.m(e,t),n||Si(()=>{const o=r.$$.on_mount.map(_x).filter(Al);r.$$.on_destroy?r.$$.on_destroy.push(...o):nr(o),r.$$.on_mount=[]}),s.forEach(Si)}function fr(r,e){const t=r.$$;t.fragment!==null&&(py(t.after_update),nr(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function by(r,e){r.$$.dirty[0]===-1&&(xs.push(r),dy(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function ur(r,e,t,n,i,s,o,a=[-1]){const c=Rl;Co(r);const f=r.$$={fragment:null,ctx:[],props:s,update:Te,not_equal:i,bound:W0(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:W0(),dirty:a,skip_bound:!1,root:e.target||c.$$.root};o&&o(f.root);let l=!1;if(f.ctx=t?t(r,e.props||{},(h,w,...b)=>{const m=b.length?b[0]:w;return f.ctx&&i(f.ctx[h],f.ctx[h]=m)&&(!f.skip_bound&&f.bound[h]&&f.bound[h](m),l&&by(r,h)),w}):[],f.update(),l=!0,nr(f.before_update),f.fragment=n?n(f.ctx):!1,e.target){if(e.hydrate){const h=sy(e.target);f.fragment&&f.fragment.l(h),h.forEach(oe)}else f.fragment&&f.fragment.c();e.intro&&ue(r.$$.fragment),cr(r,e.target,e.anchor,e.customElement),Rx()}Co(c)}class lr{$destroy(){fr(this,1),this.$destroy=Te}$on(e,t){if(!Al(t))return Te;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const i=n.indexOf(t);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!Qb(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const as=[];function et(r,e=Te){let t;const n=new Set;function i(a){if(ir(r,a)&&(r=a,t)){const c=!as.length;for(const f of n)f[1](),as.push(f,r);if(c){for(let f=0;f<as.length;f+=2)as[f][0](as[f+1]);as.length=0}}}function s(a){i(a(r))}function o(a,c=Te){const f=[a,c];return n.add(f),n.size===1&&(t=e(i)||Te),a(r),()=>{n.delete(f),n.size===0&&t&&(t(),t=null)}}return{set:i,update:s,subscribe:o}}const Qs=et(!1),eo=et(!1),bs=et(!1),Ss=et(!1),cc=et(!1),yy=JSON.parse(localStorage.getItem("wallets")),ln=et(yy||[]),my=et(),Vo=et(0),wy=JSON.parse(localStorage.getItem("wallets")),Tx=et(""),Mo=et(""),to=et(wy[0]||""),fc=et("0"),vy=et("0"),Nx=et("0");function _y(r){const e=r-1;return e*e*e+1}function Ii(r,{delay:e=0,duration:t=400,easing:n=_y,x:i=0,y:s=0,opacity:o=0}={}){const a=getComputedStyle(r),c=+a.opacity,f=a.transform==="none"?"":a.transform,l=c*(1-o),[h,w]=H0(i),[b,m]=H0(s);return{delay:e,duration:t,easing:n,css:(k,S)=>`
			transform: ${f} translate(${(1-k)*h}${w}, ${(1-k)*b}${m});
			opacity: ${c-l*S}`}}const Yu=["Ethereum","Solana"],j0=["Immutable X","Loopring","Canto"],Y0=["Goerli","Sepolia"],Px="6.3.0";function ky(r,e,t){const n=e.split("|").map(s=>s.trim());for(let s=0;s<n.length;s++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof r===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${t}`,i.value=r,i}async function Tl(r){const e=Object.keys(r);return(await Promise.all(e.map(n=>Promise.resolve(r[n])))).reduce((n,i,s)=>(n[e[s]]=i,n),{})}function pn(r,e,t){for(let n in e){let i=e[n];const s=t?t[n]:null;s&&ky(i,s,n),Object.defineProperty(r,n,{enumerable:!0,value:i,writable:!1})}}function ys(r){if(r==null)return"null";if(Array.isArray(r))return"[ "+r.map(ys).join(", ")+" ]";if(r instanceof Uint8Array){const e="0123456789abcdef";let t="0x";for(let n=0;n<r.length;n++)t+=e[r[n]>>4],t+=e[r[n]&15];return t}if(typeof r=="object"&&typeof r.toJSON=="function")return ys(r.toJSON());switch(typeof r){case"boolean":case"symbol":return r.toString();case"bigint":return BigInt(r).toString();case"number":return r.toString();case"string":return JSON.stringify(r);case"object":{const e=Object.keys(r);return e.sort(),"{ "+e.map(t=>`${ys(t)}: ${ys(r[t])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Ey(r,e,t){{const i=[];if(t){if("message"in t||"code"in t||"name"in t)throw new Error(`value will overwrite populated values: ${ys(t)}`);for(const s in t){const o=t[s];i.push(s+"="+ys(o))}}i.push(`code=${e}`),i.push(`version=${Px}`),i.length&&(r+=" ("+i.join(", ")+")")}let n;switch(e){case"INVALID_ARGUMENT":n=new TypeError(r);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":n=new RangeError(r);break;default:n=new Error(r)}return pn(n,{code:e}),t&&Object.assign(n,t),n}function Fe(r,e,t,n){if(!r)throw Ey(e,t,n)}function Z(r,e,t,n){Fe(r,e,"INVALID_ARGUMENT",{argument:t,value:n})}const Sy=["NFD","NFC","NFKD","NFKC"].reduce((r,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"){const t=String.fromCharCode(233).normalize("NFD"),n=String.fromCharCode(101,769);if(t!==n)throw new Error("broken")}r.push(e)}catch{}return r},[]);function Bx(r){Fe(Sy.indexOf(r)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:r}})}function Qc(r,e,t){if(t==null&&(t=""),r!==e){let n=t,i="new";t&&(n+=".",i+=" "+t),Fe(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function Ox(r,e,t){if(r instanceof Uint8Array)return t?new Uint8Array(r):r;if(typeof r=="string"&&r.match(/^0x([0-9a-f][0-9a-f])*$/i)){const n=new Uint8Array((r.length-2)/2);let i=2;for(let s=0;s<n.length;s++)n[s]=parseInt(r.substring(i,i+2),16),i+=2;return n}Z(!1,"invalid BytesLike value",e||"value",r)}function ge(r,e){return Ox(r,e,!1)}function Mi(r,e){return Ox(r,e,!0)}function ji(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&r.length!==2+2*e||e===!0&&r.length%2!==0)}function Cx(r){return ji(r,!0)||r instanceof Uint8Array}const J0="0123456789abcdef";function ye(r){const e=ge(r);let t="0x";for(let n=0;n<e.length;n++){const i=e[n];t+=J0[(i&240)>>4]+J0[i&15]}return t}function Er(r){return"0x"+r.map(e=>ye(e).substring(2)).join("")}function Uo(r){return ji(r,!0)?(r.length-2)/2:ge(r).length}function Nl(r,e,t){const n=ge(r);return t!=null&&t>n.length&&Fe(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:t}),ye(n.slice(e??0,t??n.length))}function Ay(r,e,t){const n=ge(r);Fe(e>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),t?i.set(n,e-n.length):i.set(n,0),ye(i)}function ro(r,e){return Ay(r,e,!0)}const Pl=BigInt(0),Ui=BigInt(1),ms=9007199254740991;function Iy(r,e){let t=Bt(r,"value");const n=BigInt(Dn(e,"width")),i=Ui<<n-Ui;if(t<Pl){t=-t,Fe(t<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:r});const s=(Ui<<n)-Ui;return(~t&s)+Ui}else Fe(t<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:r});return t}function Ry(r,e){const t=Bl(r,"value"),n=BigInt(Dn(e,"bits"));return t&(Ui<<n)-Ui}function Bt(r,e){switch(typeof r){case"bigint":return r;case"number":return Z(Number.isInteger(r),"underflow",e||"value",r),Z(r>=-ms&&r<=ms,"overflow",e||"value",r),BigInt(r);case"string":try{if(r==="")throw new Error("empty string");return r[0]==="-"&&r[1]!=="-"?-BigInt(r.substring(1)):BigInt(r)}catch(t){Z(!1,`invalid BigNumberish string: ${t.message}`,e||"value",r)}}Z(!1,"invalid BigNumberish value",e||"value",r)}function Bl(r,e){const t=Bt(r,e);return Fe(t>=Pl,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:r}),t}const Z0="0123456789abcdef";function Mx(r){if(r instanceof Uint8Array){let e="0x0";for(const t of r)e+=Z0[t>>4],e+=Z0[t&15];return BigInt(e)}return Bt(r)}function Dn(r,e){switch(typeof r){case"bigint":return Z(r>=-ms&&r<=ms,"overflow",e||"value",r),Number(r);case"number":return Z(Number.isInteger(r),"underflow",e||"value",r),Z(r>=-ms&&r<=ms,"overflow",e||"value",r),r;case"string":try{if(r==="")throw new Error("empty string");return Dn(BigInt(r),e)}catch(t){Z(!1,`invalid numeric string: ${t.message}`,e||"value",r)}}Z(!1,"invalid numeric value",e||"value",r)}function no(r,e){let n=Bl(r,"value").toString(16);if(e==null)n.length%2&&(n="0"+n);else{const i=Dn(e,"width");for(Fe(i*2>=n.length,`value exceeds width (${i} bits)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:r});n.length<i*2;)n="0"+n}return"0x"+n}function hn(r){const e=Bl(r,"value");if(e===Pl)return new Uint8Array([]);let t=e.toString(16);t.length%2&&(t="0"+t);const n=new Uint8Array(t.length/2);for(let i=0;i<n.length;i++){const s=i*2;n[i]=parseInt(t.substring(s,s+2),16)}return n}function Ty(r){let e=ye(Cx(r)?r:hn(r)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const Ju="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let Ia=null;function Ny(r){if(Ia==null){Ia={};for(let t=0;t<Ju.length;t++)Ia[Ju[t]]=BigInt(t)}const e=Ia[r];return Z(e!=null,"invalid base58 value","letter",r),e}const Py=BigInt(0),Zu=BigInt(58);function By(r){let e=Mx(ge(r)),t="";for(;e;)t=Ju[Number(e%Zu)]+t,e/=Zu;return t}function Oy(r){let e=Py;for(let t=0;t<r.length;t++)e*=Zu,e+=Ny(r[t]);return e}function Gi(r,e){e!=null&&(Bx(e),r=r.normalize(e));let t=[];for(let n=0;n<r.length;n++){const i=r.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192),t.push(i&63|128);else if((i&64512)==55296){n++;const s=r.charCodeAt(n);Z(n<r.length&&(s&64512)===56320,"invalid surrogate pair","str",r);const o=65536+((i&1023)<<10)+(s&1023);t.push(o>>18|240),t.push(o>>12&63|128),t.push(o>>6&63|128),t.push(o&63|128)}else t.push(i>>12|224),t.push(i>>6&63|128),t.push(i&63|128)}return new Uint8Array(t)}function Cy(r){let e=r.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function X0(r,e,t){let n=0;for(let i=0;i<t;i++)n=n*256+r[e+i];return n}function Q0(r,e,t,n){const i=[];for(;t<e+1+n;){const s=Ux(r,t);i.push(s.result),t+=s.consumed,Fe(t<=e+1+n,"child data too short","BUFFER_OVERRUN",{buffer:r,length:n,offset:e})}return{consumed:1+n,result:i}}function Ux(r,e){Fe(r.length!==0,"data too short","BUFFER_OVERRUN",{buffer:r,length:0,offset:1});const t=n=>{Fe(n<=r.length,"data short segment too short","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n})};if(r[e]>=248){const n=r[e]-247;t(e+1+n);const i=X0(r,e+1,n);return t(e+1+n+i),Q0(r,e,e+1+n,n+i)}else if(r[e]>=192){const n=r[e]-192;return t(e+1+n),Q0(r,e,e+1,n)}else if(r[e]>=184){const n=r[e]-183;t(e+1+n);const i=X0(r,e+1,n);t(e+1+n+i);const s=ye(r.slice(e+1+n,e+1+n+i));return{consumed:1+n+i,result:s}}else if(r[e]>=128){const n=r[e]-128;t(e+1+n);const i=ye(r.slice(e+1,e+1+n));return{consumed:1+n,result:i}}return{consumed:1,result:Cy(r[e])}}function Ol(r){const e=ge(r,"data"),t=Ux(e,0);return Z(t.consumed===e.length,"unexpected junk after rlp payload","data",r),t.result}function ed(r){const e=[];for(;r;)e.unshift(r&255),r>>=8;return e}function Lx(r){if(Array.isArray(r)){let n=[];if(r.forEach(function(s){n=n.concat(Lx(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=ed(n.length);return i.unshift(247+i.length),i.concat(n)}const e=Array.prototype.slice.call(ge(r,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=ed(e.length);return t.unshift(183+t.length),t.concat(e)}const td="0123456789abcdef";function uc(r){let e="0x";for(const t of Lx(r))e+=td[t>>4],e+=td[t&15];return e}function My(r){const e=ge(r,"randomBytes");e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=ye(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}function Xu(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function Uy(r){if(typeof r!="boolean")throw new Error(`Expected boolean, not ${r}`)}function Fx(r,...e){if(!(r instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(r.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${r.length}`)}function Ly(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Xu(r.outputLen),Xu(r.blockLen)}function Fy(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function Dy(r,e){Fx(r);const t=e.outputLen;if(r.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const wt={number:Xu,bool:Uy,bytes:Fx,hash:Ly,exists:Fy,output:Dy};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qa=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4)),Va=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),In=(r,e)=>r<<32-e|r>>>e,$y=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!$y)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));const zy=async()=>{};async function rd(r,e,t){let n=Date.now();for(let i=0;i<r;i++){t(i);const s=Date.now()-n;s>=0&&s<e||(await zy(),n+=s)}}function Ky(r){if(typeof r!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof r}`);return new TextEncoder().encode(r)}function Yi(r){if(typeof r=="string"&&(r=Ky(r)),!(r instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof r})`);return r}class lc{clone(){return this._cloneInto()}}const Wy=r=>Object.prototype.toString.call(r)==="[object Object]"&&r.constructor===Object;function Dx(r,e){if(e!==void 0&&(typeof e!="object"||!Wy(e)))throw new TypeError("Options should be object or undefined");return Object.assign(r,e)}function xo(r){const e=n=>r().update(Yi(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function Hy(r){const e=(n,i)=>r(i).update(Yi(n)).digest(),t=r({});return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=n=>r(n),e}class $x extends lc{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,wt.hash(e);const n=Yi(t);if(this.iHash=e.create(),!(this.iHash instanceof lc))throw new TypeError("Expected instance of class which extends utils.Hash");const i=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;const s=new Uint8Array(i);s.set(n.length>this.iHash.blockLen?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return wt.exists(this),this.iHash.update(e),this}digestInto(e){wt.exists(this),wt.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const ef=(r,e,t)=>new $x(r,e).update(t).digest();ef.create=(r,e)=>new $x(r,e);function Gy(r,e,t,n){wt.hash(r);const i=Dx({dkLen:32,asyncTick:10},n),{c:s,dkLen:o,asyncTick:a}=i;if(wt.number(s),wt.number(o),wt.number(a),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const c=Yi(e),f=Yi(t),l=new Uint8Array(o),h=ef.create(r,c),w=h._cloneInto().update(f);return{c:s,dkLen:o,asyncTick:a,DK:l,PRF:h,PRFSalt:w}}function qy(r,e,t,n,i){return r.destroy(),e.destroy(),n&&n.destroy(),i.fill(0),t}function Cl(r,e,t,n){const{c:i,dkLen:s,DK:o,PRF:a,PRFSalt:c}=Gy(r,e,t,n);let f;const l=new Uint8Array(4),h=Va(l),w=new Uint8Array(a.outputLen);for(let b=1,m=0;m<s;b++,m+=a.outputLen){const k=o.subarray(m,m+a.outputLen);h.setInt32(0,b,!1),(f=c._cloneInto(f)).update(l).digestInto(w),k.set(w.subarray(0,k.length));for(let S=1;S<i;S++){a._cloneInto(f).update(w).digestInto(w);for(let A=0;A<k.length;A++)k[A]^=w[A]}}return qy(a,c,o,f,w)}function Vy(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(t>>i&s),a=Number(t&s),c=n?4:0,f=n?0:4;r.setUint32(e+c,o,n),r.setUint32(e+f,a,n)}class Ml extends lc{constructor(e,t,n,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Va(this.buffer)}update(e){wt.exists(this);const{view:t,buffer:n,blockLen:i}=this;e=Yi(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=Va(e);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){wt.exists(this),wt.output(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let c=o;c<i;c++)t[c]=0;Vy(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=Va(e);this.get().forEach((c,f)=>a.setUint32(4*f,c,s))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%t&&e.buffer.set(n),e}}const jy=(r,e,t)=>r&e^~r&t,Yy=(r,e,t)=>r&e^r&t^e&t,Jy=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ii=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),si=new Uint32Array(64);class Zy extends Ml{constructor(){super(64,32,8,!1),this.A=ii[0]|0,this.B=ii[1]|0,this.C=ii[2]|0,this.D=ii[3]|0,this.E=ii[4]|0,this.F=ii[5]|0,this.G=ii[6]|0,this.H=ii[7]|0}get(){const{A:e,B:t,C:n,D:i,E:s,F:o,G:a,H:c}=this;return[e,t,n,i,s,o,a,c]}set(e,t,n,i,s,o,a,c){this.A=e|0,this.B=t|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let h=0;h<16;h++,t+=4)si[h]=e.getUint32(t,!1);for(let h=16;h<64;h++){const w=si[h-15],b=si[h-2],m=In(w,7)^In(w,18)^w>>>3,k=In(b,17)^In(b,19)^b>>>10;si[h]=k+si[h-7]+m+si[h-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:c,G:f,H:l}=this;for(let h=0;h<64;h++){const w=In(a,6)^In(a,11)^In(a,25),b=l+w+jy(a,c,f)+Jy[h]+si[h]|0,k=(In(n,2)^In(n,13)^In(n,22))+Yy(n,i,s)|0;l=f,f=c,c=a,a=o+b|0,o=s,s=i,i=n,n=b+k|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,f=f+this.G|0,l=l+this.H|0,this.set(n,i,s,o,a,c,f,l)}roundClean(){si.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Ri=xo(()=>new Zy),Ra=BigInt(2**32-1),Qu=BigInt(32);function zx(r,e=!1){return e?{h:Number(r&Ra),l:Number(r>>Qu&Ra)}:{h:Number(r>>Qu&Ra)|0,l:Number(r&Ra)|0}}function Xy(r,e=!1){let t=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let i=0;i<r.length;i++){const{h:s,l:o}=zx(r[i],e);[t[i],n[i]]=[s,o]}return[t,n]}const Qy=(r,e)=>BigInt(r>>>0)<<Qu|BigInt(e>>>0),em=(r,e,t)=>r>>>t,tm=(r,e,t)=>r<<32-t|e>>>t,rm=(r,e,t)=>r>>>t|e<<32-t,nm=(r,e,t)=>r<<32-t|e>>>t,im=(r,e,t)=>r<<64-t|e>>>t-32,sm=(r,e,t)=>r>>>t-32|e<<64-t,om=(r,e)=>e,am=(r,e)=>r,cm=(r,e,t)=>r<<t|e>>>32-t,fm=(r,e,t)=>e<<t|r>>>32-t,um=(r,e,t)=>e<<t-32|r>>>64-t,lm=(r,e,t)=>r<<t-32|e>>>64-t;function dm(r,e,t,n){const i=(e>>>0)+(n>>>0);return{h:r+t+(i/2**32|0)|0,l:i|0}}const hm=(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0),pm=(r,e,t,n)=>e+t+n+(r/2**32|0)|0,xm=(r,e,t,n)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0),gm=(r,e,t,n,i)=>e+t+n+i+(r/2**32|0)|0,bm=(r,e,t,n,i)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0)+(i>>>0),ym=(r,e,t,n,i,s)=>e+t+n+i+s+(r/2**32|0)|0,Re={fromBig:zx,split:Xy,toBig:Qy,shrSH:em,shrSL:tm,rotrSH:rm,rotrSL:nm,rotrBH:im,rotrBL:sm,rotr32H:om,rotr32L:am,rotlSH:cm,rotlSL:fm,rotlBH:um,rotlBL:lm,add:dm,add3L:hm,add3H:pm,add4L:xm,add4H:gm,add5H:ym,add5L:bm},[mm,wm]=Re.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),oi=new Uint32Array(80),ai=new Uint32Array(80);class Ul extends Ml{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:f,El:l,Fh:h,Fl:w,Gh:b,Gl:m,Hh:k,Hl:S}=this;return[e,t,n,i,s,o,a,c,f,l,h,w,b,m,k,S]}set(e,t,n,i,s,o,a,c,f,l,h,w,b,m,k,S){this.Ah=e|0,this.Al=t|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=f|0,this.El=l|0,this.Fh=h|0,this.Fl=w|0,this.Gh=b|0,this.Gl=m|0,this.Hh=k|0,this.Hl=S|0}process(e,t){for(let R=0;R<16;R++,t+=4)oi[R]=e.getUint32(t),ai[R]=e.getUint32(t+=4);for(let R=16;R<80;R++){const B=oi[R-15]|0,N=ai[R-15]|0,L=Re.rotrSH(B,N,1)^Re.rotrSH(B,N,8)^Re.shrSH(B,N,7),$=Re.rotrSL(B,N,1)^Re.rotrSL(B,N,8)^Re.shrSL(B,N,7),K=oi[R-2]|0,Y=ai[R-2]|0,J=Re.rotrSH(K,Y,19)^Re.rotrBH(K,Y,61)^Re.shrSH(K,Y,6),q=Re.rotrSL(K,Y,19)^Re.rotrBL(K,Y,61)^Re.shrSL(K,Y,6),re=Re.add4L($,q,ai[R-7],ai[R-16]),v=Re.add4H(re,L,J,oi[R-7],oi[R-16]);oi[R]=v|0,ai[R]=re|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:f,Dl:l,Eh:h,El:w,Fh:b,Fl:m,Gh:k,Gl:S,Hh:A,Hl:O}=this;for(let R=0;R<80;R++){const B=Re.rotrSH(h,w,14)^Re.rotrSH(h,w,18)^Re.rotrBH(h,w,41),N=Re.rotrSL(h,w,14)^Re.rotrSL(h,w,18)^Re.rotrBL(h,w,41),L=h&b^~h&k,$=w&m^~w&S,K=Re.add5L(O,N,$,wm[R],ai[R]),Y=Re.add5H(K,A,B,L,mm[R],oi[R]),J=K|0,q=Re.rotrSH(n,i,28)^Re.rotrBH(n,i,34)^Re.rotrBH(n,i,39),re=Re.rotrSL(n,i,28)^Re.rotrBL(n,i,34)^Re.rotrBL(n,i,39),v=n&s^n&a^s&a,u=i&o^i&c^o&c;A=k|0,O=S|0,k=b|0,S=m|0,b=h|0,m=w|0,{h,l:w}=Re.add(f|0,l|0,Y|0,J|0),f=a|0,l=c|0,a=s|0,c=o|0,s=n|0,o=i|0;const x=Re.add3L(J,re,u);n=Re.add3H(x,Y,q,v),i=x|0}({h:n,l:i}=Re.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=Re.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=Re.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:f,l}=Re.add(this.Dh|0,this.Dl|0,f|0,l|0),{h,l:w}=Re.add(this.Eh|0,this.El|0,h|0,w|0),{h:b,l:m}=Re.add(this.Fh|0,this.Fl|0,b|0,m|0),{h:k,l:S}=Re.add(this.Gh|0,this.Gl|0,k|0,S|0),{h:A,l:O}=Re.add(this.Hh|0,this.Hl|0,A|0,O|0),this.set(n,i,s,o,a,c,f,l,h,w,b,m,k,S,A,O)}roundClean(){oi.fill(0),ai.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class vm extends Ul{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class _m extends Ul{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const tf=xo(()=>new Ul);xo(()=>new vm);xo(()=>new _m);function km(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const nd=km(),id=nd.crypto||nd.msCrypto;function Em(r){switch(r){case"sha256":return Ri.create();case"sha512":return tf.create()}Z(!1,"invalid hashing algorithm name","algorithm",r)}function Sm(r,e){const t={sha256:Ri,sha512:tf}[r];return Z(t!=null,"invalid hmac algorithm","algorithm",r),ef.create(t,e)}function Am(r,e,t,n,i){const s={sha256:Ri,sha512:tf}[i];return Z(s!=null,"invalid pbkdf2 algorithm","algorithm",i),Cl(s,r,e,{c:t,dkLen:n})}function Im(r){Fe(id!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),Z(Number.isInteger(r)&&r>0&&r<=1024,"invalid length","length",r);const e=new Uint8Array(r);return id.getRandomValues(e),e}let Kx=!1;const Wx=function(r,e,t){return Sm(r,e).update(t).digest()};let Hx=Wx;function ts(r,e,t){const n=ge(e,"key"),i=ge(t,"data");return ye(Hx(r,n,i))}ts._=Wx;ts.lock=function(){Kx=!0};ts.register=function(r){if(Kx)throw new Error("computeHmac is locked");Hx=r};Object.freeze(ts);const[Gx,qx,Vx]=[[],[],[]],Rm=BigInt(0),Ao=BigInt(1),Tm=BigInt(2),Nm=BigInt(7),Pm=BigInt(256),Bm=BigInt(113);for(let r=0,e=Ao,t=1,n=0;r<24;r++){[t,n]=[n,(2*t+3*n)%5],Gx.push(2*(5*n+t)),qx.push((r+1)*(r+2)/2%64);let i=Rm;for(let s=0;s<7;s++)e=(e<<Ao^(e>>Nm)*Bm)%Pm,e&Tm&&(i^=Ao<<(Ao<<BigInt(s))-Ao);Vx.push(i)}const[Om,Cm]=Re.split(Vx,!0),sd=(r,e,t)=>t>32?Re.rotlBH(r,e,t):Re.rotlSH(r,e,t),od=(r,e,t)=>t>32?Re.rotlBL(r,e,t):Re.rotlSL(r,e,t);function Mm(r,e=24){const t=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)t[o]=r[o]^r[o+10]^r[o+20]^r[o+30]^r[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,f=t[c],l=t[c+1],h=sd(f,l,1)^t[a],w=od(f,l,1)^t[a+1];for(let b=0;b<50;b+=10)r[o+b]^=h,r[o+b+1]^=w}let i=r[2],s=r[3];for(let o=0;o<24;o++){const a=qx[o],c=sd(i,s,a),f=od(i,s,a),l=Gx[o];i=r[l],s=r[l+1],r[l]=c,r[l+1]=f}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=r[o+a];for(let a=0;a<10;a++)r[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}r[0]^=Om[n],r[1]^=Cm[n]}t.fill(0)}class rf extends lc{constructor(e,t,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,wt.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=qa(this.state)}keccak(){Mm(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){wt.exists(this);const{blockLen:t,state:n}=this;e=Yi(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(t-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:i}=this;e[n]^=t,t&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){wt.exists(this,!1),wt.bytes(e),this.finish();const t=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(t.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return wt.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(wt.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new rf(t,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const Pi=(r,e,t)=>xo(()=>new rf(e,r,t));Pi(6,144,224/8);Pi(6,136,256/8);Pi(6,104,384/8);Pi(6,72,512/8);Pi(1,144,224/8);const el=Pi(1,136,256/8);Pi(1,104,384/8);Pi(1,72,512/8);const jx=(r,e,t)=>Hy((n={})=>new rf(e,r,n.dkLen===void 0?t:n.dkLen,!0));jx(31,168,128/8);jx(31,136,256/8);let Yx=!1;const Jx=function(r){return el(r)};let Zx=Jx;function Ot(r){const e=ge(r,"data");return ye(Zx(e))}Ot._=Jx;Ot.lock=function(){Yx=!0};Ot.register=function(r){if(Yx)throw new TypeError("keccak256 is locked");Zx=r};Object.freeze(Ot);const Um=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Xx=Uint8Array.from({length:16},(r,e)=>e),Lm=Xx.map(r=>(9*r+5)%16);let Ll=[Xx],Fl=[Lm];for(let r=0;r<4;r++)for(let e of[Ll,Fl])e.push(e[r].map(t=>Um[t]));const Qx=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(r=>new Uint8Array(r)),Fm=Ll.map((r,e)=>r.map(t=>Qx[e][t])),Dm=Fl.map((r,e)=>r.map(t=>Qx[e][t])),$m=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),zm=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),Ta=(r,e)=>r<<e|r>>>32-e;function ad(r,e,t,n){return r===0?e^t^n:r===1?e&t|~e&n:r===2?(e|~t)^n:r===3?e&n|t&~n:e^(t|~n)}const Na=new Uint32Array(16);class Km extends Ml{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:n,h3:i,h4:s}=this;return[e,t,n,i,s]}set(e,t,n,i,s){this.h0=e|0,this.h1=t|0,this.h2=n|0,this.h3=i|0,this.h4=s|0}process(e,t){for(let b=0;b<16;b++,t+=4)Na[b]=e.getUint32(t,!0);let n=this.h0|0,i=n,s=this.h1|0,o=s,a=this.h2|0,c=a,f=this.h3|0,l=f,h=this.h4|0,w=h;for(let b=0;b<5;b++){const m=4-b,k=$m[b],S=zm[b],A=Ll[b],O=Fl[b],R=Fm[b],B=Dm[b];for(let N=0;N<16;N++){const L=Ta(n+ad(b,s,a,f)+Na[A[N]]+k,R[N])+h|0;n=h,h=f,f=Ta(a,10)|0,a=s,s=L}for(let N=0;N<16;N++){const L=Ta(i+ad(m,o,c,l)+Na[O[N]]+S,B[N])+w|0;i=w,w=l,l=Ta(c,10)|0,c=o,o=L}}this.set(this.h1+a+l|0,this.h2+f+w|0,this.h3+h+i|0,this.h4+n+o|0,this.h0+s+c|0)}roundClean(){Na.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const Wm=xo(()=>new Km);let e1=!1;const t1=function(r){return Wm(r)};let r1=t1;function go(r){const e=ge(r,"data");return ye(r1(e))}go._=t1;go.lock=function(){e1=!0};go.register=function(r){if(e1)throw new TypeError("ripemd160 is locked");r1=r};Object.freeze(go);let n1=!1;const i1=function(r,e,t,n,i){return Am(r,e,t,n,i)};let s1=i1;function Bi(r,e,t,n,i){const s=ge(r,"password"),o=ge(e,"salt");return ye(s1(s,o,t,n,i))}Bi._=i1;Bi.lock=function(){n1=!0};Bi.register=function(r){if(n1)throw new Error("pbkdf2 is locked");s1=r};Object.freeze(Bi);let o1=!1;const a1=function(r){return new Uint8Array(Im(r))};let c1=a1;function ri(r){return c1(r)}ri._=a1;ri.lock=function(){o1=!0};ri.register=function(r){if(o1)throw new Error("randomBytes is locked");c1=r};Object.freeze(ri);const qe=(r,e)=>r<<e|r>>>32-e;function cd(r,e,t,n,i,s){let o=r[e++]^t[n++],a=r[e++]^t[n++],c=r[e++]^t[n++],f=r[e++]^t[n++],l=r[e++]^t[n++],h=r[e++]^t[n++],w=r[e++]^t[n++],b=r[e++]^t[n++],m=r[e++]^t[n++],k=r[e++]^t[n++],S=r[e++]^t[n++],A=r[e++]^t[n++],O=r[e++]^t[n++],R=r[e++]^t[n++],B=r[e++]^t[n++],N=r[e++]^t[n++],L=o,$=a,K=c,Y=f,J=l,q=h,re=w,v=b,u=m,x=k,y=S,E=A,P=O,M=R,D=B,I=N;for(let g=0;g<8;g+=2)J^=qe(L+P|0,7),u^=qe(J+L|0,9),P^=qe(u+J|0,13),L^=qe(P+u|0,18),x^=qe(q+$|0,7),M^=qe(x+q|0,9),$^=qe(M+x|0,13),q^=qe($+M|0,18),D^=qe(y+re|0,7),K^=qe(D+y|0,9),re^=qe(K+D|0,13),y^=qe(re+K|0,18),Y^=qe(I+E|0,7),v^=qe(Y+I|0,9),E^=qe(v+Y|0,13),I^=qe(E+v|0,18),$^=qe(L+Y|0,7),K^=qe($+L|0,9),Y^=qe(K+$|0,13),L^=qe(Y+K|0,18),re^=qe(q+J|0,7),v^=qe(re+q|0,9),J^=qe(v+re|0,13),q^=qe(J+v|0,18),E^=qe(y+x|0,7),u^=qe(E+y|0,9),x^=qe(u+E|0,13),y^=qe(x+u|0,18),P^=qe(I+D|0,7),M^=qe(P+I|0,9),D^=qe(M+P|0,13),I^=qe(D+M|0,18);i[s++]=o+L|0,i[s++]=a+$|0,i[s++]=c+K|0,i[s++]=f+Y|0,i[s++]=l+J|0,i[s++]=h+q|0,i[s++]=w+re|0,i[s++]=b+v|0,i[s++]=m+u|0,i[s++]=k+x|0,i[s++]=S+y|0,i[s++]=A+E|0,i[s++]=O+P|0,i[s++]=R+M|0,i[s++]=B+D|0,i[s++]=N+I|0}function As(r,e,t,n,i){let s=n+0,o=n+16*i;for(let a=0;a<16;a++)t[o+a]=r[e+(2*i-1)*16+a];for(let a=0;a<i;a++,s+=16,e+=16)cd(t,o,r,e,t,s),a>0&&(o+=16),cd(t,s,r,e+=16,t,o)}function f1(r,e,t){const n=Dx({dkLen:32,asyncTick:10,maxmem:1073742848},t),{N:i,r:s,p:o,dkLen:a,asyncTick:c,maxmem:f,onProgress:l}=n;if(wt.number(i),wt.number(s),wt.number(o),wt.number(a),wt.number(c),wt.number(f),l!==void 0&&typeof l!="function")throw new Error("progressCb should be function");const h=128*s,w=h/4;if(i<=1||i&i-1||i>=2**(h/8)||i>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(o<0||o>(2**32-1)*32/h)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(a<0||a>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const b=h*(i+o);if(b>f)throw new Error(`Scrypt: parameters too large, ${b} (128 * r * (N + p)) > ${f} (maxmem)`);const m=Cl(Ri,r,e,{c:1,dkLen:h*o}),k=qa(m),S=qa(new Uint8Array(h*i)),A=qa(new Uint8Array(h));let O=()=>{};if(l){const R=2*i*o,B=Math.max(Math.floor(R/1e4),1);let N=0;O=()=>{N++,l&&(!(N%B)||N===R)&&l(N/R)}}return{N:i,r:s,p:o,dkLen:a,blockSize32:w,V:S,B32:k,B:m,tmp:A,blockMixCb:O,asyncTick:c}}function u1(r,e,t,n,i){const s=Cl(Ri,r,t,{c:1,dkLen:e});return t.fill(0),n.fill(0),i.fill(0),s}function Hm(r,e,t){const{N:n,r:i,p:s,dkLen:o,blockSize32:a,V:c,B32:f,B:l,tmp:h,blockMixCb:w}=f1(r,e,t);for(let b=0;b<s;b++){const m=a*b;for(let k=0;k<a;k++)c[k]=f[m+k];for(let k=0,S=0;k<n-1;k++)As(c,S,c,S+=a,i),w();As(c,(n-1)*a,f,m,i),w();for(let k=0;k<n;k++){const S=f[m+a-16]%n;for(let A=0;A<a;A++)h[A]=f[m+A]^c[S*a+A];As(h,0,f,m,i),w()}}return u1(r,o,l,c,h)}async function Gm(r,e,t){const{N:n,r:i,p:s,dkLen:o,blockSize32:a,V:c,B32:f,B:l,tmp:h,blockMixCb:w,asyncTick:b}=f1(r,e,t);for(let m=0;m<s;m++){const k=a*m;for(let A=0;A<a;A++)c[A]=f[k+A];let S=0;await rd(n-1,b,A=>{As(c,S,c,S+=a,i),w()}),As(c,(n-1)*a,f,k,i),w(),await rd(n,b,A=>{const O=f[k+a-16]%n;for(let R=0;R<a;R++)h[R]=f[k+R]^c[O*a+R];As(h,0,f,k,i),w()})}return u1(r,o,l,c,h)}let l1=!1,d1=!1;const h1=async function(r,e,t,n,i,s,o){return await Gm(r,e,{N:t,r:n,p:i,dkLen:s,onProgress:o})},p1=function(r,e,t,n,i,s){return Hm(r,e,{N:t,r:n,p:i,dkLen:s})};let x1=h1,g1=p1;async function bo(r,e,t,n,i,s,o){const a=ge(r,"passwd"),c=ge(e,"salt");return ye(await x1(a,c,t,n,i,s,o))}bo._=h1;bo.lock=function(){d1=!0};bo.register=function(r){if(d1)throw new Error("scrypt is locked");x1=r};Object.freeze(bo);function yo(r,e,t,n,i,s){const o=ge(r,"passwd"),a=ge(e,"salt");return ye(g1(o,a,t,n,i,s))}yo._=p1;yo.lock=function(){l1=!0};yo.register=function(r){if(l1)throw new Error("scryptSync is locked");g1=r};Object.freeze(yo);const b1=function(r){return Em("sha256").update(r).digest()};let y1=b1,m1=!1;function kn(r){const e=ge(r,"data");return ye(y1(e))}kn._=b1;kn.lock=function(){m1=!0};kn.register=function(r){if(m1)throw new Error("sha256 is locked");y1=r};Object.freeze(kn);Object.freeze(kn);const qm={},Dl=Object.freeze(Object.defineProperty({__proto__:null,default:qm},Symbol.toStringTag,{value:"Module"}));/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const Ke=BigInt(0),pt=BigInt(1),gi=BigInt(2),Lo=BigInt(3),fd=BigInt(8),Ct=Object.freeze({a:Ke,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:pt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),ud=(r,e)=>(r+e/gi)/e,Pa={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(r){const{n:e}=Ct,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-pt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=t,o=BigInt("0x100000000000000000000000000000000"),a=ud(s*r,e),c=ud(-n*r,e);let f=le(r-a*t-c*i,e),l=le(-a*n-c*s,e);const h=f>o,w=l>o;if(h&&(f=e-f),w&&(l=e-l),f>o||l>o)throw new Error("splitScalarEndo: Endomorphism failed, k="+r);return{k1neg:h,k1:f,k2neg:w,k2:l}}},wn=32,io=32,Vm=32,dc=wn+1,hc=2*wn+1;function ld(r){const{a:e,b:t}=Ct,n=le(r*r),i=le(n*r);return le(i+e*r+t)}const Ba=Ct.a===Ke;class w1 extends Error{constructor(e){super(e)}}function dd(r){if(!(r instanceof Je))throw new TypeError("JacobianPoint expected")}class Je{constructor(e,t,n){this.x=e,this.y=t,this.z=n}static fromAffine(e){if(!(e instanceof Nt))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(Nt.ZERO)?Je.ZERO:new Je(e.x,e.y,pt)}static toAffineBatch(e){const t=Xm(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(t[i]))}static normalizeZ(e){return Je.toAffineBatch(e).map(Je.fromAffine)}equals(e){dd(e);const{x:t,y:n,z:i}=this,{x:s,y:o,z:a}=e,c=le(i*i),f=le(a*a),l=le(t*f),h=le(s*c),w=le(le(n*a)*f),b=le(le(o*i)*c);return l===h&&w===b}negate(){return new Je(this.x,le(-this.y),this.z)}double(){const{x:e,y:t,z:n}=this,i=le(e*e),s=le(t*t),o=le(s*s),a=e+s,c=le(gi*(le(a*a)-i-o)),f=le(Lo*i),l=le(f*f),h=le(l-gi*c),w=le(f*(c-h)-fd*o),b=le(gi*t*n);return new Je(h,w,b)}add(e){dd(e);const{x:t,y:n,z:i}=this,{x:s,y:o,z:a}=e;if(s===Ke||o===Ke)return this;if(t===Ke||n===Ke)return e;const c=le(i*i),f=le(a*a),l=le(t*f),h=le(s*c),w=le(le(n*a)*f),b=le(le(o*i)*c),m=le(h-l),k=le(b-w);if(m===Ke)return k===Ke?this.double():Je.ZERO;const S=le(m*m),A=le(m*S),O=le(l*S),R=le(k*k-A-gi*O),B=le(k*(O-R)-w*A),N=le(i*a*m);return new Je(R,B,N)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){const t=Je.ZERO;if(typeof e=="bigint"&&e===Ke)return t;let n=xd(e);if(n===pt)return this;if(!Ba){let h=t,w=this;for(;n>Ke;)n&pt&&(h=h.add(w)),w=w.double(),n>>=pt;return h}let{k1neg:i,k1:s,k2neg:o,k2:a}=Pa.splitScalar(n),c=t,f=t,l=this;for(;s>Ke||a>Ke;)s&pt&&(c=c.add(l)),a&pt&&(f=f.add(l)),l=l.double(),s>>=pt,a>>=pt;return i&&(c=c.negate()),o&&(f=f.negate()),f=new Je(le(f.x*Pa.beta),f.y,f.z),c.add(f)}precomputeWindow(e){const t=Ba?128/e+1:256/e+1,n=[];let i=this,s=i;for(let o=0;o<t;o++){s=i,n.push(s);for(let a=1;a<2**(e-1);a++)s=s.add(i),n.push(s);i=s.double()}return n}wNAF(e,t){!t&&this.equals(Je.BASE)&&(t=Nt.BASE);const n=t&&t._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=t&&tl.get(t);i||(i=this.precomputeWindow(n),t&&n!==1&&(i=Je.normalizeZ(i),tl.set(t,i)));let s=Je.ZERO,o=Je.BASE;const a=1+(Ba?128/n:256/n),c=2**(n-1),f=BigInt(2**n-1),l=2**n,h=BigInt(n);for(let w=0;w<a;w++){const b=w*c;let m=Number(e&f);e>>=h,m>c&&(m-=l,e+=pt);const k=b,S=b+Math.abs(m)-1,A=w%2!==0,O=m<0;m===0?o=o.add(Oa(A,i[k])):s=s.add(Oa(O,i[S]))}return{p:s,f:o}}multiply(e,t){let n=xd(e),i,s;if(Ba){const{k1neg:o,k1:a,k2neg:c,k2:f}=Pa.splitScalar(n);let{p:l,f:h}=this.wNAF(a,t),{p:w,f:b}=this.wNAF(f,t);l=Oa(o,l),w=Oa(c,w),w=new Je(le(w.x*Pa.beta),w.y,w.z),i=l.add(w),s=h.add(b)}else{const{p:o,f:a}=this.wNAF(n,t);i=o,s=a}return Je.normalizeZ([i,s])[0]}toAffine(e){const{x:t,y:n,z:i}=this,s=this.equals(Je.ZERO);e==null&&(e=s?fd:da(i));const o=e,a=le(o*o),c=le(a*o),f=le(t*a),l=le(n*c),h=le(i*o);if(s)return Nt.ZERO;if(h!==pt)throw new Error("invZ was invalid");return new Nt(f,l)}}Je.BASE=new Je(Ct.Gx,Ct.Gy,pt);Je.ZERO=new Je(Ke,pt,Ke);function Oa(r,e){const t=e.negate();return r?t:e}const tl=new WeakMap;let Nt=class fi{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,tl.delete(this)}hasEvenY(){return this.y%gi===Ke}static fromCompressedHex(e){const t=e.length===32,n=mi(t?e:e.subarray(1));if(!Xf(n))throw new Error("Point is not on curve");const i=ld(n);let s=Zm(i);const o=(s&pt)===pt;t?o&&(s=le(-s)):(e[0]&1)===1!==o&&(s=le(-s));const a=new fi(n,s);return a.assertValidity(),a}static fromUncompressedHex(e){const t=mi(e.subarray(1,wn+1)),n=mi(e.subarray(wn+1,wn*2+1)),i=new fi(t,n);return i.assertValidity(),i}static fromHex(e){const t=jo(e),n=t.length,i=t[0];if(n===wn)return this.fromCompressedHex(t);if(n===dc&&(i===2||i===3))return this.fromCompressedHex(t);if(n===hc&&i===4)return this.fromUncompressedHex(t);throw new Error(`Point.fromHex: received invalid point. Expected 32-${dc} compressed bytes or ${hc} uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return fi.BASE.multiply(Jo(e))}static fromSignature(e,t,n){const{r:i,s}=n2(t);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");const o=v1(jo(e)),{n:a}=Ct,c=n===2||n===3?i+a:i,f=da(c,a),l=le(-o*f,a),h=le(s*f,a),w=n&1?"03":"02",b=fi.fromHex(w+Rs(c)),m=fi.BASE.multiplyAndAddUnsafe(b,l,h);if(!m)throw new Error("Cannot recover signature: point at infinify");return m.assertValidity(),m}toRawBytes(e=!1){return qi(this.toHex(e))}toHex(e=!1){const t=Rs(this.x);return e?`${this.hasEvenY()?"02":"03"}${t}`:`04${t}${Rs(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const e="Point is not on elliptic curve",{x:t,y:n}=this;if(!Xf(t)||!Xf(n))throw new Error(e);const i=le(n*n),s=ld(t);if(le(i-s)!==Ke)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new fi(this.x,le(-this.y))}double(){return Je.fromAffine(this).double().toAffine()}add(e){return Je.fromAffine(this).add(Je.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Je.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,t,n){const i=Je.fromAffine(this),s=t===Ke||t===pt||this!==fi.BASE?i.multiplyUnsafe(t):i.multiply(t),o=Je.fromAffine(e).multiplyUnsafe(n),a=s.add(o);return a.equals(Je.ZERO)?void 0:a.toAffine()}};Nt.BASE=new Nt(Ct.Gx,Ct.Gy);Nt.ZERO=new Nt(Ke,Ke);function hd(r){return Number.parseInt(r[0],16)>=8?"00"+r:r}function pd(r){if(r.length<2||r[0]!==2)throw new Error(`Invalid signature integer tag: ${so(r)}`);const e=r[1],t=r.subarray(2,e+2);if(!e||t.length!==e)throw new Error("Invalid signature integer: wrong length");if(t[0]===0&&t[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:mi(t),left:r.subarray(e+2)}}function jm(r){if(r.length<2||r[0]!=48)throw new Error(`Invalid signature tag: ${so(r)}`);if(r[1]!==r.length-2)throw new Error("Invalid signature: incorrect length");const{data:e,left:t}=pd(r.subarray(2)),{data:n,left:i}=pd(t);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${so(i)}`);return{r:e,s:n}}let Is=class ja{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromCompact(e){const t=e instanceof Uint8Array,n="Signature.fromCompact";if(typeof e!="string"&&!t)throw new TypeError(`${n}: Expected string or Uint8Array`);const i=t?so(e):e;if(i.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new ja(pc(i.slice(0,64)),pc(i.slice(64,128)))}static fromDER(e){const t=e instanceof Uint8Array;if(typeof e!="string"&&!t)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:n,s:i}=jm(t?e:qi(e));return new ja(n,i)}static fromHex(e){return this.fromDER(e)}assertValidity(){const{r:e,s:t}=this;if(!Yo(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!Yo(t))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const e=Ct.n>>pt;return this.s>e}normalizeS(){return this.hasHighS()?new ja(this.r,le(-this.s,Ct.n)):this}toDERRawBytes(){return qi(this.toDERHex())}toDERHex(){const e=hd(Io(this.s)),t=hd(Io(this.r)),n=e.length/2,i=t.length/2,s=Io(n),o=Io(i);return`30${Io(i+n+4)}02${o}${t}02${s}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return qi(this.toCompactHex())}toCompactHex(){return Rs(this.r)+Rs(this.s)}};function hi(...r){if(!r.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(r.length===1)return r[0];const e=r.reduce((n,i)=>n+i.length,0),t=new Uint8Array(e);for(let n=0,i=0;n<r.length;n++){const s=r[n];t.set(s,i),i+=s.length}return t}const Ym=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function so(r){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let t=0;t<r.length;t++)e+=Ym[r[t]];return e}const Jm=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Rs(r){if(typeof r!="bigint")throw new Error("Expected bigint");if(!(Ke<=r&&r<Jm))throw new Error("Expected number 0 <= n < 2^256");return r.toString(16).padStart(64,"0")}function rl(r){const e=qi(Rs(r));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}function Io(r){const e=r.toString(16);return e.length&1?`0${e}`:e}function pc(r){if(typeof r!="string")throw new TypeError("hexToNumber: expected string, got "+typeof r);return BigInt(`0x${r}`)}function qi(r){if(typeof r!="string")throw new TypeError("hexToBytes: expected string, got "+typeof r);if(r.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+r.length);const e=new Uint8Array(r.length/2);for(let t=0;t<e.length;t++){const n=t*2,i=r.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[t]=s}return e}function mi(r){return pc(so(r))}function jo(r){return r instanceof Uint8Array?Uint8Array.from(r):qi(r)}function xd(r){if(typeof r=="number"&&Number.isSafeInteger(r)&&r>0)return BigInt(r);if(typeof r=="bigint"&&Yo(r))return r;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function le(r,e=Ct.P){const t=r%e;return t>=Ke?t:e+t}function en(r,e){const{P:t}=Ct;let n=r;for(;e-- >Ke;)n*=n,n%=t;return n}function Zm(r){const{P:e}=Ct,t=BigInt(6),n=BigInt(11),i=BigInt(22),s=BigInt(23),o=BigInt(44),a=BigInt(88),c=r*r*r%e,f=c*c*r%e,l=en(f,Lo)*f%e,h=en(l,Lo)*f%e,w=en(h,gi)*c%e,b=en(w,n)*w%e,m=en(b,i)*b%e,k=en(m,o)*m%e,S=en(k,a)*k%e,A=en(S,o)*m%e,O=en(A,Lo)*f%e,R=en(O,s)*b%e,B=en(R,t)*c%e,N=en(B,gi);if(N*N%e!==r)throw new Error("Cannot find square root");return N}function da(r,e=Ct.P){if(r===Ke||e<=Ke)throw new Error(`invert: expected positive integers, got n=${r} mod=${e}`);let t=le(r,e),n=e,i=Ke,s=pt;for(;t!==Ke;){const a=n/t,c=n%t,f=i-s*a;n=t,t=c,i=s,s=f}if(n!==pt)throw new Error("invert: does not exist");return le(i,e)}function Xm(r,e=Ct.P){const t=new Array(r.length),n=r.reduce((s,o,a)=>o===Ke?s:(t[a]=s,le(s*o,e)),pt),i=da(n,e);return r.reduceRight((s,o,a)=>o===Ke?s:(t[a]=le(s*t[a],e),le(s*o,e)),i),t}function Qm(r){const e=r.length*8-io*8,t=mi(r);return e>0?t>>BigInt(e):t}function v1(r,e=!1){const t=Qm(r);if(e)return t;const{n}=Ct;return t>=n?t-n:t}let Ts,Fo;class e2{constructor(e,t){if(this.hashLen=e,this.qByteLen=t,typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(e).fill(1),this.k=new Uint8Array(e).fill(0),this.counter=0}hmac(...e){return Un.hmacSha256(this.k,...e)}hmacSync(...e){return Fo(this.k,...e)}checkSync(){if(typeof Fo!="function")throw new w1("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),e.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),e.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){this.incr();let e=0;const t=[];for(;e<this.qByteLen;){this.v=await this.hmac(this.v);const n=this.v.slice();t.push(n),e+=this.v.length}return hi(...t)}generateSync(){this.checkSync(),this.incr();let e=0;const t=[];for(;e<this.qByteLen;){this.v=this.hmacSync(this.v);const n=this.v.slice();t.push(n),e+=this.v.length}return hi(...t)}}function Yo(r){return Ke<r&&r<Ct.n}function Xf(r){return Ke<r&&r<Ct.P}function t2(r,e,t,n=!0){const{n:i}=Ct,s=v1(r,!0);if(!Yo(s))return;const o=da(s,i),a=Nt.BASE.multiply(s),c=le(a.x,i);if(c===Ke)return;const f=le(o*le(e+t*c,i),i);if(f===Ke)return;let l=new Is(c,f),h=(a.x===l.r?0:2)|Number(a.y&pt);return n&&l.hasHighS()&&(l=l.normalizeS(),h^=1),{sig:l,recovery:h}}function Jo(r){let e;if(typeof r=="bigint")e=r;else if(typeof r=="number"&&Number.isSafeInteger(r)&&r>0)e=BigInt(r);else if(typeof r=="string"){if(r.length!==2*io)throw new Error("Expected 32 bytes of private key");e=pc(r)}else if(r instanceof Uint8Array){if(r.length!==io)throw new Error("Expected 32 bytes of private key");e=mi(r)}else throw new TypeError("Expected valid private key");if(!Yo(e))throw new Error("Expected private key: 0 < key < n");return e}function r2(r){return r instanceof Nt?(r.assertValidity(),r):Nt.fromHex(r)}function n2(r){if(r instanceof Is)return r.assertValidity(),r;try{return Is.fromDER(r)}catch{return Is.fromCompact(r)}}function _1(r,e=!1){return Nt.fromPrivateKey(r).toRawBytes(e)}function i2(r,e,t,n=!1){return Nt.fromSignature(r,e,t).toRawBytes(n)}function gd(r){const e=r instanceof Uint8Array,t=typeof r=="string",n=(e||t)&&r.length;return e?n===dc||n===hc:t?n===dc*2||n===hc*2:r instanceof Nt}function s2(r,e,t=!1){if(gd(r))throw new TypeError("getSharedSecret: first arg must be private key");if(!gd(e))throw new TypeError("getSharedSecret: second arg must be public key");const n=r2(e);return n.assertValidity(),n.multiply(Jo(r)).toRawBytes(t)}function k1(r){const e=r.length>wn?r.slice(0,wn):r;return mi(e)}function o2(r){const e=k1(r),t=le(e,Ct.n);return E1(t<Ke?e:t)}function E1(r){return rl(r)}function a2(r,e,t){if(r==null)throw new Error(`sign: expected valid message hash, not "${r}"`);const n=jo(r),i=Jo(e),s=[E1(i),o2(n)];if(t!=null){t===!0&&(t=Un.randomBytes(wn));const c=jo(t);if(c.length!==wn)throw new Error(`sign: Expected ${wn} bytes of extra data`);s.push(c)}const o=hi(...s),a=k1(n);return{seed:o,m:a,d:i}}function c2(r,e){const{sig:t,recovery:n}=r,{der:i,recovered:s}=Object.assign({canonical:!0,der:!0},e),o=i?t.toDERRawBytes():t.toCompactRawBytes();return s?[o,n]:o}function S1(r,e,t={}){const{seed:n,m:i,d:s}=a2(r,e,t.extraEntropy),o=new e2(Vm,io);o.reseedSync(n);let a;for(;!(a=t2(o.generateSync(),i,s,t.canonical));)o.reseedSync();return c2(a,t)}Nt.BASE._setWindowSize(8);const Gr={node:Dl,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Ca={},Un={bytesToHex:so,hexToBytes:qi,concatBytes:hi,mod:le,invert:da,isValidPrivateKey(r){try{return Jo(r),!0}catch{return!1}},_bigintTo32Bytes:rl,_normalizePrivateKey:Jo,hashToPrivateKey:r=>{r=jo(r);const e=io+8;if(r.length<e||r.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");const t=le(mi(r),Ct.n-pt)+pt;return rl(t)},randomBytes:(r=32)=>{if(Gr.web)return Gr.web.getRandomValues(new Uint8Array(r));if(Gr.node){const{randomBytes:e}=Gr.node;return Uint8Array.from(e(r))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Un.hashToPrivateKey(Un.randomBytes(io+8)),precompute(r=8,e=Nt.BASE){const t=e===Nt.BASE?e:new Nt(e.x,e.y);return t._setWindowSize(r),t.multiply(Lo),t},sha256:async(...r)=>{if(Gr.web){const e=await Gr.web.subtle.digest("SHA-256",hi(...r));return new Uint8Array(e)}else if(Gr.node){const{createHash:e}=Gr.node,t=e("sha256");return r.forEach(n=>t.update(n)),Uint8Array.from(t.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(r,...e)=>{if(Gr.web){const t=await Gr.web.subtle.importKey("raw",r,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=hi(...e),i=await Gr.web.subtle.sign("HMAC",t,n);return new Uint8Array(i)}else if(Gr.node){const{createHmac:t}=Gr.node,n=t("sha256",r);return e.forEach(i=>n.update(i)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(r,...e)=>{let t=Ca[r];if(t===void 0){const n=await Un.sha256(Uint8Array.from(r,i=>i.charCodeAt(0)));t=hi(n,n),Ca[r]=t}return Un.sha256(t,...e)},taggedHashSync:(r,...e)=>{if(typeof Ts!="function")throw new w1("sha256Sync is undefined, you need to set it");let t=Ca[r];if(t===void 0){const n=Ts(Uint8Array.from(r,i=>i.charCodeAt(0)));t=hi(n,n),Ca[r]=t}return Ts(t,...e)},_JacobianPoint:Je};Object.defineProperties(Un,{sha256Sync:{configurable:!1,get(){return Ts},set(r){Ts||(Ts=r)}},hmacSha256Sync:{configurable:!1,get(){return Fo},set(r){Fo||(Fo=r)}}});const bd="0x0000000000000000000000000000000000000000000000000000000000000000",f2=`Ethereum Signed Message:
`,yd=BigInt(0),md=BigInt(1),wd=BigInt(2),vd=BigInt(27),_d=BigInt(28),Ma=BigInt(35),cs={};function kd(r){return ro(hn(r),32)}var Ms,Us,Ls,Ki,Vr;let Ji=(Vr=class{constructor(e,t,n,i){Ye(this,Ms,void 0);Ye(this,Us,void 0);Ye(this,Ls,void 0);Ye(this,Ki,void 0);Qc(e,cs,"Signature"),Ae(this,Ms,t),Ae(this,Us,n),Ae(this,Ls,i),Ae(this,Ki,null)}get r(){return Me(this,Ms)}set r(e){Z(Uo(e)===32,"invalid r","value",e),Ae(this,Ms,ye(e))}get s(){return Me(this,Us)}set s(e){Z(Uo(e)===32,"invalid s","value",e);const t=ye(e);Z(parseInt(t.substring(0,3))<8,"non-canonical s","value",t),Ae(this,Us,t)}get v(){return Me(this,Ls)}set v(e){const t=Dn(e,"value");Z(t===27||t===28,"invalid v","v",e),Ae(this,Ls,t)}get networkV(){return Me(this,Ki)}get legacyChainId(){const e=this.networkV;return e==null?null:Vr.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=ge(this.s);return this.yParity&&(e[0]|=128),ye(e)}get compactSerialized(){return Er([this.r,this.yParityAndS])}get serialized(){return Er([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new Vr(cs,this.r,this.s,this.v);return this.networkV&&Ae(e,Ki,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const t=Bt(e,"v");return t==vd||t==_d?yd:(Z(t>=Ma,"invalid EIP-155 v","v",e),(t-Ma)/wd)}static getChainIdV(e,t){return Bt(e)*wd+BigInt(35+t-27)}static getNormalizedV(e){const t=Bt(e);return t===yd||t===vd?27:t===md||t===_d?28:(Z(t>=Ma,"invalid v","v",e),t&md?27:28)}static from(e){function t(f,l){Z(f,l,"signature",e)}if(e==null)return new Vr(cs,bd,bd,27);if(typeof e=="string"){const f=ge(e,"signature");if(f.length===64){const l=ye(f.slice(0,32)),h=f.slice(32,64),w=h[0]&128?28:27;return h[0]&=127,new Vr(cs,l,ye(h),w)}if(f.length===65){const l=ye(f.slice(0,32)),h=f.slice(32,64);t((h[0]&128)===0,"non-canonical s");const w=Vr.getNormalizedV(f[64]);return new Vr(cs,l,ye(h),w)}t(!1,"invalid raw signature length")}if(e instanceof Vr)return e.clone();const n=e.r;t(n!=null,"missing r");const i=kd(n),s=function(f,l){if(f!=null)return kd(f);if(l!=null){t(ji(l,32),"invalid yParityAndS");const h=ge(l);return h[0]&=127,ye(h)}t(!1,"missing s")}(e.s,e.yParityAndS);t((ge(s)[0]&128)==0,"non-canonical s");const{networkV:o,v:a}=function(f,l,h){if(f!=null){const w=Bt(f);return{networkV:w>=Ma?w:void 0,v:Vr.getNormalizedV(w)}}if(l!=null)return t(ji(l,32),"invalid yParityAndS"),{v:ge(l)[0]&128?28:27};if(h!=null){switch(h){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),c=new Vr(cs,i,s,a);return o&&Ae(c,Ki,o),t(!("yParity"in e&&e.yParity!==c.yParity),"yParity mismatch"),t(!("yParityAndS"in e&&e.yParityAndS!==c.yParityAndS),"yParityAndS mismatch"),c}},Ms=new WeakMap,Us=new WeakMap,Ls=new WeakMap,Ki=new WeakMap,Vr);Un.hmacSha256Sync=function(r,...e){return ge(ts("sha256",r,Er(e)))};var Yn;const $i=class{constructor(e){Ye(this,Yn,void 0);Z(Uo(e)===32,"invalid private key","privateKey","[REDACTED]"),Ae(this,Yn,ye(e))}get privateKey(){return Me(this,Yn)}get publicKey(){return $i.computePublicKey(Me(this,Yn))}get compressedPublicKey(){return $i.computePublicKey(Me(this,Yn),!0)}sign(e){Z(Uo(e)===32,"invalid digest length","digest",e);const[t,n]=S1(Mi(e),Mi(Me(this,Yn)),{recovered:!0,canonical:!0}),i=Is.fromHex(t);return Ji.from({r:no("0x"+i.r.toString(16),32),s:no("0x"+i.s.toString(16),32),v:n?28:27})}computeSharedSecret(e){const t=$i.computePublicKey(e);return console.log(t),ye(s2(Mi(Me(this,Yn)),ge(t)))}static computePublicKey(e,t){let n=ge(e,"key");if(n.length===32){const s=_1(n,!!t);return ye(s)}if(n.length===64){const s=new Uint8Array(65);s[0]=4,s.set(n,1),n=s}const i=Nt.fromHex(n);return ye(i.toRawBytes(t))}static recoverPublicKey(e,t){Z(Uo(e)===32,"invalid digest length","digest",e);const n=Ji.from(t),i=Is.fromCompact(Mi(Er([n.r,n.s]))).toDERRawBytes(),s=i2(Mi(e),i,n.yParity);return Z(s!=null,"invalid signautre for digest","signature",t),ye(s)}static addPoints(e,t,n){const i=Nt.fromHex($i.computePublicKey(e).substring(2)),s=Nt.fromHex($i.computePublicKey(t).substring(2));return"0x"+i.add(s).toHex(!!n)}};let Fn=$i;Yn=new WeakMap;const u2=BigInt(0),l2=BigInt(36);function Ed(r){r=r.toLowerCase();const e=r.substring(2).split(""),t=new Uint8Array(40);for(let i=0;i<40;i++)t[i]=e[i].charCodeAt(0);const n=ge(Ot(t));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const $l={};for(let r=0;r<10;r++)$l[String(r)]=String(r);for(let r=0;r<26;r++)$l[String.fromCharCode(65+r)]=String(10+r);const Sd=15;function d2(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(n=>$l[n]).join("");for(;e.length>=Sd;){let n=e.substring(0,Sd);e=parseInt(n,10)%97+e.substring(n.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}const h2=function(){const r={};for(let e=0;e<36;e++){const t="0123456789abcdefghijklmnopqrstuvwxyz"[e];r[t]=BigInt(e)}return r}();function p2(r){r=r.toLowerCase();let e=u2;for(let t=0;t<r.length;t++)e=e*l2+h2[r[t]];return e}function Kr(r){if(Z(typeof r=="string","invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/)){r.startsWith("0x")||(r="0x"+r);const e=Ed(r);return Z(!r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===r,"bad address checksum","address",r),e}if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){Z(r.substring(2,4)===d2(r),"bad icap checksum","address",r);let e=p2(r.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return Ed("0x"+e)}Z(!1,"invalid address","address",r)}function x2(r){return r&&typeof r.getAddress=="function"}async function Qf(r,e){const t=await e;return(t==null||t==="0x0000000000000000000000000000000000000000")&&(Fe(typeof r!="string","unconfigured name","UNCONFIGURED_NAME",{value:r}),Z(!1,"invalid AddressLike value; did not resolve to a value address","target",r)),Kr(t)}function xc(r,e){if(typeof r=="string")return r.match(/^0x[0-9a-f]{40}$/i)?Kr(r):(Fe(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Qf(r,e.resolveName(r)));if(x2(r))return Qf(r,r.getAddress());if(r&&typeof r.then=="function")return Qf(r,r);Z(!1,"unsupported addressable value","target",r)}function nf(r){return Ot(Gi(r))}function eu(r,e){return{address:Kr(r),storageKeys:e.map((t,n)=>(Z(ji(t,32),"invalid slot",`storageKeys[${n}]`,t),t.toLowerCase()))}}function sf(r){if(Array.isArray(r))return r.map((t,n)=>Array.isArray(t)?(Z(t.length===2,"invalid slot set",`value[${n}]`,t),eu(t[0],t[1])):(Z(t!=null&&typeof t=="object","invalid address-slot set","value",r),eu(t.address,t.storageKeys)));Z(r!=null&&typeof r=="object","invalid access list","value",r);const e=Object.keys(r).map(t=>{const n=r[t].reduce((i,s)=>(i[s]=!0,i),{});return eu(t,Object.keys(n).sort())});return e.sort((t,n)=>t.address.localeCompare(n.address)),e}function ha(r){let e;return typeof r=="string"?e=Fn.computePublicKey(r,!1):e=r.publicKey,Kr(Ot("0x"+e.substring(4)).substring(26))}function g2(r,e){return ha(Fn.recoverPublicKey(r,e))}const Lr=BigInt(0),b2=BigInt(2),y2=BigInt(27),m2=BigInt(28),w2=BigInt(35),v2=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function zl(r){return r==="0x"?null:Kr(r)}function A1(r,e){try{return sf(r)}catch(t){Z(!1,t.message,e,r)}}function of(r,e){return r==="0x"?0:Dn(r,e)}function Br(r,e){if(r==="0x")return Lr;const t=Bt(r,e);return Z(t<=v2,"value exceeds uint size",e,t),t}function yr(r,e){const t=Bt(r,"value"),n=hn(t);return Z(n.length<=32,"value too large",`tx.${e}`,t),n}function I1(r){return sf(r).map(e=>[e.address,e.storageKeys])}function _2(r){const e=Ol(r);Z(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",r);const t={type:0,nonce:of(e[0],"nonce"),gasPrice:Br(e[1],"gasPrice"),gasLimit:Br(e[2],"gasLimit"),to:zl(e[3]),value:Br(e[4],"value"),data:ye(e[5]),chainId:Lr};if(e.length===6)return t;const n=Br(e[6],"v"),i=Br(e[7],"r"),s=Br(e[8],"s");if(i===Lr&&s===Lr)t.chainId=n;else{let o=(n-w2)/b2;o<Lr&&(o=Lr),t.chainId=o,Z(o!==Lr||n===y2||n===m2,"non-canonical legacy v","v",e[6]),t.signature=Ji.from({r:ro(e[7],32),s:ro(e[8],32),v:n}),t.hash=Ot(r)}return t}function Ad(r,e){const t=[yr(r.nonce||0,"nonce"),yr(r.gasPrice||0,"gasPrice"),yr(r.gasLimit||0,"gasLimit"),r.to!=null?Kr(r.to):"0x",yr(r.value||0,"value"),r.data||"0x"];let n=Lr;if(r.chainId!=Lr)n=Bt(r.chainId,"tx.chainId"),Z(!e||e.networkV==null||e.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",e);else if(r.signature){const s=r.signature.legacyChainId;s!=null&&(n=s)}if(!e)return n!==Lr&&(t.push(hn(n)),t.push("0x"),t.push("0x")),uc(t);let i=BigInt(27+e.yParity);return n!==Lr?i=Ji.getChainIdV(n,e.v):BigInt(e.v)!==i&&Z(!1,"tx.chainId/sig.v mismatch","sig",e),t.push(hn(i)),t.push(hn(e.r)),t.push(hn(e.s)),uc(t)}function R1(r,e,t){let n;try{if(n=of(e[0],"yParity"),n!==0&&n!==1)throw new Error("bad yParity")}catch{Z(!1,"invalid yParity","yParity",e[0])}const i=ro(e[1],32),s=ro(e[2],32),o=Ji.from({r:i,s,yParity:n});r.signature=o}function k2(r){const e=Ol(ge(r).slice(1));Z(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",ye(r));const t=Br(e[2],"maxPriorityFeePerGas"),n=Br(e[3],"maxFeePerGas"),i={type:2,chainId:Br(e[0],"chainId"),nonce:of(e[1],"nonce"),maxPriorityFeePerGas:t,maxFeePerGas:n,gasPrice:null,gasLimit:Br(e[4],"gasLimit"),to:zl(e[5]),value:Br(e[6],"value"),data:ye(e[7]),accessList:A1(e[8],"accessList")};return e.length===9||(i.hash=Ot(r),R1(i,e.slice(9))),i}function Id(r,e){const t=[yr(r.chainId||0,"chainId"),yr(r.nonce||0,"nonce"),yr(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),yr(r.maxFeePerGas||0,"maxFeePerGas"),yr(r.gasLimit||0,"gasLimit"),r.to!=null?Kr(r.to):"0x",yr(r.value||0,"value"),r.data||"0x",I1(r.accessList||[])];return e&&(t.push(yr(e.yParity,"yParity")),t.push(hn(e.r)),t.push(hn(e.s))),Er(["0x02",uc(t)])}function E2(r){const e=Ol(ge(r).slice(1));Z(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",ye(r));const t={type:1,chainId:Br(e[0],"chainId"),nonce:of(e[1],"nonce"),gasPrice:Br(e[2],"gasPrice"),gasLimit:Br(e[3],"gasLimit"),to:zl(e[4]),value:Br(e[5],"value"),data:ye(e[6]),accessList:A1(e[7],"accessList")};return e.length===8||(t.hash=Ot(r),R1(t,e.slice(8))),t}function Rd(r,e){const t=[yr(r.chainId||0,"chainId"),yr(r.nonce||0,"nonce"),yr(r.gasPrice||0,"gasPrice"),yr(r.gasLimit||0,"gasLimit"),r.to!=null?Kr(r.to):"0x",yr(r.value||0,"value"),r.data||"0x",I1(r.accessList||[])];return e&&(t.push(yr(e.yParity,"recoveryParam")),t.push(hn(e.r)),t.push(hn(e.s))),Er(["0x01",uc(t)])}var Jn,Fs,Ds,$s,zs,Ks,Ws,Hs,Gs,qs,Vs,js,On;let T1=(On=class{constructor(){Ye(this,Jn,void 0);Ye(this,Fs,void 0);Ye(this,Ds,void 0);Ye(this,$s,void 0);Ye(this,zs,void 0);Ye(this,Ks,void 0);Ye(this,Ws,void 0);Ye(this,Hs,void 0);Ye(this,Gs,void 0);Ye(this,qs,void 0);Ye(this,Vs,void 0);Ye(this,js,void 0);Ae(this,Jn,null),Ae(this,Fs,null),Ae(this,$s,0),Ae(this,zs,BigInt(0)),Ae(this,Ks,null),Ae(this,Ws,null),Ae(this,Hs,null),Ae(this,Ds,"0x"),Ae(this,Gs,BigInt(0)),Ae(this,qs,BigInt(0)),Ae(this,Vs,null),Ae(this,js,null)}get type(){return Me(this,Jn)}set type(e){switch(e){case null:Ae(this,Jn,null);break;case 0:case"legacy":Ae(this,Jn,0);break;case 1:case"berlin":case"eip-2930":Ae(this,Jn,1);break;case 2:case"london":case"eip-1559":Ae(this,Jn,2);break;default:Z(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559"}return null}get to(){return Me(this,Fs)}set to(e){Ae(this,Fs,e==null?null:Kr(e))}get nonce(){return Me(this,$s)}set nonce(e){Ae(this,$s,Dn(e,"value"))}get gasLimit(){return Me(this,zs)}set gasLimit(e){Ae(this,zs,Bt(e))}get gasPrice(){const e=Me(this,Ks);return e==null&&(this.type===0||this.type===1)?Lr:e}set gasPrice(e){Ae(this,Ks,e==null?null:Bt(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=Me(this,Ws);return e??(this.type===2?Lr:null)}set maxPriorityFeePerGas(e){Ae(this,Ws,e==null?null:Bt(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=Me(this,Hs);return e??(this.type===2?Lr:null)}set maxFeePerGas(e){Ae(this,Hs,e==null?null:Bt(e,"maxFeePerGas"))}get data(){return Me(this,Ds)}set data(e){Ae(this,Ds,ye(e))}get value(){return Me(this,Gs)}set value(e){Ae(this,Gs,Bt(e,"value"))}get chainId(){return Me(this,qs)}set chainId(e){Ae(this,qs,Bt(e))}get signature(){return Me(this,Vs)||null}set signature(e){Ae(this,Vs,e==null?null:Ji.from(e))}get accessList(){const e=Me(this,js)||null;return e??(this.type===1||this.type===2?[]:null)}set accessList(e){Ae(this,js,e==null?null:sf(e))}get hash(){return this.signature==null?null:Ot(this.serialized)}get unsignedHash(){return Ot(this.unsignedSerialized)}get from(){return this.signature==null?null:g2(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:Fn.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){switch(Fe(this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"}),this.inferType()){case 0:return Ad(this,this.signature);case 1:return Rd(this,this.signature);case 2:return Id(this,this.signature)}Fe(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get unsignedSerialized(){switch(this.inferType()){case 0:return Ad(this);case 1:return Rd(this);case 2:return Id(this)}Fe(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".unsignedSerialized"})}inferType(){return this.inferTypes().pop()}inferTypes(){const e=this.gasPrice!=null,t=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&Fe(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),Fe(!t||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),Fe(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return this.type!=null?i.push(this.type):t?i.push(2):e?(i.push(1),n||i.push(0)):n?(i.push(1),i.push(2)):(i.push(0),i.push(1),i.push(2)),i.sort(),i}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}clone(){return On.from(this)}toJSON(){const e=t=>t==null?null:t.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new On;if(typeof e=="string"){const n=ge(e);if(n[0]>=127)return On.from(_2(n));switch(n[0]){case 1:return On.from(E2(n));case 2:return On.from(k2(n))}Fe(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new On;return e.type!=null&&(t.type=e.type),e.to!=null&&(t.to=e.to),e.nonce!=null&&(t.nonce=e.nonce),e.gasLimit!=null&&(t.gasLimit=e.gasLimit),e.gasPrice!=null&&(t.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(t.maxFeePerGas=e.maxFeePerGas),e.data!=null&&(t.data=e.data),e.value!=null&&(t.value=e.value),e.chainId!=null&&(t.chainId=e.chainId),e.signature!=null&&(t.signature=Ji.from(e.signature)),e.accessList!=null&&(t.accessList=e.accessList),e.hash!=null&&(Z(t.isSigned(),"unsigned transaction cannot define hash","tx",e),Z(t.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(Z(t.isSigned(),"unsigned transaction cannot define from","tx",e),Z(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}},Jn=new WeakMap,Fs=new WeakMap,Ds=new WeakMap,$s=new WeakMap,zs=new WeakMap,Ks=new WeakMap,Ws=new WeakMap,Hs=new WeakMap,Gs=new WeakMap,qs=new WeakMap,Vs=new WeakMap,js=new WeakMap,On);function S2(r){return typeof r=="string"&&(r=Gi(r)),Ot(Er([Gi(f2),Gi(String(r.length)),r]))}const N1=new Uint8Array(32);N1.fill(0);const A2=BigInt(-1),P1=BigInt(0),B1=BigInt(1),I2=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function R2(r){const e=ge(r),t=e.length%32;return t?Er([e,N1.slice(t)]):ye(e)}const T2=no(B1,32),N2=no(P1,32),Td={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},tu=["name","version","chainId","verifyingContract","salt"];function Nd(r){return function(e){return Z(typeof e=="string",`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,e),e}}const P2={name:Nd("name"),version:Nd("version"),chainId:function(r){const e=Bt(r,"domain.chainId");return Z(e>=0,"invalid chain ID","domain.chainId",r),Number.isSafeInteger(e)?Number(e):Ty(e)},verifyingContract:function(r){try{return Kr(r).toLowerCase()}catch{}Z(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){const e=ge(r,"domain.salt");return Z(e.length===32,'invalid domain value "salt"',"domain.salt",r),ye(e)}};function ru(r){{const e=r.match(/^(u?)int(\d*)$/);if(e){const t=e[1]==="",n=parseInt(e[2]||"256");Z(n%8===0&&n!==0&&n<=256&&(e[2]==null||e[2]===String(n)),"invalid numeric width","type",r);const i=Ry(I2,t?n-1:n),s=t?(i+B1)*A2:P1;return function(o){const a=Bt(o,"value");return Z(a>=s&&a<=i,`value out-of-bounds for ${r}`,"value",a),no(t?Iy(a,256):a,32)}}}{const e=r.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return Z(t!==0&&t<=32&&e[1]===String(t),"invalid bytes width","type",r),function(n){const i=ge(n);return Z(i.length===t,`invalid length for ${r}`,"value",n),R2(n)}}}switch(r){case"address":return function(e){return ro(Kr(e),32)};case"bool":return function(e){return e?T2:N2};case"bytes":return function(e){return Ot(e)};case"string":return function(e){return nf(e)}}return null}function Pd(r,e){return`${r}(${e.map(({name:t,type:n})=>n+" "+t).join(",")})`}var aa,Zn,Ys,Xc,O1;const an=class{constructor(e){Ye(this,Xc);ft(this,"primaryType");Ye(this,aa,void 0);Ye(this,Zn,void 0);Ye(this,Ys,void 0);Ae(this,aa,JSON.stringify(e)),Ae(this,Zn,new Map),Ae(this,Ys,new Map);const t=new Map,n=new Map,i=new Map;Object.keys(e).forEach(a=>{t.set(a,new Set),n.set(a,[]),i.set(a,new Set)});for(const a in e){const c=new Set;for(const f of e[a]){Z(!c.has(f.name),`duplicate variable name ${JSON.stringify(f.name)} in ${JSON.stringify(a)}`,"types",e),c.add(f.name);const l=f.type.match(/^([^\x5b]*)(\x5b|$)/)[1]||null;Z(l!==a,`circular type reference to ${JSON.stringify(l)}`,"types",e),!ru(l)&&(Z(n.has(l),`unknown type ${JSON.stringify(l)}`,"types",e),n.get(l).push(a),t.get(a).add(l))}}const s=Array.from(n.keys()).filter(a=>n.get(a).length===0);Z(s.length!==0,"missing primary type","types",e),Z(s.length===1,`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),pn(this,{primaryType:s[0]});function o(a,c){Z(!c.has(a),`circular type reference to ${JSON.stringify(a)}`,"types",e),c.add(a);for(const f of t.get(a))if(n.has(f)){o(f,c);for(const l of c)i.get(l).add(f)}c.delete(a)}o(this.primaryType,new Set);for(const[a,c]of i){const f=Array.from(c);f.sort(),Me(this,Zn).set(a,Pd(a,e[a])+f.map(l=>Pd(l,e[l])).join(""))}}get types(){return JSON.parse(Me(this,aa))}getEncoder(e){let t=Me(this,Ys).get(e);return t||(t=Nr(this,Xc,O1).call(this,e),Me(this,Ys).set(e,t)),t}encodeType(e){const t=Me(this,Zn).get(e);return Z(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return Ot(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(ru(e))return n(e,t);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i)return Z(!i[3]||parseInt(i[3])===t.length,`array length mismatch; expected length ${parseInt(i[3])}`,"value",t),t.map(o=>this._visit(i[1],o,n));const s=this.types[e];if(s)return s.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,t[a],n),o),{});Z(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new an(e)}static getPrimaryType(e){return an.from(e).primaryType}static hashStruct(e,t,n){return an.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){if(e[n]==null)continue;const i=Td[n];Z(i,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),t.push({name:n,type:i})}return t.sort((n,i)=>tu.indexOf(n.name)-tu.indexOf(i.name)),an.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return Er(["0x1901",an.hashDomain(e),an.from(t).hash(n)])}static hash(e,t,n){return Ot(an.encode(e,t,n))}static async resolveNames(e,t,n,i){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const s={};e.verifyingContract&&!ji(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=an.from(t);o.visit(n,(a,c)=>(a==="address"&&!ji(c,20)&&(s[c]="0x"),c));for(const a in s)s[a]=await i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=o.visit(n,(a,c)=>a==="address"&&s[c]?s[c]:c),{domain:e,value:n}}static getPayload(e,t,n){an.hashDomain(e);const i={},s=[];tu.forEach(c=>{const f=e[c];f!=null&&(i[c]=P2[c](f),s.push({name:c,type:Td[c]}))});const o=an.from(t),a=Object.assign({},t);return Z(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",t),a.EIP712Domain=s,o.encode(n),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(n,(c,f)=>{if(c.match(/^bytes(\d*)/))return ye(ge(f));if(c.match(/^u?int/))return Bt(f).toString();switch(c){case"address":return f.toLowerCase();case"bool":return!!f;case"string":return Z(typeof f=="string","invalid string","value",f),f}Z(!1,"unsupported type","type",c)})}}};let gc=an;aa=new WeakMap,Zn=new WeakMap,Ys=new WeakMap,Xc=new WeakSet,O1=function(e){{const i=ru(e);if(i)return i}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const i=t[1],s=this.getEncoder(i);return o=>{Z(!t[3]||parseInt(t[3])===o.length,`array length mismatch; expected length ${parseInt(t[3])}`,"value",o);let a=o.map(s);return Me(this,Zn).has(i)&&(a=a.map(Ot)),Ot(Er(a))}}const n=this.types[e];if(n){const i=nf(Me(this,Zn).get(e));return s=>{const o=n.map(({name:a,type:c})=>{const f=this.getEncoder(c)(s[a]);return Me(this,Zn).has(c)?Ot(f):f});return o.unshift(i),Er(o)}}Z(!1,`unknown type: ${e}`,"type",e)};BigInt(0);function B2(r){const e={};r.to&&(e.to=r.to),r.from&&(e.from=r.from),r.data&&(e.data=ye(r.data));const t="chainId,gasLimit,gasPrice,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of t)!(i in r)||r[i]==null||(e[i]=Bt(r[i],`request.${i}`));const n="type,nonce".split(/,/);for(const i of n)!(i in r)||r[i]==null||(e[i]=Dn(r[i],`request.${i}`));return r.accessList&&(e.accessList=sf(r.accessList)),"blockTag"in r&&(e.blockTag=r.blockTag),"enableCcipRead"in r&&(e.enableCcipReadEnabled=!!r.enableCcipRead),"customData"in r&&(e.customData=r.customData),e}function fs(r,e){if(r.provider)return r.provider;Fe(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function Bd(r,e){let t=B2(e);if(t.to!=null&&(t.to=xc(t.to,r)),t.from!=null){const n=t.from;t.from=Promise.all([r.getAddress(),xc(n,r)]).then(([i,s])=>(Z(i.toLowerCase()===s.toLowerCase(),"transaction from mismatch","tx.from",s),i))}else t.from=r.getAddress();return await Tl(t)}class C1{constructor(e){ft(this,"provider");pn(this,{provider:e||null})}async getNonce(e){return fs(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await Bd(this,e)}async populateTransaction(e){const t=fs(this,"populateTransaction"),n=await Bd(this,e);n.nonce==null&&(n.nonce=await this.getNonce("pending")),n.gasLimit==null&&(n.gasLimit=await this.estimateGas(n));const i=await this.provider.getNetwork();if(n.chainId!=null){const o=Bt(n.chainId);Z(o===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=i.chainId;const s=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||s)?Z(!1,"eip-1559 transaction do not support gasPrice","tx",e):(n.type===0||n.type===1)&&s&&Z(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){const o=await t.getFeeData();Fe(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&&(n.gasPrice=o.gasPrice)}else{const o=await t.getFeeData();if(n.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(n.type=2,n.gasPrice!=null){const a=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=a,n.maxPriorityFeePerGas=a}else n.maxFeePerGas==null&&(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(Fe(!s,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=o.gasPrice),n.type=0):Fe(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else n.type===2&&(n.maxFeePerGas==null&&(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await Tl(n)}async estimateGas(e){return fs(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return fs(this,"call").call(await this.populateCall(e))}async resolveName(e){return await fs(this,"resolveName").resolveName(e)}async sendTransaction(e){const t=fs(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;const i=T1.from(n);return await t.broadcastTransaction(await this.signTransaction(i))}}var Js,Ya;const O0=class extends C1{constructor(t,n){super(n);Ye(this,Js);ft(this,"address");pn(this,{address:t})}async getAddress(){return this.address}connect(t){return new O0(this.address,t)}async signTransaction(t){Nr(this,Js,Ya).call(this,"transactions","signTransaction")}async signMessage(t){Nr(this,Js,Ya).call(this,"messages","signMessage")}async signTypedData(t,n,i){Nr(this,Js,Ya).call(this,"typed-data","signTypedData")}};let nl=O0;Js=new WeakSet,Ya=function(t,n){Fe(!1,`VoidSigner cannot sign ${t}`,"UNSUPPORTED_OPERATION",{operation:n})};var Zs;const C0=class extends C1{constructor(t,n){super(n);ft(this,"address");Ye(this,Zs,void 0);Z(t&&typeof t.sign=="function","invalid private key","privateKey","[ REDACTED ]"),Ae(this,Zs,t);const i=ha(this.signingKey.publicKey);pn(this,{address:i})}get signingKey(){return Me(this,Zs)}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(t){return new C0(Me(this,Zs),t)}async signTransaction(t){const{to:n,from:i}=await Tl({to:t.to?xc(t.to,this.provider):void 0,from:t.from?xc(t.from,this.provider):void 0});n!=null&&(t.to=n),i!=null&&(t.from=i),t.from!=null&&(Z(Kr(t.from)===this.address,"transaction from address mismatch","tx.from",t.from),delete t.from);const s=T1.from(t);return s.signature=this.signingKey.sign(s.unsignedHash),s.serialized}async signMessage(t){return this.signMessageSync(t)}signMessageSync(t){return this.signingKey.sign(S2(t)).serialized}async signTypedData(t,n,i){const s=await gc.resolveNames(t,n,i,async o=>{Fe(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:o}});const a=await this.provider.resolveName(o);return Fe(a!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:o}),a});return this.signingKey.sign(gc.hash(s.domain,n,s.value)).serialized}};let bc=C0;Zs=new WeakMap;const yc=" !#$%&'()*+,-./<=>?@[]^_`{|}~",O2=/^[a-z]*$/i;function Od(r,e){let t=97;return r.reduce((n,i)=>(i===e?t++:i.match(O2)?n.push(String.fromCharCode(t)+i):(t=97,n.push(i)),n),[])}function C2(r,e){for(let i=yc.length-1;i>=0;i--)r=r.split(yc[i]).join(e.substring(2*i,2*i+2));const t=[],n=r.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(i,s,o,a)=>{if(o)for(let c=parseInt(o);c>=0;c--)t.push(";");else t.push(s.toLowerCase());return""});if(n)throw new Error(`leftovers: ${JSON.stringify(n)}`);return Od(Od(t,";"),":")}function M2(r){return Z(r[0]==="0","unsupported auwl data","data",r),C2(r.substring(1+2*yc.length),r.substring(1,1+2*yc.length))}class U2{constructor(e){ft(this,"locale");pn(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}}var Xs,ca,Wi,fa,il;class L2 extends U2{constructor(t,n,i){super(t);Ye(this,fa);Ye(this,Xs,void 0);Ye(this,ca,void 0);Ye(this,Wi,void 0);Ae(this,Xs,n),Ae(this,ca,i),Ae(this,Wi,null)}get _data(){return Me(this,Xs)}_decodeWords(){return M2(Me(this,Xs))}getWord(t){const n=Nr(this,fa,il).call(this);return Z(t>=0&&t<n.length,`invalid word index: ${t}`,"index",t),n[t]}getWordIndex(t){return Nr(this,fa,il).call(this).indexOf(t)}}Xs=new WeakMap,ca=new WeakMap,Wi=new WeakMap,fa=new WeakSet,il=function(){if(Me(this,Wi)==null){const t=this._decodeWords();if(nf(t.join(`
`)+`
`)!==Me(this,ca))throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);Ae(this,Wi,t)}return Me(this,Wi)};const F2="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",D2="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60";let nu=null;class Zi extends L2{constructor(){super("en",F2,D2)}static wordlist(){return nu==null&&(nu=new Zi),nu}}function M1(r){return(1<<r)-1<<8-r&255}function $2(r){return(1<<r)-1&255}function iu(r,e){Bx("NFKD"),e==null&&(e=Zi.wordlist());const t=e.split(r);Z(t.length%3===0&&t.length>=12&&t.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");const n=new Uint8Array(Math.ceil(11*t.length/8));let i=0;for(let f=0;f<t.length;f++){let l=e.getWordIndex(t[f].normalize("NFKD"));Z(l>=0,`invalid mnemonic word at index ${f}`,"mnemonic","[ REDACTED ]");for(let h=0;h<11;h++)l&1<<10-h&&(n[i>>3]|=1<<7-i%8),i++}const s=32*t.length/3,o=t.length/3,a=M1(o),c=ge(kn(n.slice(0,s/8)))[0]&a;return Z(c===(n[n.length-1]&a),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),ye(n.slice(0,s/8))}function su(r,e){Z(r.length%4===0&&r.length>=16&&r.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),e==null&&(e=Zi.wordlist());const t=[0];let n=11;for(let o=0;o<r.length;o++)n>8?(t[t.length-1]<<=8,t[t.length-1]|=r[o],n-=8):(t[t.length-1]<<=n,t[t.length-1]|=r[o]>>8-n,t.push(r[o]&$2(8-n)),n+=3);const i=r.length/4,s=parseInt(kn(r).substring(2,4),16)&M1(i);return t[t.length-1]<<=i,t[t.length-1]|=s>>8-i,e.join(t.map(o=>e.getWord(o)))}const ou={};class oo{constructor(e,t,n,i,s){ft(this,"phrase");ft(this,"password");ft(this,"wordlist");ft(this,"entropy");i==null&&(i=""),s==null&&(s=Zi.wordlist()),Qc(e,ou,"Mnemonic"),pn(this,{phrase:n,password:i,wordlist:s,entropy:t})}computeSeed(){const e=Gi("mnemonic"+this.password,"NFKD");return Bi(Gi(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,t,n){const i=iu(e,n);return e=su(ge(i),n),new oo(ou,i,e,t,n)}static fromEntropy(e,t,n){const i=ge(e,"entropy"),s=su(i,n);return new oo(ou,ye(i),s,t,n)}static entropyToPhrase(e,t){const n=ge(e,"entropy");return su(n,t)}static phraseToEntropy(e,t){return iu(e,t)}static isValidMnemonic(e,t){try{return iu(e,t),!0}catch{}return!1}}/*! MIT License. Copyright 2015-2022 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */var au=globalThis&&globalThis.__classPrivateFieldSet||function(r,e,t,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(r,t):i?i.value=t:e.set(r,t),t},dr=globalThis&&globalThis.__classPrivateFieldGet||function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},Ja,sn,Tn;const z2={16:10,24:12,32:14},K2=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],tn=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Ua=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],W2=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],H2=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],G2=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],q2=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],V2=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],j2=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],Y2=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],J2=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],Z2=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],X2=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],Q2=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],ew=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function cu(r){const e=[];for(let t=0;t<r.length;t+=4)e.push(r[t]<<24|r[t+1]<<16|r[t+2]<<8|r[t+3]);return e}class Kl{constructor(e){if(Ja.set(this,void 0),sn.set(this,void 0),Tn.set(this,void 0),!(this instanceof Kl))throw Error("AES must be instanitated with `new`");au(this,Ja,new Uint8Array(e),"f");const t=z2[this.key.length];if(t==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");au(this,Tn,[],"f"),au(this,sn,[],"f");for(let l=0;l<=t;l++)dr(this,Tn,"f").push([0,0,0,0]),dr(this,sn,"f").push([0,0,0,0]);const n=(t+1)*4,i=this.key.length/4,s=cu(this.key);let o;for(let l=0;l<i;l++)o=l>>2,dr(this,Tn,"f")[o][l%4]=s[l],dr(this,sn,"f")[t-o][l%4]=s[l];let a=0,c=i,f;for(;c<n;){if(f=s[i-1],s[0]^=tn[f>>16&255]<<24^tn[f>>8&255]<<16^tn[f&255]<<8^tn[f>>24&255]^K2[a]<<24,a+=1,i!=8)for(let b=1;b<i;b++)s[b]^=s[b-1];else{for(let b=1;b<i/2;b++)s[b]^=s[b-1];f=s[i/2-1],s[i/2]^=tn[f&255]^tn[f>>8&255]<<8^tn[f>>16&255]<<16^tn[f>>24&255]<<24;for(let b=i/2+1;b<i;b++)s[b]^=s[b-1]}let l=0,h,w;for(;l<i&&c<n;)h=c>>2,w=c%4,dr(this,Tn,"f")[h][w]=s[l],dr(this,sn,"f")[t-h][w]=s[l++],c++}for(let l=1;l<t;l++)for(let h=0;h<4;h++)f=dr(this,sn,"f")[l][h],dr(this,sn,"f")[l][h]=Z2[f>>24&255]^X2[f>>16&255]^Q2[f>>8&255]^ew[f&255]}get key(){return dr(this,Ja,"f").slice()}encrypt(e){if(e.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");const t=dr(this,Tn,"f").length-1,n=[0,0,0,0];let i=cu(e);for(let a=0;a<4;a++)i[a]^=dr(this,Tn,"f")[0][a];for(let a=1;a<t;a++){for(let c=0;c<4;c++)n[c]=W2[i[c]>>24&255]^H2[i[(c+1)%4]>>16&255]^G2[i[(c+2)%4]>>8&255]^q2[i[(c+3)%4]&255]^dr(this,Tn,"f")[a][c];i=n.slice()}const s=new Uint8Array(16);let o=0;for(let a=0;a<4;a++)o=dr(this,Tn,"f")[t][a],s[4*a]=(tn[i[a]>>24&255]^o>>24)&255,s[4*a+1]=(tn[i[(a+1)%4]>>16&255]^o>>16)&255,s[4*a+2]=(tn[i[(a+2)%4]>>8&255]^o>>8)&255,s[4*a+3]=(tn[i[(a+3)%4]&255]^o)&255;return s}decrypt(e){if(e.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");const t=dr(this,sn,"f").length-1,n=[0,0,0,0];let i=cu(e);for(let a=0;a<4;a++)i[a]^=dr(this,sn,"f")[0][a];for(let a=1;a<t;a++){for(let c=0;c<4;c++)n[c]=V2[i[c]>>24&255]^j2[i[(c+3)%4]>>16&255]^Y2[i[(c+2)%4]>>8&255]^J2[i[(c+1)%4]&255]^dr(this,sn,"f")[a][c];i=n.slice()}const s=new Uint8Array(16);let o=0;for(let a=0;a<4;a++)o=dr(this,sn,"f")[t][a],s[4*a]=(Ua[i[a]>>24&255]^o>>24)&255,s[4*a+1]=(Ua[i[(a+3)%4]>>16&255]^o>>16)&255,s[4*a+2]=(Ua[i[(a+2)%4]>>8&255]^o>>8)&255,s[4*a+3]=(Ua[i[(a+1)%4]&255]^o)&255;return s}}Ja=new WeakMap,sn=new WeakMap,Tn=new WeakMap;class U1{constructor(e,t,n){if(n&&!(this instanceof n))throw new Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new Kl(t)},name:{enumerable:!0,value:e}})}}var La=globalThis&&globalThis.__classPrivateFieldSet||function(r,e,t,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(r,t):i?i.value=t:e.set(r,t),t},us=globalThis&&globalThis.__classPrivateFieldGet||function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},No,qn;class Wl extends U1{constructor(e,t){if(super("ECC",e,Wl),No.set(this,void 0),qn.set(this,void 0),t){if(t.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");La(this,No,new Uint8Array(t),"f")}else La(this,No,new Uint8Array(16),"f");La(this,qn,this.iv,"f")}get iv(){return new Uint8Array(us(this,No,"f"))}encrypt(e){if(e.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");const t=new Uint8Array(e.length);for(let n=0;n<e.length;n+=16){for(let i=0;i<16;i++)us(this,qn,"f")[i]^=e[n+i];La(this,qn,this.aes.encrypt(us(this,qn,"f")),"f"),t.set(us(this,qn,"f"),n)}return t}decrypt(e){if(e.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");const t=new Uint8Array(e.length);for(let n=0;n<e.length;n+=16){const i=this.aes.decrypt(e.subarray(n,n+16));for(let s=0;s<16;s++)t[n+s]=i[s]^us(this,qn,"f")[s],us(this,qn,"f")[s]=e[n+s]}return t}}No=new WeakMap,qn=new WeakMap;var ls=globalThis&&globalThis.__classPrivateFieldSet||function(r,e,t,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(r,t):i?i.value=t:e.set(r,t),t},rn=globalThis&&globalThis.__classPrivateFieldGet||function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},Po,Ci,on;class ao extends U1{constructor(e,t){super("CTR",e,ao),Po.set(this,void 0),Ci.set(this,void 0),on.set(this,void 0),ls(this,on,new Uint8Array(16),"f"),rn(this,on,"f").fill(0),ls(this,Po,rn(this,on,"f"),"f"),ls(this,Ci,16,"f"),t==null&&(t=1),typeof t=="number"?this.setCounterValue(t):this.setCounterBytes(t)}get counter(){return new Uint8Array(rn(this,on,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let t=15;t>=0;--t)rn(this,on,"f")[t]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(e.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");rn(this,on,"f").set(e)}increment(){for(let e=15;e>=0;e--)if(rn(this,on,"f")[e]===255)rn(this,on,"f")[e]=0;else{rn(this,on,"f")[e]++;break}}encrypt(e){var t,n;const i=new Uint8Array(e);for(let s=0;s<i.length;s++)rn(this,Ci,"f")===16&&(ls(this,Po,this.aes.encrypt(rn(this,on,"f")),"f"),ls(this,Ci,0,"f"),this.increment()),i[s]^=rn(this,Po,"f")[ls(this,Ci,(n=rn(this,Ci,"f"),t=n++,n),"f"),t];return i}decrypt(e){return this.encrypt(e)}}Po=new WeakMap,Ci=new WeakMap,on=new WeakMap;function tw(r){if(r.length<16)throw new TypeError("PKCS#7 invalid length");const e=r[r.length-1];if(e>16)throw new TypeError("PKCS#7 padding byte out of range");const t=r.length-e;for(let n=0;n<e;n++)if(r[t+n]!==e)throw new TypeError("PKCS#7 invalid padding byte");return new Uint8Array(r.subarray(0,t))}function L1(r){return typeof r=="string"&&!r.startsWith("0x")&&(r="0x"+r),Mi(r)}function Ro(r,e){for(r=String(r);r.length<e;)r="0"+r;return r}function pa(r){return typeof r=="string"?Gi(r,"NFKC"):Mi(r)}function Pt(r,e){const t=e.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);Z(t!=null,"invalid path","path",e);const n=t[1],i=t[3],s=t[4]==="!";let o=r;for(const a of n.toLowerCase().split(".")){if(Array.isArray(o)){if(!a.match(/^[0-9]+$/))break;o=o[parseInt(a)]}else if(typeof o=="object"){let c=null;for(const f in o)if(f.toLowerCase()===a){c=o[f];break}o=c}else o=null;if(o==null)break}if(Z(!s||o!=null,"missing required value","path",n),i&&o!=null){if(i==="int"){if(typeof o=="string"&&o.match(/^-?[0-9]+$/))return parseInt(o);if(Number.isSafeInteger(o))return o}if(i==="number"&&typeof o=="string"&&o.match(/^-?[0-9.]*$/))return parseFloat(o);if(i==="data"&&typeof o=="string")return L1(o);if(i==="array"&&Array.isArray(o)||i===typeof o)return o;Z(!1,`wrong type found for ${i} `,"path",n)}return o}const F1="m/44'/60'/0'/0/0";function Cd(r){try{const e=JSON.parse(r);if((e.version!=null?parseInt(e.version):0)===3)return!0}catch{}return!1}function rw(r,e,t){if(Pt(r,"crypto.cipher:string")==="aes-128-ctr"){const i=Pt(r,"crypto.cipherparams.iv:data!"),s=new ao(e,i);return ye(s.decrypt(t))}Fe(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}function mc(r,e){const t=ge(e),n=Pt(r,"crypto.ciphertext:data!"),i=ye(Ot(Er([t.slice(16,32),n]))).substring(2);Z(i===Pt(r,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");const s=rw(r,t.slice(0,16),n),o=ha(s);if(r.address){let f=r.address.toLowerCase();f.startsWith("0x")||(f="0x"+f),Z(Kr(f)===o,"keystore address/privateKey mismatch","address",r.address)}const a={address:o,privateKey:s};if(Pt(r,"x-ethers.version:string")==="0.1"){const f=t.slice(32,64),l=Pt(r,"x-ethers.mnemonicCiphertext:data!"),h=Pt(r,"x-ethers.mnemonicCounter:data!"),w=new ao(f,h);a.mnemonic={path:Pt(r,"x-ethers.path:string")||F1,locale:Pt(r,"x-ethers.locale:string")||"en",entropy:ye(ge(w.decrypt(l)))}}return a}function D1(r){const e=Pt(r,"crypto.kdf:string");if(e&&typeof e=="string"){if(e.toLowerCase()==="scrypt"){const t=Pt(r,"crypto.kdfparams.salt:data!"),n=Pt(r,"crypto.kdfparams.n:int!"),i=Pt(r,"crypto.kdfparams.r:int!"),s=Pt(r,"crypto.kdfparams.p:int!");Z(n>0&&(n&n-1)===0,"invalid kdf.N","kdf.N",n),Z(i>0&&s>0,"invalid kdf","kdf",e);const o=Pt(r,"crypto.kdfparams.dklen:int!");return Z(o===32,"invalid kdf.dklen","kdf.dflen",o),{name:"scrypt",salt:t,N:n,r:i,p:s,dkLen:64}}else if(e.toLowerCase()==="pbkdf2"){const t=Pt(r,"crypto.kdfparams.salt:data!"),n=Pt(r,"crypto.kdfparams.prf:string!"),i=n.split("-").pop();Z(i==="sha256"||i==="sha512","invalid kdf.pdf","kdf.pdf",n);const s=Pt(r,"crypto.kdfparams.c:int!"),o=Pt(r,"crypto.kdfparams.dklen:int!");return Z(o===32,"invalid kdf.dklen","kdf.dklen",o),{name:"pbkdf2",salt:t,count:s,dkLen:o,algorithm:i}}}Z(!1,"unsupported key-derivation function","kdf",e)}function nw(r,e){const t=JSON.parse(r),n=pa(e),i=D1(t);if(i.name==="pbkdf2"){const{salt:h,count:w,dkLen:b,algorithm:m}=i,k=Bi(n,h,w,b,m);return mc(t,k)}Fe(i.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:i});const{salt:s,N:o,r:a,p:c,dkLen:f}=i,l=yo(n,s,o,a,c,f);return mc(t,l)}function Md(r){return new Promise(e=>{setTimeout(()=>{e()},r)})}async function iw(r,e,t){const n=JSON.parse(r),i=pa(e),s=D1(n);if(s.name==="pbkdf2"){t&&(t(0),await Md(0));const{salt:w,count:b,dkLen:m,algorithm:k}=s,S=Bi(i,w,b,m,k);return t&&(t(1),await Md(0)),mc(n,S)}Fe(s.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:s});const{salt:o,N:a,r:c,p:f,dkLen:l}=s,h=await bo(i,o,a,c,f,l,t);return mc(n,h)}function $1(r){const e=r.salt!=null?ge(r.salt,"options.salt"):ri(32);let t=1<<17,n=8,i=1;return r.scrypt&&(r.scrypt.N&&(t=r.scrypt.N),r.scrypt.r&&(n=r.scrypt.r),r.scrypt.p&&(i=r.scrypt.p)),Z(typeof t=="number"&&t>0&&Number.isSafeInteger(t)&&(BigInt(t)&BigInt(t-1))===BigInt(0),"invalid scrypt N parameter","options.N",t),Z(typeof n=="number"&&n>0&&Number.isSafeInteger(n),"invalid scrypt r parameter","options.r",n),Z(typeof i=="number"&&i>0&&Number.isSafeInteger(i),"invalid scrypt p parameter","options.p",i),{name:"scrypt",dkLen:32,salt:e,N:t,r:n,p:i}}function z1(r,e,t,n){const i=ge(t.privateKey,"privateKey"),s=n.iv!=null?ge(n.iv,"options.iv"):ri(16);Z(s.length===16,"invalid options.iv length","options.iv",n.iv);const o=n.uuid!=null?ge(n.uuid,"options.uuid"):ri(16);Z(o.length===16,"invalid options.uuid length","options.uuid",n.iv);const a=r.slice(0,16),c=r.slice(16,32),f=new ao(a,s),l=ge(f.encrypt(i)),h=Ot(Er([c,l])),w={address:t.address.substring(2).toLowerCase(),id:My(o),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:ye(s).substring(2)},ciphertext:ye(l).substring(2),kdf:"scrypt",kdfparams:{salt:ye(e.salt).substring(2),n:e.N,dklen:32,p:e.p,r:e.r},mac:h.substring(2)}};if(t.mnemonic){const b=n.client!=null?n.client:`ethers/${Px}`,m=t.mnemonic.path||F1,k=t.mnemonic.locale||"en",S=r.slice(32,64),A=ge(t.mnemonic.entropy,"account.mnemonic.entropy"),O=ri(16),R=new ao(S,O),B=ge(R.encrypt(A)),N=new Date,$="UTC--"+(N.getUTCFullYear()+"-"+Ro(N.getUTCMonth()+1,2)+"-"+Ro(N.getUTCDate(),2)+"T"+Ro(N.getUTCHours(),2)+"-"+Ro(N.getUTCMinutes(),2)+"-"+Ro(N.getUTCSeconds(),2)+".0Z")+"--"+w.address;w["x-ethers"]={client:b,gethFilename:$,path:m,locale:k,mnemonicCounter:ye(O).substring(2),mnemonicCiphertext:ye(B).substring(2),version:"0.1"}}return JSON.stringify(w)}function K1(r,e,t){t==null&&(t={});const n=pa(e),i=$1(t),s=yo(n,i.salt,i.N,i.r,i.p,64);return z1(ge(s),i,r,t)}async function W1(r,e,t){t==null&&(t={});const n=pa(e),i=$1(t),s=await bo(n,i.salt,i.N,i.r,i.p,64,t.progressCallback);return z1(ge(s),i,r,t)}const fu="m/44'/60'/0'/0/0",sw=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),wi=2147483648,ow=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),aw="0123456789abcdef";function wc(r,e){let t="";for(;r;)t=aw[r%16]+t,r=Math.trunc(r/16);for(;t.length<e*2;)t="0"+t;return"0x"+t}function sl(r){const e=ge(r),t=Nl(kn(kn(e)),0,4),n=Er([e,t]);return By(n)}const Pn={};function H1(r,e,t,n){const i=new Uint8Array(37);r&wi?(Fe(n!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),i.set(ge(n),1)):i.set(ge(t));for(let o=24;o>=0;o-=8)i[33+(o>>3)]=r>>24-o&255;const s=ge(ts("sha512",e,i));return{IL:s.slice(0,32),IR:s.slice(32)}}function G1(r,e){const t=e.split("/");Z(t.length>0&&(t[0]==="m"||r.depth>0),"invalid path","path",e),t[0]==="m"&&t.shift();let n=r;for(let i=0;i<t.length;i++){const s=t[i];if(s.match(/^[0-9]+'$/)){const o=parseInt(s.substring(0,s.length-1));Z(o<wi,"invalid path index",`path[${i}]`,s),n=n.deriveChild(wi+o)}else if(s.match(/^[0-9]+$/)){const o=parseInt(s);Z(o<wi,"invalid path index",`path[${i}]`,s),n=n.deriveChild(o)}else Z(!1,"invalid path component",`path[${i}]`,s)}return n}var ua,ol,Hi,Bo;const Nn=class extends bc{constructor(t,n,i,s,o,a,c,f,l){super(n,l);Ye(this,ua);ft(this,"publicKey");ft(this,"fingerprint");ft(this,"parentFingerprint");ft(this,"mnemonic");ft(this,"chainCode");ft(this,"path");ft(this,"index");ft(this,"depth");Qc(t,Pn,"HDNodeWallet"),pn(this,{publicKey:n.compressedPublicKey});const h=Nl(go(kn(this.publicKey)),0,4);pn(this,{parentFingerprint:i,fingerprint:h,chainCode:s,path:o,index:a,depth:c}),pn(this,{mnemonic:f})}connect(t){return new Nn(Pn,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,t)}async encrypt(t,n){return await W1(Nr(this,ua,ol).call(this),t,{progressCallback:n})}encryptSync(t){return K1(Nr(this,ua,ol).call(this),t)}get extendedKey(){return Fe(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),sl(Er(["0x0488ADE4",wc(this.depth,1),this.parentFingerprint,wc(this.index,4),this.chainCode,Er(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new Zo(Pn,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(t){const n=Dn(t,"index");Z(n<=4294967295,"invalid index","index",n);let i=this.path;i&&(i+="/"+(n&~wi),n&wi&&(i+="'"));const{IR:s,IL:o}=H1(n,this.chainCode,this.publicKey,this.privateKey),a=new Fn(no((Mx(o)+BigInt(this.privateKey))%ow,32));return new Nn(Pn,a,this.fingerprint,ye(s),i,n,this.depth+1,this.mnemonic,this.provider)}derivePath(t){return G1(this,t)}static fromExtendedKey(t){const n=hn(Oy(t));Z(n.length===82||sl(n.slice(0,78))===t,"invalid extended key","extendedKey","[ REDACTED ]");const i=n[4],s=ye(n.slice(5,9)),o=parseInt(ye(n.slice(9,13)).substring(2),16),a=ye(n.slice(13,45)),c=n.slice(45,78);switch(ye(n.slice(0,4))){case"0x0488b21e":case"0x043587cf":{const f=ye(c);return new Zo(Pn,ha(f),f,s,a,null,o,i,null)}case"0x0488ade4":case"0x04358394 ":if(c[0]!==0)break;return new Nn(Pn,new Fn(c.slice(1)),s,a,null,o,i,null,null)}Z(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(t,n,i){var o;t==null&&(t=""),n==null&&(n=fu),i==null&&(i=Zi.wordlist());const s=oo.fromEntropy(ri(16),t,i);return Nr(o=Nn,Hi,Bo).call(o,s.computeSeed(),s).derivePath(n)}static fromMnemonic(t,n){var i;return n||(n=fu),Nr(i=Nn,Hi,Bo).call(i,t.computeSeed(),t).derivePath(n)}static fromPhrase(t,n,i,s){var a;n==null&&(n=""),i==null&&(i=fu),s==null&&(s=Zi.wordlist());const o=oo.fromPhrase(t,n,s);return Nr(a=Nn,Hi,Bo).call(a,o.computeSeed(),o).derivePath(i)}static fromSeed(t){var n;return Nr(n=Nn,Hi,Bo).call(n,t,null)}};let Ns=Nn;ua=new WeakSet,ol=function(){const t={address:this.address,privateKey:this.privateKey},n=this.mnemonic;return this.path&&n&&n.wordlist.locale==="en"&&n.password===""&&(t.mnemonic={path:this.path,locale:"en",entropy:n.entropy}),t},Hi=new WeakSet,Bo=function(t,n){Z(Cx(t),"invalid seed","seed","[REDACTED]");const i=ge(t,"seed");Z(i.length>=16&&i.length<=64,"invalid seed","seed","[REDACTED]");const s=ge(ts("sha512",sw,i)),o=new Fn(ye(s.slice(0,32)));return new Nn(Pn,o,"0x00000000",ye(s.slice(32)),"m",0,0,n,null)},Ye(Ns,Hi);class Zo extends nl{constructor(t,n,i,s,o,a,c,f,l){super(n,l);ft(this,"publicKey");ft(this,"fingerprint");ft(this,"parentFingerprint");ft(this,"chainCode");ft(this,"path");ft(this,"index");ft(this,"depth");Qc(t,Pn,"HDNodeVoidWallet"),pn(this,{publicKey:i});const h=Nl(go(kn(i)),0,4);pn(this,{publicKey:i,fingerprint:h,parentFingerprint:s,chainCode:o,path:a,index:c,depth:f})}connect(t){return new Zo(Pn,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,t)}get extendedKey(){return Fe(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),sl(Er(["0x0488B21E",wc(this.depth,1),this.parentFingerprint,wc(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild(t){const n=Dn(t,"index");Z(n<=4294967295,"invalid index","index",n);let i=this.path;i&&(i+="/"+(n&~wi),n&wi&&(i+="'"));const{IR:s,IL:o}=H1(n,this.chainCode,this.publicKey,null),a=Fn.addPoints(o,this.publicKey,!0),c=ha(a);return new Zo(Pn,c,a,this.fingerprint,ye(s),i,n,this.depth+1,this.provider)}derivePath(t){return G1(this,t)}}function Ud(r){try{if(JSON.parse(r).encseed)return!0}catch{}return!1}function Ld(r,e){const t=JSON.parse(r),n=pa(e),i=Kr(Pt(t,"ethaddr:string!")),s=L1(Pt(t,"encseed:string!"));Z(s&&s.length%16===0,"invalid encseed","json",r);const o=ge(Bi(n,n,2e3,32,"sha256")).slice(0,16),a=s.slice(0,16),c=s.slice(16),f=new Wl(o,a),l=tw(ge(f.decrypt(c)));let h="";for(let w=0;w<l.length;w++)h+=String.fromCharCode(l[w]);return{address:i,privateKey:nf(h)}}function Fd(r){return new Promise(e=>{setTimeout(()=>{e()},r)})}var la,al;const _s=class extends bc{constructor(e,t){typeof e=="string"&&!e.startsWith("0x")&&(e="0x"+e);let n=typeof e=="string"?new Fn(e):e;super(n,t)}connect(e){return new _s(this.signingKey,e)}async encrypt(e,t){const n={address:this.address,privateKey:this.privateKey};return await W1(n,e,{progressCallback:t})}encryptSync(e){const t={address:this.address,privateKey:this.privateKey};return K1(t,e)}static async fromEncryptedJson(e,t,n){var s;let i=null;return Cd(e)?i=await iw(e,t,n):Ud(e)&&(n&&(n(0),await Fd(0)),i=Ld(e,t),n&&(n(1),await Fd(0))),Nr(s=_s,la,al).call(s,i)}static fromEncryptedJsonSync(e,t){var i;let n=null;return Cd(e)?n=nw(e,t):Ud(e)?n=Ld(e,t):Z(!1,"invalid JSON wallet","json","[ REDACTED ]"),Nr(i=_s,la,al).call(i,n)}static createRandom(e){const t=Ns.createRandom();return e?t.connect(e):t}static fromPhrase(e,t){const n=Ns.fromPhrase(e);return t?n.connect(t):n}};let Ps=_s;la=new WeakSet,al=function(e){if(Z(e,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in e&&e.mnemonic&&e.mnemonic.locale==="en"){const n=oo.fromEntropy(e.mnemonic.entropy),i=Ns.fromMnemonic(n,e.mnemonic.path);if(i.address===e.address&&i.privateKey===e.privateKey)return i;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}const t=new _s(e.privateKey);return Z(t.address===e.address,"address/privateKey mismatch","json","[ REDACTED ]"),t},Ye(Ps,la);var En=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hl(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function Gl(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),t}var ve={},af={};af.byteLength=uw;af.toByteArray=dw;af.fromByteArray=xw;var Cn=[],cn=[],cw=typeof Uint8Array<"u"?Uint8Array:Array,uu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ds=0,fw=uu.length;ds<fw;++ds)Cn[ds]=uu[ds],cn[uu.charCodeAt(ds)]=ds;cn["-".charCodeAt(0)]=62;cn["_".charCodeAt(0)]=63;function q1(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}function uw(r){var e=q1(r),t=e[0],n=e[1];return(t+n)*3/4-n}function lw(r,e,t){return(e+t)*3/4-t}function dw(r){var e,t=q1(r),n=t[0],i=t[1],s=new cw(lw(r,n,i)),o=0,a=i>0?n-4:n,c;for(c=0;c<a;c+=4)e=cn[r.charCodeAt(c)]<<18|cn[r.charCodeAt(c+1)]<<12|cn[r.charCodeAt(c+2)]<<6|cn[r.charCodeAt(c+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=cn[r.charCodeAt(c)]<<2|cn[r.charCodeAt(c+1)]>>4,s[o++]=e&255),i===1&&(e=cn[r.charCodeAt(c)]<<10|cn[r.charCodeAt(c+1)]<<4|cn[r.charCodeAt(c+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function hw(r){return Cn[r>>18&63]+Cn[r>>12&63]+Cn[r>>6&63]+Cn[r&63]}function pw(r,e,t){for(var n,i=[],s=e;s<t;s+=3)n=(r[s]<<16&16711680)+(r[s+1]<<8&65280)+(r[s+2]&255),i.push(hw(n));return i.join("")}function xw(r){for(var e,t=r.length,n=t%3,i=[],s=16383,o=0,a=t-n;o<a;o+=s)i.push(pw(r,o,o+s>a?a:o+s));return n===1?(e=r[t-1],i.push(Cn[e>>2]+Cn[e<<4&63]+"==")):n===2&&(e=(r[t-2]<<8)+r[t-1],i.push(Cn[e>>10]+Cn[e>>4&63]+Cn[e<<2&63]+"=")),i.join("")}var ql={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ql.read=function(r,e,t,n,i){var s,o,a=i*8-n-1,c=(1<<a)-1,f=c>>1,l=-7,h=t?i-1:0,w=t?-1:1,b=r[e+h];for(h+=w,s=b&(1<<-l)-1,b>>=-l,l+=a;l>0;s=s*256+r[e+h],h+=w,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=n;l>0;o=o*256+r[e+h],h+=w,l-=8);if(s===0)s=1-f;else{if(s===c)return o?NaN:(b?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-f}return(b?-1:1)*o*Math.pow(2,s-n)};ql.write=function(r,e,t,n,i,s){var o,a,c,f=s*8-i-1,l=(1<<f)-1,h=l>>1,w=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=n?0:s-1,m=n?1:-1,k=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+h>=1?e+=w/c:e+=w*Math.pow(2,1-h),e*c>=2&&(o++,c/=2),o+h>=l?(a=0,o=l):o+h>=1?(a=(e*c-1)*Math.pow(2,i),o=o+h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;r[t+b]=a&255,b+=m,a/=256,i-=8);for(o=o<<i|a,f+=i;f>0;r[t+b]=o&255,b+=m,o/=256,f-=8);r[t+b-m]|=k*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){const e=af,t=ql,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=a,r.SlowBuffer=O,r.INSPECT_MAX_BYTES=50;const i=2147483647;r.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const _=new Uint8Array(1),d={foo:function(){return 42}};return Object.setPrototypeOf(d,Uint8Array.prototype),Object.setPrototypeOf(_,d),_.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(_){if(_>i)throw new RangeError('The value "'+_+'" is invalid for option "size"');const d=new Uint8Array(_);return Object.setPrototypeOf(d,a.prototype),d}function a(_,d,p){if(typeof _=="number"){if(typeof d=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(_)}return c(_,d,p)}a.poolSize=8192;function c(_,d,p){if(typeof _=="string")return w(_,d);if(ArrayBuffer.isView(_))return m(_);if(_==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof _);if(Hr(_,ArrayBuffer)||_&&Hr(_.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Hr(_,SharedArrayBuffer)||_&&Hr(_.buffer,SharedArrayBuffer)))return k(_,d,p);if(typeof _=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const T=_.valueOf&&_.valueOf();if(T!=null&&T!==_)return a.from(T,d,p);const z=S(_);if(z)return z;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof _[Symbol.toPrimitive]=="function")return a.from(_[Symbol.toPrimitive]("string"),d,p);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof _)}a.from=function(_,d,p){return c(_,d,p)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function f(_){if(typeof _!="number")throw new TypeError('"size" argument must be of type number');if(_<0)throw new RangeError('The value "'+_+'" is invalid for option "size"')}function l(_,d,p){return f(_),_<=0?o(_):d!==void 0?typeof p=="string"?o(_).fill(d,p):o(_).fill(d):o(_)}a.alloc=function(_,d,p){return l(_,d,p)};function h(_){return f(_),o(_<0?0:A(_)|0)}a.allocUnsafe=function(_){return h(_)},a.allocUnsafeSlow=function(_){return h(_)};function w(_,d){if((typeof d!="string"||d==="")&&(d="utf8"),!a.isEncoding(d))throw new TypeError("Unknown encoding: "+d);const p=R(_,d)|0;let T=o(p);const z=T.write(_,d);return z!==p&&(T=T.slice(0,z)),T}function b(_){const d=_.length<0?0:A(_.length)|0,p=o(d);for(let T=0;T<d;T+=1)p[T]=_[T]&255;return p}function m(_){if(Hr(_,Uint8Array)){const d=new Uint8Array(_);return k(d.buffer,d.byteOffset,d.byteLength)}return b(_)}function k(_,d,p){if(d<0||_.byteLength<d)throw new RangeError('"offset" is outside of buffer bounds');if(_.byteLength<d+(p||0))throw new RangeError('"length" is outside of buffer bounds');let T;return d===void 0&&p===void 0?T=new Uint8Array(_):p===void 0?T=new Uint8Array(_,d):T=new Uint8Array(_,d,p),Object.setPrototypeOf(T,a.prototype),T}function S(_){if(a.isBuffer(_)){const d=A(_.length)|0,p=o(d);return p.length===0||_.copy(p,0,0,d),p}if(_.length!==void 0)return typeof _.length!="number"||ht(_.length)?o(0):b(_);if(_.type==="Buffer"&&Array.isArray(_.data))return b(_.data)}function A(_){if(_>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return _|0}function O(_){return+_!=_&&(_=0),a.alloc(+_)}a.isBuffer=function(d){return d!=null&&d._isBuffer===!0&&d!==a.prototype},a.compare=function(d,p){if(Hr(d,Uint8Array)&&(d=a.from(d,d.offset,d.byteLength)),Hr(p,Uint8Array)&&(p=a.from(p,p.offset,p.byteLength)),!a.isBuffer(d)||!a.isBuffer(p))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(d===p)return 0;let T=d.length,z=p.length;for(let W=0,j=Math.min(T,z);W<j;++W)if(d[W]!==p[W]){T=d[W],z=p[W];break}return T<z?-1:z<T?1:0},a.isEncoding=function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(d,p){if(!Array.isArray(d))throw new TypeError('"list" argument must be an Array of Buffers');if(d.length===0)return a.alloc(0);let T;if(p===void 0)for(p=0,T=0;T<d.length;++T)p+=d[T].length;const z=a.allocUnsafe(p);let W=0;for(T=0;T<d.length;++T){let j=d[T];if(Hr(j,Uint8Array))W+j.length>z.length?(a.isBuffer(j)||(j=a.from(j)),j.copy(z,W)):Uint8Array.prototype.set.call(z,j,W);else if(a.isBuffer(j))j.copy(z,W);else throw new TypeError('"list" argument must be an Array of Buffers');W+=j.length}return z};function R(_,d){if(a.isBuffer(_))return _.length;if(ArrayBuffer.isView(_)||Hr(_,ArrayBuffer))return _.byteLength;if(typeof _!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof _);const p=_.length,T=arguments.length>2&&arguments[2]===!0;if(!T&&p===0)return 0;let z=!1;for(;;)switch(d){case"ascii":case"latin1":case"binary":return p;case"utf8":case"utf-8":return dt(_).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return p*2;case"hex":return p>>>1;case"base64":return bt(_).length;default:if(z)return T?-1:dt(_).length;d=(""+d).toLowerCase(),z=!0}}a.byteLength=R;function B(_,d,p){let T=!1;if((d===void 0||d<0)&&(d=0),d>this.length||((p===void 0||p>this.length)&&(p=this.length),p<=0)||(p>>>=0,d>>>=0,p<=d))return"";for(_||(_="utf8");;)switch(_){case"hex":return M(this,d,p);case"utf8":case"utf-8":return u(this,d,p);case"ascii":return E(this,d,p);case"latin1":case"binary":return P(this,d,p);case"base64":return v(this,d,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,d,p);default:if(T)throw new TypeError("Unknown encoding: "+_);_=(_+"").toLowerCase(),T=!0}}a.prototype._isBuffer=!0;function N(_,d,p){const T=_[d];_[d]=_[p],_[p]=T}a.prototype.swap16=function(){const d=this.length;if(d%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let p=0;p<d;p+=2)N(this,p,p+1);return this},a.prototype.swap32=function(){const d=this.length;if(d%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let p=0;p<d;p+=4)N(this,p,p+3),N(this,p+1,p+2);return this},a.prototype.swap64=function(){const d=this.length;if(d%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let p=0;p<d;p+=8)N(this,p,p+7),N(this,p+1,p+6),N(this,p+2,p+5),N(this,p+3,p+4);return this},a.prototype.toString=function(){const d=this.length;return d===0?"":arguments.length===0?u(this,0,d):B.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(d){if(!a.isBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d?!0:a.compare(this,d)===0},a.prototype.inspect=function(){let d="";const p=r.INSPECT_MAX_BYTES;return d=this.toString("hex",0,p).replace(/(.{2})/g,"$1 ").trim(),this.length>p&&(d+=" ... "),"<Buffer "+d+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(d,p,T,z,W){if(Hr(d,Uint8Array)&&(d=a.from(d,d.offset,d.byteLength)),!a.isBuffer(d))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof d);if(p===void 0&&(p=0),T===void 0&&(T=d?d.length:0),z===void 0&&(z=0),W===void 0&&(W=this.length),p<0||T>d.length||z<0||W>this.length)throw new RangeError("out of range index");if(z>=W&&p>=T)return 0;if(z>=W)return-1;if(p>=T)return 1;if(p>>>=0,T>>>=0,z>>>=0,W>>>=0,this===d)return 0;let j=W-z,Pe=T-p;const Ne=Math.min(j,Pe),Ie=this.slice(z,W),ct=d.slice(p,T);for(let Ee=0;Ee<Ne;++Ee)if(Ie[Ee]!==ct[Ee]){j=Ie[Ee],Pe=ct[Ee];break}return j<Pe?-1:Pe<j?1:0};function L(_,d,p,T,z){if(_.length===0)return-1;if(typeof p=="string"?(T=p,p=0):p>2147483647?p=2147483647:p<-2147483648&&(p=-2147483648),p=+p,ht(p)&&(p=z?0:_.length-1),p<0&&(p=_.length+p),p>=_.length){if(z)return-1;p=_.length-1}else if(p<0)if(z)p=0;else return-1;if(typeof d=="string"&&(d=a.from(d,T)),a.isBuffer(d))return d.length===0?-1:$(_,d,p,T,z);if(typeof d=="number")return d=d&255,typeof Uint8Array.prototype.indexOf=="function"?z?Uint8Array.prototype.indexOf.call(_,d,p):Uint8Array.prototype.lastIndexOf.call(_,d,p):$(_,[d],p,T,z);throw new TypeError("val must be string, number or Buffer")}function $(_,d,p,T,z){let W=1,j=_.length,Pe=d.length;if(T!==void 0&&(T=String(T).toLowerCase(),T==="ucs2"||T==="ucs-2"||T==="utf16le"||T==="utf-16le")){if(_.length<2||d.length<2)return-1;W=2,j/=2,Pe/=2,p/=2}function Ne(ct,Ee){return W===1?ct[Ee]:ct.readUInt16BE(Ee*W)}let Ie;if(z){let ct=-1;for(Ie=p;Ie<j;Ie++)if(Ne(_,Ie)===Ne(d,ct===-1?0:Ie-ct)){if(ct===-1&&(ct=Ie),Ie-ct+1===Pe)return ct*W}else ct!==-1&&(Ie-=Ie-ct),ct=-1}else for(p+Pe>j&&(p=j-Pe),Ie=p;Ie>=0;Ie--){let ct=!0;for(let Ee=0;Ee<Pe;Ee++)if(Ne(_,Ie+Ee)!==Ne(d,Ee)){ct=!1;break}if(ct)return Ie}return-1}a.prototype.includes=function(d,p,T){return this.indexOf(d,p,T)!==-1},a.prototype.indexOf=function(d,p,T){return L(this,d,p,T,!0)},a.prototype.lastIndexOf=function(d,p,T){return L(this,d,p,T,!1)};function K(_,d,p,T){p=Number(p)||0;const z=_.length-p;T?(T=Number(T),T>z&&(T=z)):T=z;const W=d.length;T>W/2&&(T=W/2);let j;for(j=0;j<T;++j){const Pe=parseInt(d.substr(j*2,2),16);if(ht(Pe))return j;_[p+j]=Pe}return j}function Y(_,d,p,T){return at(dt(d,_.length-p),_,p,T)}function J(_,d,p,T){return at(St(d),_,p,T)}function q(_,d,p,T){return at(bt(d),_,p,T)}function re(_,d,p,T){return at(Sa(d,_.length-p),_,p,T)}a.prototype.write=function(d,p,T,z){if(p===void 0)z="utf8",T=this.length,p=0;else if(T===void 0&&typeof p=="string")z=p,T=this.length,p=0;else if(isFinite(p))p=p>>>0,isFinite(T)?(T=T>>>0,z===void 0&&(z="utf8")):(z=T,T=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const W=this.length-p;if((T===void 0||T>W)&&(T=W),d.length>0&&(T<0||p<0)||p>this.length)throw new RangeError("Attempt to write outside buffer bounds");z||(z="utf8");let j=!1;for(;;)switch(z){case"hex":return K(this,d,p,T);case"utf8":case"utf-8":return Y(this,d,p,T);case"ascii":case"latin1":case"binary":return J(this,d,p,T);case"base64":return q(this,d,p,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return re(this,d,p,T);default:if(j)throw new TypeError("Unknown encoding: "+z);z=(""+z).toLowerCase(),j=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function v(_,d,p){return d===0&&p===_.length?e.fromByteArray(_):e.fromByteArray(_.slice(d,p))}function u(_,d,p){p=Math.min(_.length,p);const T=[];let z=d;for(;z<p;){const W=_[z];let j=null,Pe=W>239?4:W>223?3:W>191?2:1;if(z+Pe<=p){let Ne,Ie,ct,Ee;switch(Pe){case 1:W<128&&(j=W);break;case 2:Ne=_[z+1],(Ne&192)===128&&(Ee=(W&31)<<6|Ne&63,Ee>127&&(j=Ee));break;case 3:Ne=_[z+1],Ie=_[z+2],(Ne&192)===128&&(Ie&192)===128&&(Ee=(W&15)<<12|(Ne&63)<<6|Ie&63,Ee>2047&&(Ee<55296||Ee>57343)&&(j=Ee));break;case 4:Ne=_[z+1],Ie=_[z+2],ct=_[z+3],(Ne&192)===128&&(Ie&192)===128&&(ct&192)===128&&(Ee=(W&15)<<18|(Ne&63)<<12|(Ie&63)<<6|ct&63,Ee>65535&&Ee<1114112&&(j=Ee))}}j===null?(j=65533,Pe=1):j>65535&&(j-=65536,T.push(j>>>10&1023|55296),j=56320|j&1023),T.push(j),z+=Pe}return y(T)}const x=4096;function y(_){const d=_.length;if(d<=x)return String.fromCharCode.apply(String,_);let p="",T=0;for(;T<d;)p+=String.fromCharCode.apply(String,_.slice(T,T+=x));return p}function E(_,d,p){let T="";p=Math.min(_.length,p);for(let z=d;z<p;++z)T+=String.fromCharCode(_[z]&127);return T}function P(_,d,p){let T="";p=Math.min(_.length,p);for(let z=d;z<p;++z)T+=String.fromCharCode(_[z]);return T}function M(_,d,p){const T=_.length;(!d||d<0)&&(d=0),(!p||p<0||p>T)&&(p=T);let z="";for(let W=d;W<p;++W)z+=At[_[W]];return z}function D(_,d,p){const T=_.slice(d,p);let z="";for(let W=0;W<T.length-1;W+=2)z+=String.fromCharCode(T[W]+T[W+1]*256);return z}a.prototype.slice=function(d,p){const T=this.length;d=~~d,p=p===void 0?T:~~p,d<0?(d+=T,d<0&&(d=0)):d>T&&(d=T),p<0?(p+=T,p<0&&(p=0)):p>T&&(p=T),p<d&&(p=d);const z=this.subarray(d,p);return Object.setPrototypeOf(z,a.prototype),z};function I(_,d,p){if(_%1!==0||_<0)throw new RangeError("offset is not uint");if(_+d>p)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(d,p,T){d=d>>>0,p=p>>>0,T||I(d,p,this.length);let z=this[d],W=1,j=0;for(;++j<p&&(W*=256);)z+=this[d+j]*W;return z},a.prototype.readUintBE=a.prototype.readUIntBE=function(d,p,T){d=d>>>0,p=p>>>0,T||I(d,p,this.length);let z=this[d+--p],W=1;for(;p>0&&(W*=256);)z+=this[d+--p]*W;return z},a.prototype.readUint8=a.prototype.readUInt8=function(d,p){return d=d>>>0,p||I(d,1,this.length),this[d]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(d,p){return d=d>>>0,p||I(d,2,this.length),this[d]|this[d+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(d,p){return d=d>>>0,p||I(d,2,this.length),this[d]<<8|this[d+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(d,p){return d=d>>>0,p||I(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+this[d+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(d,p){return d=d>>>0,p||I(d,4,this.length),this[d]*16777216+(this[d+1]<<16|this[d+2]<<8|this[d+3])},a.prototype.readBigUInt64LE=gn(function(d){d=d>>>0,Hn(d,"offset");const p=this[d],T=this[d+7];(p===void 0||T===void 0)&&it(d,this.length-8);const z=p+this[++d]*2**8+this[++d]*2**16+this[++d]*2**24,W=this[++d]+this[++d]*2**8+this[++d]*2**16+T*2**24;return BigInt(z)+(BigInt(W)<<BigInt(32))}),a.prototype.readBigUInt64BE=gn(function(d){d=d>>>0,Hn(d,"offset");const p=this[d],T=this[d+7];(p===void 0||T===void 0)&&it(d,this.length-8);const z=p*2**24+this[++d]*2**16+this[++d]*2**8+this[++d],W=this[++d]*2**24+this[++d]*2**16+this[++d]*2**8+T;return(BigInt(z)<<BigInt(32))+BigInt(W)}),a.prototype.readIntLE=function(d,p,T){d=d>>>0,p=p>>>0,T||I(d,p,this.length);let z=this[d],W=1,j=0;for(;++j<p&&(W*=256);)z+=this[d+j]*W;return W*=128,z>=W&&(z-=Math.pow(2,8*p)),z},a.prototype.readIntBE=function(d,p,T){d=d>>>0,p=p>>>0,T||I(d,p,this.length);let z=p,W=1,j=this[d+--z];for(;z>0&&(W*=256);)j+=this[d+--z]*W;return W*=128,j>=W&&(j-=Math.pow(2,8*p)),j},a.prototype.readInt8=function(d,p){return d=d>>>0,p||I(d,1,this.length),this[d]&128?(255-this[d]+1)*-1:this[d]},a.prototype.readInt16LE=function(d,p){d=d>>>0,p||I(d,2,this.length);const T=this[d]|this[d+1]<<8;return T&32768?T|4294901760:T},a.prototype.readInt16BE=function(d,p){d=d>>>0,p||I(d,2,this.length);const T=this[d+1]|this[d]<<8;return T&32768?T|4294901760:T},a.prototype.readInt32LE=function(d,p){return d=d>>>0,p||I(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},a.prototype.readInt32BE=function(d,p){return d=d>>>0,p||I(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},a.prototype.readBigInt64LE=gn(function(d){d=d>>>0,Hn(d,"offset");const p=this[d],T=this[d+7];(p===void 0||T===void 0)&&it(d,this.length-8);const z=this[d+4]+this[d+5]*2**8+this[d+6]*2**16+(T<<24);return(BigInt(z)<<BigInt(32))+BigInt(p+this[++d]*2**8+this[++d]*2**16+this[++d]*2**24)}),a.prototype.readBigInt64BE=gn(function(d){d=d>>>0,Hn(d,"offset");const p=this[d],T=this[d+7];(p===void 0||T===void 0)&&it(d,this.length-8);const z=(p<<24)+this[++d]*2**16+this[++d]*2**8+this[++d];return(BigInt(z)<<BigInt(32))+BigInt(this[++d]*2**24+this[++d]*2**16+this[++d]*2**8+T)}),a.prototype.readFloatLE=function(d,p){return d=d>>>0,p||I(d,4,this.length),t.read(this,d,!0,23,4)},a.prototype.readFloatBE=function(d,p){return d=d>>>0,p||I(d,4,this.length),t.read(this,d,!1,23,4)},a.prototype.readDoubleLE=function(d,p){return d=d>>>0,p||I(d,8,this.length),t.read(this,d,!0,52,8)},a.prototype.readDoubleBE=function(d,p){return d=d>>>0,p||I(d,8,this.length),t.read(this,d,!1,52,8)};function g(_,d,p,T,z,W){if(!a.isBuffer(_))throw new TypeError('"buffer" argument must be a Buffer instance');if(d>z||d<W)throw new RangeError('"value" argument is out of bounds');if(p+T>_.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(d,p,T,z){if(d=+d,p=p>>>0,T=T>>>0,!z){const Pe=Math.pow(2,8*T)-1;g(this,d,p,T,Pe,0)}let W=1,j=0;for(this[p]=d&255;++j<T&&(W*=256);)this[p+j]=d/W&255;return p+T},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(d,p,T,z){if(d=+d,p=p>>>0,T=T>>>0,!z){const Pe=Math.pow(2,8*T)-1;g(this,d,p,T,Pe,0)}let W=T-1,j=1;for(this[p+W]=d&255;--W>=0&&(j*=256);)this[p+W]=d/j&255;return p+T},a.prototype.writeUint8=a.prototype.writeUInt8=function(d,p,T){return d=+d,p=p>>>0,T||g(this,d,p,1,255,0),this[p]=d&255,p+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(d,p,T){return d=+d,p=p>>>0,T||g(this,d,p,2,65535,0),this[p]=d&255,this[p+1]=d>>>8,p+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(d,p,T){return d=+d,p=p>>>0,T||g(this,d,p,2,65535,0),this[p]=d>>>8,this[p+1]=d&255,p+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(d,p,T){return d=+d,p=p>>>0,T||g(this,d,p,4,4294967295,0),this[p+3]=d>>>24,this[p+2]=d>>>16,this[p+1]=d>>>8,this[p]=d&255,p+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(d,p,T){return d=+d,p=p>>>0,T||g(this,d,p,4,4294967295,0),this[p]=d>>>24,this[p+1]=d>>>16,this[p+2]=d>>>8,this[p+3]=d&255,p+4};function C(_,d,p,T,z){gt(d,T,z,_,p,7);let W=Number(d&BigInt(4294967295));_[p++]=W,W=W>>8,_[p++]=W,W=W>>8,_[p++]=W,W=W>>8,_[p++]=W;let j=Number(d>>BigInt(32)&BigInt(4294967295));return _[p++]=j,j=j>>8,_[p++]=j,j=j>>8,_[p++]=j,j=j>>8,_[p++]=j,p}function be(_,d,p,T,z){gt(d,T,z,_,p,7);let W=Number(d&BigInt(4294967295));_[p+7]=W,W=W>>8,_[p+6]=W,W=W>>8,_[p+5]=W,W=W>>8,_[p+4]=W;let j=Number(d>>BigInt(32)&BigInt(4294967295));return _[p+3]=j,j=j>>8,_[p+2]=j,j=j>>8,_[p+1]=j,j=j>>8,_[p]=j,p+8}a.prototype.writeBigUInt64LE=gn(function(d,p=0){return C(this,d,p,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=gn(function(d,p=0){return be(this,d,p,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(d,p,T,z){if(d=+d,p=p>>>0,!z){const Ne=Math.pow(2,8*T-1);g(this,d,p,T,Ne-1,-Ne)}let W=0,j=1,Pe=0;for(this[p]=d&255;++W<T&&(j*=256);)d<0&&Pe===0&&this[p+W-1]!==0&&(Pe=1),this[p+W]=(d/j>>0)-Pe&255;return p+T},a.prototype.writeIntBE=function(d,p,T,z){if(d=+d,p=p>>>0,!z){const Ne=Math.pow(2,8*T-1);g(this,d,p,T,Ne-1,-Ne)}let W=T-1,j=1,Pe=0;for(this[p+W]=d&255;--W>=0&&(j*=256);)d<0&&Pe===0&&this[p+W+1]!==0&&(Pe=1),this[p+W]=(d/j>>0)-Pe&255;return p+T},a.prototype.writeInt8=function(d,p,T){return d=+d,p=p>>>0,T||g(this,d,p,1,127,-128),d<0&&(d=255+d+1),this[p]=d&255,p+1},a.prototype.writeInt16LE=function(d,p,T){return d=+d,p=p>>>0,T||g(this,d,p,2,32767,-32768),this[p]=d&255,this[p+1]=d>>>8,p+2},a.prototype.writeInt16BE=function(d,p,T){return d=+d,p=p>>>0,T||g(this,d,p,2,32767,-32768),this[p]=d>>>8,this[p+1]=d&255,p+2},a.prototype.writeInt32LE=function(d,p,T){return d=+d,p=p>>>0,T||g(this,d,p,4,2147483647,-2147483648),this[p]=d&255,this[p+1]=d>>>8,this[p+2]=d>>>16,this[p+3]=d>>>24,p+4},a.prototype.writeInt32BE=function(d,p,T){return d=+d,p=p>>>0,T||g(this,d,p,4,2147483647,-2147483648),d<0&&(d=4294967295+d+1),this[p]=d>>>24,this[p+1]=d>>>16,this[p+2]=d>>>8,this[p+3]=d&255,p+4},a.prototype.writeBigInt64LE=gn(function(d,p=0){return C(this,d,p,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=gn(function(d,p=0){return be(this,d,p,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function pe(_,d,p,T,z,W){if(p+T>_.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("Index out of range")}function me(_,d,p,T,z){return d=+d,p=p>>>0,z||pe(_,d,p,4),t.write(_,d,p,T,23,4),p+4}a.prototype.writeFloatLE=function(d,p,T){return me(this,d,p,!0,T)},a.prototype.writeFloatBE=function(d,p,T){return me(this,d,p,!1,T)};function tr(_,d,p,T,z){return d=+d,p=p>>>0,z||pe(_,d,p,8),t.write(_,d,p,T,52,8),p+8}a.prototype.writeDoubleLE=function(d,p,T){return tr(this,d,p,!0,T)},a.prototype.writeDoubleBE=function(d,p,T){return tr(this,d,p,!1,T)},a.prototype.copy=function(d,p,T,z){if(!a.isBuffer(d))throw new TypeError("argument should be a Buffer");if(T||(T=0),!z&&z!==0&&(z=this.length),p>=d.length&&(p=d.length),p||(p=0),z>0&&z<T&&(z=T),z===T||d.length===0||this.length===0)return 0;if(p<0)throw new RangeError("targetStart out of bounds");if(T<0||T>=this.length)throw new RangeError("Index out of range");if(z<0)throw new RangeError("sourceEnd out of bounds");z>this.length&&(z=this.length),d.length-p<z-T&&(z=d.length-p+T);const W=z-T;return this===d&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(p,T,z):Uint8Array.prototype.set.call(d,this.subarray(T,z),p),W},a.prototype.fill=function(d,p,T,z){if(typeof d=="string"){if(typeof p=="string"?(z=p,p=0,T=this.length):typeof T=="string"&&(z=T,T=this.length),z!==void 0&&typeof z!="string")throw new TypeError("encoding must be a string");if(typeof z=="string"&&!a.isEncoding(z))throw new TypeError("Unknown encoding: "+z);if(d.length===1){const j=d.charCodeAt(0);(z==="utf8"&&j<128||z==="latin1")&&(d=j)}}else typeof d=="number"?d=d&255:typeof d=="boolean"&&(d=Number(d));if(p<0||this.length<p||this.length<T)throw new RangeError("Out of range index");if(T<=p)return this;p=p>>>0,T=T===void 0?this.length:T>>>0,d||(d=0);let W;if(typeof d=="number")for(W=p;W<T;++W)this[W]=d;else{const j=a.isBuffer(d)?d:a.from(d,z),Pe=j.length;if(Pe===0)throw new TypeError('The value "'+d+'" is invalid for argument "value"');for(W=0;W<T-p;++W)this[W+p]=j[W%Pe]}return this};const Ge={};function rt(_,d,p){Ge[_]=class extends p{constructor(){super(),Object.defineProperty(this,"message",{value:d.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${_}]`,this.stack,delete this.name}get code(){return _}set code(z){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:z,writable:!0})}toString(){return`${this.name} [${_}]: ${this.message}`}}}rt("ERR_BUFFER_OUT_OF_BOUNDS",function(_){return _?`${_} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),rt("ERR_INVALID_ARG_TYPE",function(_,d){return`The "${_}" argument must be of type number. Received type ${typeof d}`},TypeError),rt("ERR_OUT_OF_RANGE",function(_,d,p){let T=`The value of "${_}" is out of range.`,z=p;return Number.isInteger(p)&&Math.abs(p)>2**32?z=Eo(String(p)):typeof p=="bigint"&&(z=String(p),(p>BigInt(2)**BigInt(32)||p<-(BigInt(2)**BigInt(32)))&&(z=Eo(z)),z+="n"),T+=` It must be ${d}. Received ${z}`,T},RangeError);function Eo(_){let d="",p=_.length;const T=_[0]==="-"?1:0;for(;p>=T+4;p-=3)d=`_${_.slice(p-3,p)}${d}`;return`${_.slice(0,p)}${d}`}function kt(_,d,p){Hn(d,"offset"),(_[d]===void 0||_[d+p]===void 0)&&it(d,_.length-(p+1))}function gt(_,d,p,T,z,W){if(_>p||_<d){const j=typeof d=="bigint"?"n":"";let Pe;throw W>3?d===0||d===BigInt(0)?Pe=`>= 0${j} and < 2${j} ** ${(W+1)*8}${j}`:Pe=`>= -(2${j} ** ${(W+1)*8-1}${j}) and < 2 ** ${(W+1)*8-1}${j}`:Pe=`>= ${d}${j} and <= ${p}${j}`,new Ge.ERR_OUT_OF_RANGE("value",Pe,_)}kt(T,z,W)}function Hn(_,d){if(typeof _!="number")throw new Ge.ERR_INVALID_ARG_TYPE(d,"number",_)}function it(_,d,p){throw Math.floor(_)!==_?(Hn(_,p),new Ge.ERR_OUT_OF_RANGE(p||"offset","an integer",_)):d<0?new Ge.ERR_BUFFER_OUT_OF_BOUNDS:new Ge.ERR_OUT_OF_RANGE(p||"offset",`>= ${p?1:0} and <= ${d}`,_)}const Et=/[^+/0-9A-Za-z-_]/g;function Ea(_){if(_=_.split("=")[0],_=_.trim().replace(Et,""),_.length<2)return"";for(;_.length%4!==0;)_=_+"=";return _}function dt(_,d){d=d||1/0;let p;const T=_.length;let z=null;const W=[];for(let j=0;j<T;++j){if(p=_.charCodeAt(j),p>55295&&p<57344){if(!z){if(p>56319){(d-=3)>-1&&W.push(239,191,189);continue}else if(j+1===T){(d-=3)>-1&&W.push(239,191,189);continue}z=p;continue}if(p<56320){(d-=3)>-1&&W.push(239,191,189),z=p;continue}p=(z-55296<<10|p-56320)+65536}else z&&(d-=3)>-1&&W.push(239,191,189);if(z=null,p<128){if((d-=1)<0)break;W.push(p)}else if(p<2048){if((d-=2)<0)break;W.push(p>>6|192,p&63|128)}else if(p<65536){if((d-=3)<0)break;W.push(p>>12|224,p>>6&63|128,p&63|128)}else if(p<1114112){if((d-=4)<0)break;W.push(p>>18|240,p>>12&63|128,p>>6&63|128,p&63|128)}else throw new Error("Invalid code point")}return W}function St(_){const d=[];for(let p=0;p<_.length;++p)d.push(_.charCodeAt(p)&255);return d}function Sa(_,d){let p,T,z;const W=[];for(let j=0;j<_.length&&!((d-=2)<0);++j)p=_.charCodeAt(j),T=p>>8,z=p%256,W.push(z),W.push(T);return W}function bt(_){return e.toByteArray(Ea(_))}function at(_,d,p,T){let z;for(z=0;z<T&&!(z+p>=d.length||z>=_.length);++z)d[z+p]=_[z];return z}function Hr(_,d){return _ instanceof d||_!=null&&_.constructor!=null&&_.constructor.name!=null&&_.constructor.name===d.name}function ht(_){return _!==_}const At=function(){const _="0123456789abcdef",d=new Array(256);for(let p=0;p<16;++p){const T=p*16;for(let z=0;z<16;++z)d[T+z]=_[p]+_[z]}return d}();function gn(_){return typeof BigInt>"u"?It:_}function It(){throw new Error("BigInt not supported")}})(ve);/*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const vr=BigInt(0),He=BigInt(1),pi=BigInt(2),gw=BigInt(8),Dd=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),lt=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:Dd,n:Dd,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")}),V1=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),Do=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742");const bw=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),yw=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),mw=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),ww=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");class $e{constructor(e,t,n,i){this.x=e,this.y=t,this.z=n,this.t=i}static fromAffine(e){if(!(e instanceof vt))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(vt.ZERO)?$e.ZERO:new $e(e.x,e.y,He,X(e.x*e.y))}static toAffineBatch(e){const t=kw(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(t[i]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){zd(e);const{x:t,y:n,z:i}=this,{x:s,y:o,z:a}=e,c=X(t*a),f=X(s*i),l=X(n*a),h=X(o*i);return c===f&&l===h}negate(){return new $e(X(-this.x),this.y,this.z,X(-this.t))}double(){const{x:e,y:t,z:n}=this,{a:i}=lt,s=X(e*e),o=X(t*t),a=X(pi*X(n*n)),c=X(i*s),f=e+t,l=X(X(f*f)-s-o),h=c+o,w=h-a,b=c-o,m=X(l*w),k=X(h*b),S=X(l*b),A=X(w*h);return new $e(m,k,A,S)}add(e){zd(e);const{x:t,y:n,z:i,t:s}=this,{x:o,y:a,z:c,t:f}=e,l=X((n-t)*(a+o)),h=X((n+t)*(a-o)),w=X(h-l);if(w===vr)return this.double();const b=X(i*pi*f),m=X(s*pi*c),k=m+b,S=h+l,A=m-b,O=X(k*w),R=X(S*A),B=X(k*A),N=X(w*S);return new $e(O,R,N,B)}subtract(e){return this.add(e.negate())}precomputeWindow(e){const t=1+256/e,n=[];let i=this,s=i;for(let o=0;o<t;o++){s=i,n.push(s);for(let a=1;a<2**(e-1);a++)s=s.add(i),n.push(s);i=s.double()}return n}wNAF(e,t){!t&&this.equals($e.BASE)&&(t=vt.BASE);const n=t&&t._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=t&&cl.get(t);i||(i=this.precomputeWindow(n),t&&n!==1&&(i=$e.normalizeZ(i),cl.set(t,i)));let s=$e.ZERO,o=$e.BASE;const a=1+256/n,c=2**(n-1),f=BigInt(2**n-1),l=2**n,h=BigInt(n);for(let w=0;w<a;w++){const b=w*c;let m=Number(e&f);e>>=h,m>c&&(m-=l,e+=He);const k=b,S=b+Math.abs(m)-1,A=w%2!==0,O=m<0;m===0?o=o.add($d(A,i[k])):s=s.add($d(O,i[S]))}return $e.normalizeZ([s,o])[0]}multiply(e,t){return this.wNAF(_c(e,lt.l),t)}multiplyUnsafe(e){let t=_c(e,lt.l,!1);const n=$e.BASE,i=$e.ZERO;if(t===vr)return i;if(this.equals(i)||t===He)return this;if(this.equals(n))return this.wNAF(t);let s=i,o=this;for(;t>vr;)t&He&&(s=s.add(o)),o=o.double(),t>>=He;return s}isSmallOrder(){return this.multiplyUnsafe(lt.h).equals($e.ZERO)}isTorsionFree(){let e=this.multiplyUnsafe(lt.l/pi).double();return lt.l%pi&&(e=e.add(this)),e.equals($e.ZERO)}toAffine(e){const{x:t,y:n,z:i}=this,s=this.equals($e.ZERO);e==null&&(e=s?gw:cf(i));const o=X(t*e),a=X(n*e),c=X(i*e);if(s)return vt.ZERO;if(c!==He)throw new Error("invZ was invalid");return new vt(o,a)}fromRistrettoBytes(){du()}toRistrettoBytes(){du()}fromRistrettoHash(){du()}}$e.BASE=new $e(lt.Gx,lt.Gy,He,X(lt.Gx*lt.Gy));$e.ZERO=new $e(vr,He,He,vr);function $d(r,e){const t=e.negate();return r?t:e}function zd(r){if(!(r instanceof $e))throw new TypeError("ExtendedPoint expected")}function lu(r){if(!(r instanceof un))throw new TypeError("RistrettoPoint expected")}function du(){throw new Error("Legacy method: switch to RistrettoPoint")}class un{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){const{d:t}=lt,n=X(Do*e*e),i=X((n+He)*mw);let s=BigInt(-1);const o=X((s-t*n)*X(n+t));let{isValid:a,value:c}=jl(i,o),f=X(c*e);ui(f)||(f=X(-f)),a||(c=f),a||(s=n);const l=X(s*(n-He)*ww-o),h=c*c,w=X((c+c)*o),b=X(l*bw),m=X(He-h),k=X(He+h);return new $e(X(w*k),X(m*b),X(b*k),X(w*m))}static hashToCurve(e){e=Ti(e,64);const t=hu(e.slice(0,32)),n=this.calcElligatorRistrettoMap(t),i=hu(e.slice(32,64)),s=this.calcElligatorRistrettoMap(i);return new un(n.add(s))}static fromHex(e){e=Ti(e,32);const{a:t,d:n}=lt,i="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",s=hu(e);if(!Sw(Qo(s),e)||ui(s))throw new Error(i);const o=X(s*s),a=X(He+t*o),c=X(He-t*o),f=X(a*a),l=X(c*c),h=X(t*n*f-l),{isValid:w,value:b}=Wd(X(h*l)),m=X(b*c),k=X(b*m*h);let S=X((s+s)*m);ui(S)&&(S=X(-S));const A=X(a*k),O=X(S*A);if(!w||ui(O)||A===vr)throw new Error(i);return new un(new $e(S,A,He,O))}toRawBytes(){let{x:e,y:t,z:n,t:i}=this.ep;const s=X(X(n+t)*X(n-t)),o=X(e*t),a=X(o*o),{value:c}=Wd(X(s*a)),f=X(c*s),l=X(c*o),h=X(f*l*i);let w;if(ui(i*h)){let m=X(t*Do),k=X(e*Do);e=m,t=k,w=X(f*yw)}else w=l;ui(e*h)&&(t=X(-t));let b=X((n-t)*w);return ui(b)&&(b=X(-b)),Qo(b)}toHex(){return xa(this.toRawBytes())}toString(){return this.toHex()}equals(e){lu(e);const t=this.ep,n=e.ep,i=X(t.x*n.y)===X(t.y*n.x),s=X(t.y*n.y)===X(t.x*n.x);return i||s}add(e){return lu(e),new un(this.ep.add(e.ep))}subtract(e){return lu(e),new un(this.ep.subtract(e.ep))}multiply(e){return new un(this.ep.multiply(e))}multiplyUnsafe(e){return new un(this.ep.multiplyUnsafe(e))}}un.BASE=new un($e.BASE);un.ZERO=new un($e.ZERO);const cl=new WeakMap;class vt{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,cl.delete(this)}static fromHex(e,t=!0){const{d:n,P:i}=lt;e=Ti(e,32);const s=e.slice();s[31]=e[31]&-129;const o=ga(s);if(t&&o>=i)throw new Error("Expected 0 < hex < P");if(!t&&o>=V1)throw new Error("Expected 0 < hex < 2**256");const a=X(o*o),c=X(a-He),f=X(n*a+He);let{isValid:l,value:h}=jl(c,f);if(!l)throw new Error("Point.fromHex: invalid y coordinate");const w=(h&He)===He;return(e[31]&128)!==0!==w&&(h=X(-h)),new vt(h,o)}static async fromPrivateKey(e){return(await Z1(e)).point}toRawBytes(){const e=Qo(this.y);return e[31]|=this.x&He?128:0,e}toHex(){return xa(this.toRawBytes())}toX25519(){const{y:e}=this,t=X((He+e)*cf(He-e));return Qo(t)}isTorsionFree(){return $e.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new vt(X(-this.x),this.y)}add(e){return $e.fromAffine(this).add($e.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return $e.fromAffine(this).multiply(e,this).toAffine()}}vt.BASE=new vt(lt.Gx,lt.Gy);vt.ZERO=new vt(vr,He);class Xo{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromHex(e){const t=Ti(e,64),n=vt.fromHex(t.slice(0,32),!1),i=ga(t.slice(32,64));return new Xo(n,i)}assertValidity(){const{r:e,s:t}=this;if(!(e instanceof vt))throw new Error("Expected Point instance");return _c(t,lt.l,!1),this}toRawBytes(){const e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(Qo(this.s),32),e}toHex(){return xa(this.toRawBytes())}}function Kd(...r){if(!r.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(r.length===1)return r[0];const e=r.reduce((n,i)=>n+i.length,0),t=new Uint8Array(e);for(let n=0,i=0;n<r.length;n++){const s=r[n];t.set(s,i),i+=s.length}return t}const vw=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function xa(r){if(!(r instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let t=0;t<r.length;t++)e+=vw[r[t]];return e}function Vl(r){if(typeof r!="string")throw new TypeError("hexToBytes: expected string, got "+typeof r);if(r.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(r.length/2);for(let t=0;t<e.length;t++){const n=t*2,i=r.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[t]=s}return e}function j1(r){const t=r.toString(16).padStart(64,"0");return Vl(t)}function Qo(r){return j1(r).reverse()}function ui(r){return(X(r)&He)===He}function ga(r){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+xa(Uint8Array.from(r).reverse()))}const _w=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function hu(r){return X(ga(r)&_w)}function X(r,e=lt.P){const t=r%e;return t>=vr?t:e+t}function cf(r,e=lt.P){if(r===vr||e<=vr)throw new Error(`invert: expected positive integers, got n=${r} mod=${e}`);let t=X(r,e),n=e,i=vr,s=He;for(;t!==vr;){const a=n/t,c=n%t,f=i-s*a;n=t,t=c,i=s,s=f}if(n!==He)throw new Error("invert: does not exist");return X(i,e)}function kw(r,e=lt.P){const t=new Array(r.length),n=r.reduce((s,o,a)=>o===vr?s:(t[a]=s,X(s*o,e)),He),i=cf(n,e);return r.reduceRight((s,o,a)=>o===vr?s:(t[a]=X(s*t[a],e),X(s*o,e)),i),t}function Rn(r,e){const{P:t}=lt;let n=r;for(;e-- >vr;)n*=n,n%=t;return n}function Ew(r){const{P:e}=lt,t=BigInt(5),n=BigInt(10),i=BigInt(20),s=BigInt(40),o=BigInt(80),c=r*r%e*r%e,f=Rn(c,pi)*c%e,l=Rn(f,He)*r%e,h=Rn(l,t)*l%e,w=Rn(h,n)*h%e,b=Rn(w,i)*w%e,m=Rn(b,s)*b%e,k=Rn(m,o)*m%e,S=Rn(k,o)*m%e,A=Rn(S,n)*h%e;return{pow_p_5_8:Rn(A,pi)*r%e,b2:c}}function jl(r,e){const t=X(e*e*e),n=X(t*t*e),i=Ew(r*n).pow_p_5_8;let s=X(r*t*i);const o=X(e*s*s),a=s,c=X(s*Do),f=o===r,l=o===X(-r),h=o===X(-r*Do);return f&&(s=a),(l||h)&&(s=c),ui(s)&&(s=X(-s)),{isValid:f||l,value:s}}function Wd(r){return jl(He,r)}function vc(r){return X(ga(r),lt.l)}function Sw(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function Ti(r,e){const t=r instanceof Uint8Array?Uint8Array.from(r):Vl(r);if(typeof e=="number"&&t.length!==e)throw new Error(`Expected ${e} bytes`);return t}function _c(r,e,t=!0){if(!e)throw new TypeError("Specify max value");if(typeof r=="number"&&Number.isSafeInteger(r)&&(r=BigInt(r)),typeof r=="bigint"&&r<e){if(t){if(vr<r)return r}else if(vr<=r)return r}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function Aw(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}function Y1(r){if(r=typeof r=="bigint"||typeof r=="number"?j1(_c(r,V1)):Ti(r),r.length!==32)throw new Error("Expected 32 bytes");return r}function J1(r){const e=Aw(r.slice(0,32)),t=r.slice(32,64),n=vc(e),i=vt.BASE.multiply(n),s=i.toRawBytes();return{head:e,prefix:t,scalar:n,point:i,pointBytes:s}}let $o;function kc(...r){if(typeof $o!="function")throw new Error("utils.sha512Sync must be set to use sync methods");return $o(...r)}async function Z1(r){return J1(await Xi.sha512(Y1(r)))}function Yl(r){return J1(kc(Y1(r)))}function Iw(r){return Yl(r).pointBytes}function Rw(r,e){r=Ti(r);const{prefix:t,scalar:n,pointBytes:i}=Yl(e),s=vc(kc(t,r)),o=vt.BASE.multiply(s),a=vc(kc(o.toRawBytes(),i,r)),c=X(s+a*n,lt.l);return new Xo(o,c).toRawBytes()}function Tw(r,e,t){e=Ti(e),t instanceof vt||(t=vt.fromHex(t,!1));const{r:n,s:i}=r instanceof Xo?r.assertValidity():Xo.fromHex(r),s=$e.BASE.multiplyUnsafe(i);return{r:n,s:i,SB:s,pub:t,msg:e}}function Nw(r,e,t,n){const i=vc(n),s=$e.fromAffine(r).multiplyUnsafe(i);return $e.fromAffine(e).add(s).subtract(t).multiplyUnsafe(lt.h).equals($e.ZERO)}function Pw(r,e,t){const{r:n,SB:i,msg:s,pub:o}=Tw(r,e,t),a=kc(n.toRawBytes(),o.toRawBytes(),s);return Nw(o,n,i,a)}const Jl={getExtendedPublicKey:Yl,getPublicKey:Iw,sign:Rw,verify:Pw};vt.BASE._setWindowSize(8);const ci={node:Dl,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Xi={bytesToHex:xa,hexToBytes:Vl,concatBytes:Kd,getExtendedPublicKey:Z1,mod:X,invert:cf,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:r=>{if(r=Ti(r),r.length<40||r.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return X(ga(r),lt.l-He)+He},randomBytes:(r=32)=>{if(ci.web)return ci.web.getRandomValues(new Uint8Array(r));if(ci.node){const{randomBytes:e}=ci.node;return new Uint8Array(e(r).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Xi.randomBytes(32),sha512:async(...r)=>{const e=Kd(...r);if(ci.web){const t=await ci.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(t)}else{if(ci.node)return Uint8Array.from(ci.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(r=8,e=vt.BASE){const t=e.equals(vt.BASE)?e:new vt(e.x,e.y);return t._setWindowSize(r),t.multiply(pi),t},sha512Sync:void 0};Object.defineProperties(Xi,{sha512Sync:{configurable:!1,get(){return $o},set(r){$o||($o=r)}}});var co={},Bw={get exports(){return co},set exports(r){co=r}};const Ow=Gl(Dl);(function(r){(function(e,t){function n(v,u){if(!v)throw new Error(u||"Assertion failed")}function i(v,u){v.super_=u;var x=function(){};x.prototype=u.prototype,v.prototype=new x,v.prototype.constructor=v}function s(v,u,x){if(s.isBN(v))return v;this.negative=0,this.words=null,this.length=0,this.red=null,v!==null&&((u==="le"||u==="be")&&(x=u,u=10),this._init(v||0,u||10,x||"be"))}typeof e=="object"?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Ow.Buffer}catch{}s.isBN=function(u){return u instanceof s?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===s.wordSize&&Array.isArray(u.words)},s.max=function(u,x){return u.cmp(x)>0?u:x},s.min=function(u,x){return u.cmp(x)<0?u:x},s.prototype._init=function(u,x,y){if(typeof u=="number")return this._initNumber(u,x,y);if(typeof u=="object")return this._initArray(u,x,y);x==="hex"&&(x=16),n(x===(x|0)&&x>=2&&x<=36),u=u.toString().replace(/\s+/g,"");var E=0;u[0]==="-"&&(E++,this.negative=1),E<u.length&&(x===16?this._parseHex(u,E,y):(this._parseBase(u,x,E),y==="le"&&this._initArray(this.toArray(),x,y)))},s.prototype._initNumber=function(u,x,y){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(n(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),y==="le"&&this._initArray(this.toArray(),x,y)},s.prototype._initArray=function(u,x,y){if(n(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var P,M,D=0;if(y==="be")for(E=u.length-1,P=0;E>=0;E-=3)M=u[E]|u[E-1]<<8|u[E-2]<<16,this.words[P]|=M<<D&67108863,this.words[P+1]=M>>>26-D&67108863,D+=24,D>=26&&(D-=26,P++);else if(y==="le")for(E=0,P=0;E<u.length;E+=3)M=u[E]|u[E+1]<<8|u[E+2]<<16,this.words[P]|=M<<D&67108863,this.words[P+1]=M>>>26-D&67108863,D+=24,D>=26&&(D-=26,P++);return this._strip()};function a(v,u){var x=v.charCodeAt(u);if(x>=48&&x<=57)return x-48;if(x>=65&&x<=70)return x-55;if(x>=97&&x<=102)return x-87;n(!1,"Invalid character in "+v)}function c(v,u,x){var y=a(v,x);return x-1>=u&&(y|=a(v,x-1)<<4),y}s.prototype._parseHex=function(u,x,y){this.length=Math.ceil((u.length-x)/6),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var P=0,M=0,D;if(y==="be")for(E=u.length-1;E>=x;E-=2)D=c(u,x,E)<<P,this.words[M]|=D&67108863,P>=18?(P-=18,M+=1,this.words[M]|=D>>>26):P+=8;else{var I=u.length-x;for(E=I%2===0?x+1:x;E<u.length;E+=2)D=c(u,x,E)<<P,this.words[M]|=D&67108863,P>=18?(P-=18,M+=1,this.words[M]|=D>>>26):P+=8}this._strip()};function f(v,u,x,y){for(var E=0,P=0,M=Math.min(v.length,x),D=u;D<M;D++){var I=v.charCodeAt(D)-48;E*=y,I>=49?P=I-49+10:I>=17?P=I-17+10:P=I,n(I>=0&&P<y,"Invalid character"),E+=P}return E}s.prototype._parseBase=function(u,x,y){this.words=[0],this.length=1;for(var E=0,P=1;P<=67108863;P*=x)E++;E--,P=P/x|0;for(var M=u.length-y,D=M%E,I=Math.min(M,M-D)+y,g=0,C=y;C<I;C+=E)g=f(u,C,C+E,x),this.imuln(P),this.words[0]+g<67108864?this.words[0]+=g:this._iaddn(g);if(D!==0){var be=1;for(g=f(u,C,u.length,x),C=0;C<D;C++)be*=x;this.imuln(be),this.words[0]+g<67108864?this.words[0]+=g:this._iaddn(g)}this._strip()},s.prototype.copy=function(u){u.words=new Array(this.length);for(var x=0;x<this.length;x++)u.words[x]=this.words[x];u.length=this.length,u.negative=this.negative,u.red=this.red};function l(v,u){v.words=u.words,v.length=u.length,v.negative=u.negative,v.red=u.red}if(s.prototype._move=function(u){l(u,this)},s.prototype.clone=function(){var u=new s(null);return this.copy(u),u},s.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch{s.prototype.inspect=h}else s.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(u,x){u=u||10,x=x|0||1;var y;if(u===16||u==="hex"){y="";for(var E=0,P=0,M=0;M<this.length;M++){var D=this.words[M],I=((D<<E|P)&16777215).toString(16);P=D>>>24-E&16777215,E+=2,E>=26&&(E-=26,M--),P!==0||M!==this.length-1?y=w[6-I.length]+I+y:y=I+y}for(P!==0&&(y=P.toString(16)+y);y.length%x!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}if(u===(u|0)&&u>=2&&u<=36){var g=b[u],C=m[u];y="";var be=this.clone();for(be.negative=0;!be.isZero();){var pe=be.modrn(C).toString(u);be=be.idivn(C),be.isZero()?y=pe+y:y=w[g-pe.length]+pe+y}for(this.isZero()&&(y="0"+y);y.length%x!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(u,x){return this.toArrayLike(o,u,x)}),s.prototype.toArray=function(u,x){return this.toArrayLike(Array,u,x)};var k=function(u,x){return u.allocUnsafe?u.allocUnsafe(x):new u(x)};s.prototype.toArrayLike=function(u,x,y){this._strip();var E=this.byteLength(),P=y||Math.max(1,E);n(E<=P,"byte array longer than desired length"),n(P>0,"Requested array length <= 0");var M=k(u,P),D=x==="le"?"LE":"BE";return this["_toArrayLike"+D](M,E),M},s.prototype._toArrayLikeLE=function(u,x){for(var y=0,E=0,P=0,M=0;P<this.length;P++){var D=this.words[P]<<M|E;u[y++]=D&255,y<u.length&&(u[y++]=D>>8&255),y<u.length&&(u[y++]=D>>16&255),M===6?(y<u.length&&(u[y++]=D>>24&255),E=0,M=0):(E=D>>>24,M+=2)}if(y<u.length)for(u[y++]=E;y<u.length;)u[y++]=0},s.prototype._toArrayLikeBE=function(u,x){for(var y=u.length-1,E=0,P=0,M=0;P<this.length;P++){var D=this.words[P]<<M|E;u[y--]=D&255,y>=0&&(u[y--]=D>>8&255),y>=0&&(u[y--]=D>>16&255),M===6?(y>=0&&(u[y--]=D>>24&255),E=0,M=0):(E=D>>>24,M+=2)}if(y>=0)for(u[y--]=E;y>=0;)u[y--]=0},Math.clz32?s.prototype._countBits=function(u){return 32-Math.clz32(u)}:s.prototype._countBits=function(u){var x=u,y=0;return x>=4096&&(y+=13,x>>>=13),x>=64&&(y+=7,x>>>=7),x>=8&&(y+=4,x>>>=4),x>=2&&(y+=2,x>>>=2),y+x},s.prototype._zeroBits=function(u){if(u===0)return 26;var x=u,y=0;return x&8191||(y+=13,x>>>=13),x&127||(y+=7,x>>>=7),x&15||(y+=4,x>>>=4),x&3||(y+=2,x>>>=2),x&1||y++,y},s.prototype.bitLength=function(){var u=this.words[this.length-1],x=this._countBits(u);return(this.length-1)*26+x};function S(v){for(var u=new Array(v.bitLength()),x=0;x<u.length;x++){var y=x/26|0,E=x%26;u[x]=v.words[y]>>>E&1}return u}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,x=0;x<this.length;x++){var y=this._zeroBits(this.words[x]);if(u+=y,y!==26)break}return u},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},s.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var x=0;x<u.length;x++)this.words[x]=this.words[x]|u.words[x];return this._strip()},s.prototype.ior=function(u){return n((this.negative|u.negative)===0),this.iuor(u)},s.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},s.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},s.prototype.iuand=function(u){var x;this.length>u.length?x=u:x=this;for(var y=0;y<x.length;y++)this.words[y]=this.words[y]&u.words[y];return this.length=x.length,this._strip()},s.prototype.iand=function(u){return n((this.negative|u.negative)===0),this.iuand(u)},s.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},s.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},s.prototype.iuxor=function(u){var x,y;this.length>u.length?(x=this,y=u):(x=u,y=this);for(var E=0;E<y.length;E++)this.words[E]=x.words[E]^y.words[E];if(this!==x)for(;E<x.length;E++)this.words[E]=x.words[E];return this.length=x.length,this._strip()},s.prototype.ixor=function(u){return n((this.negative|u.negative)===0),this.iuxor(u)},s.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},s.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},s.prototype.inotn=function(u){n(typeof u=="number"&&u>=0);var x=Math.ceil(u/26)|0,y=u%26;this._expand(x),y>0&&x--;for(var E=0;E<x;E++)this.words[E]=~this.words[E]&67108863;return y>0&&(this.words[E]=~this.words[E]&67108863>>26-y),this._strip()},s.prototype.notn=function(u){return this.clone().inotn(u)},s.prototype.setn=function(u,x){n(typeof u=="number"&&u>=0);var y=u/26|0,E=u%26;return this._expand(y+1),x?this.words[y]=this.words[y]|1<<E:this.words[y]=this.words[y]&~(1<<E),this._strip()},s.prototype.iadd=function(u){var x;if(this.negative!==0&&u.negative===0)return this.negative=0,x=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,x=this.isub(u),u.negative=1,x._normSign();var y,E;this.length>u.length?(y=this,E=u):(y=u,E=this);for(var P=0,M=0;M<E.length;M++)x=(y.words[M]|0)+(E.words[M]|0)+P,this.words[M]=x&67108863,P=x>>>26;for(;P!==0&&M<y.length;M++)x=(y.words[M]|0)+P,this.words[M]=x&67108863,P=x>>>26;if(this.length=y.length,P!==0)this.words[this.length]=P,this.length++;else if(y!==this)for(;M<y.length;M++)this.words[M]=y.words[M];return this},s.prototype.add=function(u){var x;return u.negative!==0&&this.negative===0?(u.negative=0,x=this.sub(u),u.negative^=1,x):u.negative===0&&this.negative!==0?(this.negative=0,x=u.sub(this),this.negative=1,x):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},s.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var x=this.iadd(u);return u.negative=1,x._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var y=this.cmp(u);if(y===0)return this.negative=0,this.length=1,this.words[0]=0,this;var E,P;y>0?(E=this,P=u):(E=u,P=this);for(var M=0,D=0;D<P.length;D++)x=(E.words[D]|0)-(P.words[D]|0)+M,M=x>>26,this.words[D]=x&67108863;for(;M!==0&&D<E.length;D++)x=(E.words[D]|0)+M,M=x>>26,this.words[D]=x&67108863;if(M===0&&D<E.length&&E!==this)for(;D<E.length;D++)this.words[D]=E.words[D];return this.length=Math.max(this.length,D),E!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(u){return this.clone().isub(u)};function A(v,u,x){x.negative=u.negative^v.negative;var y=v.length+u.length|0;x.length=y,y=y-1|0;var E=v.words[0]|0,P=u.words[0]|0,M=E*P,D=M&67108863,I=M/67108864|0;x.words[0]=D;for(var g=1;g<y;g++){for(var C=I>>>26,be=I&67108863,pe=Math.min(g,u.length-1),me=Math.max(0,g-v.length+1);me<=pe;me++){var tr=g-me|0;E=v.words[tr]|0,P=u.words[me]|0,M=E*P+be,C+=M/67108864|0,be=M&67108863}x.words[g]=be|0,I=C|0}return I!==0?x.words[g]=I|0:x.length--,x._strip()}var O=function(u,x,y){var E=u.words,P=x.words,M=y.words,D=0,I,g,C,be=E[0]|0,pe=be&8191,me=be>>>13,tr=E[1]|0,Ge=tr&8191,rt=tr>>>13,Eo=E[2]|0,kt=Eo&8191,gt=Eo>>>13,Hn=E[3]|0,it=Hn&8191,Et=Hn>>>13,Ea=E[4]|0,dt=Ea&8191,St=Ea>>>13,Sa=E[5]|0,bt=Sa&8191,at=Sa>>>13,Hr=E[6]|0,ht=Hr&8191,At=Hr>>>13,gn=E[7]|0,It=gn&8191,_=gn>>>13,d=E[8]|0,p=d&8191,T=d>>>13,z=E[9]|0,W=z&8191,j=z>>>13,Pe=P[0]|0,Ne=Pe&8191,Ie=Pe>>>13,ct=P[1]|0,Ee=ct&8191,Mt=ct>>>13,M0=P[2]|0,Ut=M0&8191,Lt=M0>>>13,U0=P[3]|0,Ft=U0&8191,Dt=U0>>>13,L0=P[4]|0,$t=L0&8191,zt=L0>>>13,F0=P[5]|0,Kt=F0&8191,Wt=F0>>>13,D0=P[6]|0,Ht=D0&8191,Gt=D0>>>13,$0=P[7]|0,qt=$0&8191,Vt=$0>>>13,z0=P[8]|0,jt=z0&8191,Yt=z0>>>13,K0=P[9]|0,Jt=K0&8191,Zt=K0>>>13;y.negative=u.negative^x.negative,y.length=19,I=Math.imul(pe,Ne),g=Math.imul(pe,Ie),g=g+Math.imul(me,Ne)|0,C=Math.imul(me,Ie);var Nf=(D+I|0)+((g&8191)<<13)|0;D=(C+(g>>>13)|0)+(Nf>>>26)|0,Nf&=67108863,I=Math.imul(Ge,Ne),g=Math.imul(Ge,Ie),g=g+Math.imul(rt,Ne)|0,C=Math.imul(rt,Ie),I=I+Math.imul(pe,Ee)|0,g=g+Math.imul(pe,Mt)|0,g=g+Math.imul(me,Ee)|0,C=C+Math.imul(me,Mt)|0;var Pf=(D+I|0)+((g&8191)<<13)|0;D=(C+(g>>>13)|0)+(Pf>>>26)|0,Pf&=67108863,I=Math.imul(kt,Ne),g=Math.imul(kt,Ie),g=g+Math.imul(gt,Ne)|0,C=Math.imul(gt,Ie),I=I+Math.imul(Ge,Ee)|0,g=g+Math.imul(Ge,Mt)|0,g=g+Math.imul(rt,Ee)|0,C=C+Math.imul(rt,Mt)|0,I=I+Math.imul(pe,Ut)|0,g=g+Math.imul(pe,Lt)|0,g=g+Math.imul(me,Ut)|0,C=C+Math.imul(me,Lt)|0;var Bf=(D+I|0)+((g&8191)<<13)|0;D=(C+(g>>>13)|0)+(Bf>>>26)|0,Bf&=67108863,I=Math.imul(it,Ne),g=Math.imul(it,Ie),g=g+Math.imul(Et,Ne)|0,C=Math.imul(Et,Ie),I=I+Math.imul(kt,Ee)|0,g=g+Math.imul(kt,Mt)|0,g=g+Math.imul(gt,Ee)|0,C=C+Math.imul(gt,Mt)|0,I=I+Math.imul(Ge,Ut)|0,g=g+Math.imul(Ge,Lt)|0,g=g+Math.imul(rt,Ut)|0,C=C+Math.imul(rt,Lt)|0,I=I+Math.imul(pe,Ft)|0,g=g+Math.imul(pe,Dt)|0,g=g+Math.imul(me,Ft)|0,C=C+Math.imul(me,Dt)|0;var Of=(D+I|0)+((g&8191)<<13)|0;D=(C+(g>>>13)|0)+(Of>>>26)|0,Of&=67108863,I=Math.imul(dt,Ne),g=Math.imul(dt,Ie),g=g+Math.imul(St,Ne)|0,C=Math.imul(St,Ie),I=I+Math.imul(it,Ee)|0,g=g+Math.imul(it,Mt)|0,g=g+Math.imul(Et,Ee)|0,C=C+Math.imul(Et,Mt)|0,I=I+Math.imul(kt,Ut)|0,g=g+Math.imul(kt,Lt)|0,g=g+Math.imul(gt,Ut)|0,C=C+Math.imul(gt,Lt)|0,I=I+Math.imul(Ge,Ft)|0,g=g+Math.imul(Ge,Dt)|0,g=g+Math.imul(rt,Ft)|0,C=C+Math.imul(rt,Dt)|0,I=I+Math.imul(pe,$t)|0,g=g+Math.imul(pe,zt)|0,g=g+Math.imul(me,$t)|0,C=C+Math.imul(me,zt)|0;var Cf=(D+I|0)+((g&8191)<<13)|0;D=(C+(g>>>13)|0)+(Cf>>>26)|0,Cf&=67108863,I=Math.imul(bt,Ne),g=Math.imul(bt,Ie),g=g+Math.imul(at,Ne)|0,C=Math.imul(at,Ie),I=I+Math.imul(dt,Ee)|0,g=g+Math.imul(dt,Mt)|0,g=g+Math.imul(St,Ee)|0,C=C+Math.imul(St,Mt)|0,I=I+Math.imul(it,Ut)|0,g=g+Math.imul(it,Lt)|0,g=g+Math.imul(Et,Ut)|0,C=C+Math.imul(Et,Lt)|0,I=I+Math.imul(kt,Ft)|0,g=g+Math.imul(kt,Dt)|0,g=g+Math.imul(gt,Ft)|0,C=C+Math.imul(gt,Dt)|0,I=I+Math.imul(Ge,$t)|0,g=g+Math.imul(Ge,zt)|0,g=g+Math.imul(rt,$t)|0,C=C+Math.imul(rt,zt)|0,I=I+Math.imul(pe,Kt)|0,g=g+Math.imul(pe,Wt)|0,g=g+Math.imul(me,Kt)|0,C=C+Math.imul(me,Wt)|0;var Mf=(D+I|0)+((g&8191)<<13)|0;D=(C+(g>>>13)|0)+(Mf>>>26)|0,Mf&=67108863,I=Math.imul(ht,Ne),g=Math.imul(ht,Ie),g=g+Math.imul(At,Ne)|0,C=Math.imul(At,Ie),I=I+Math.imul(bt,Ee)|0,g=g+Math.imul(bt,Mt)|0,g=g+Math.imul(at,Ee)|0,C=C+Math.imul(at,Mt)|0,I=I+Math.imul(dt,Ut)|0,g=g+Math.imul(dt,Lt)|0,g=g+Math.imul(St,Ut)|0,C=C+Math.imul(St,Lt)|0,I=I+Math.imul(it,Ft)|0,g=g+Math.imul(it,Dt)|0,g=g+Math.imul(Et,Ft)|0,C=C+Math.imul(Et,Dt)|0,I=I+Math.imul(kt,$t)|0,g=g+Math.imul(kt,zt)|0,g=g+Math.imul(gt,$t)|0,C=C+Math.imul(gt,zt)|0,I=I+Math.imul(Ge,Kt)|0,g=g+Math.imul(Ge,Wt)|0,g=g+Math.imul(rt,Kt)|0,C=C+Math.imul(rt,Wt)|0,I=I+Math.imul(pe,Ht)|0,g=g+Math.imul(pe,Gt)|0,g=g+Math.imul(me,Ht)|0,C=C+Math.imul(me,Gt)|0;var Uf=(D+I|0)+((g&8191)<<13)|0;D=(C+(g>>>13)|0)+(Uf>>>26)|0,Uf&=67108863,I=Math.imul(It,Ne),g=Math.imul(It,Ie),g=g+Math.imul(_,Ne)|0,C=Math.imul(_,Ie),I=I+Math.imul(ht,Ee)|0,g=g+Math.imul(ht,Mt)|0,g=g+Math.imul(At,Ee)|0,C=C+Math.imul(At,Mt)|0,I=I+Math.imul(bt,Ut)|0,g=g+Math.imul(bt,Lt)|0,g=g+Math.imul(at,Ut)|0,C=C+Math.imul(at,Lt)|0,I=I+Math.imul(dt,Ft)|0,g=g+Math.imul(dt,Dt)|0,g=g+Math.imul(St,Ft)|0,C=C+Math.imul(St,Dt)|0,I=I+Math.imul(it,$t)|0,g=g+Math.imul(it,zt)|0,g=g+Math.imul(Et,$t)|0,C=C+Math.imul(Et,zt)|0,I=I+Math.imul(kt,Kt)|0,g=g+Math.imul(kt,Wt)|0,g=g+Math.imul(gt,Kt)|0,C=C+Math.imul(gt,Wt)|0,I=I+Math.imul(Ge,Ht)|0,g=g+Math.imul(Ge,Gt)|0,g=g+Math.imul(rt,Ht)|0,C=C+Math.imul(rt,Gt)|0,I=I+Math.imul(pe,qt)|0,g=g+Math.imul(pe,Vt)|0,g=g+Math.imul(me,qt)|0,C=C+Math.imul(me,Vt)|0;var Lf=(D+I|0)+((g&8191)<<13)|0;D=(C+(g>>>13)|0)+(Lf>>>26)|0,Lf&=67108863,I=Math.imul(p,Ne),g=Math.imul(p,Ie),g=g+Math.imul(T,Ne)|0,C=Math.imul(T,Ie),I=I+Math.imul(It,Ee)|0,g=g+Math.imul(It,Mt)|0,g=g+Math.imul(_,Ee)|0,C=C+Math.imul(_,Mt)|0,I=I+Math.imul(ht,Ut)|0,g=g+Math.imul(ht,Lt)|0,g=g+Math.imul(At,Ut)|0,C=C+Math.imul(At,Lt)|0,I=I+Math.imul(bt,Ft)|0,g=g+Math.imul(bt,Dt)|0,g=g+Math.imul(at,Ft)|0,C=C+Math.imul(at,Dt)|0,I=I+Math.imul(dt,$t)|0,g=g+Math.imul(dt,zt)|0,g=g+Math.imul(St,$t)|0,C=C+Math.imul(St,zt)|0,I=I+Math.imul(it,Kt)|0,g=g+Math.imul(it,Wt)|0,g=g+Math.imul(Et,Kt)|0,C=C+Math.imul(Et,Wt)|0,I=I+Math.imul(kt,Ht)|0,g=g+Math.imul(kt,Gt)|0,g=g+Math.imul(gt,Ht)|0,C=C+Math.imul(gt,Gt)|0,I=I+Math.imul(Ge,qt)|0,g=g+Math.imul(Ge,Vt)|0,g=g+Math.imul(rt,qt)|0,C=C+Math.imul(rt,Vt)|0,I=I+Math.imul(pe,jt)|0,g=g+Math.imul(pe,Yt)|0,g=g+Math.imul(me,jt)|0,C=C+Math.imul(me,Yt)|0;var Ff=(D+I|0)+((g&8191)<<13)|0;D=(C+(g>>>13)|0)+(Ff>>>26)|0,Ff&=67108863,I=Math.imul(W,Ne),g=Math.imul(W,Ie),g=g+Math.imul(j,Ne)|0,C=Math.imul(j,Ie),I=I+Math.imul(p,Ee)|0,g=g+Math.imul(p,Mt)|0,g=g+Math.imul(T,Ee)|0,C=C+Math.imul(T,Mt)|0,I=I+Math.imul(It,Ut)|0,g=g+Math.imul(It,Lt)|0,g=g+Math.imul(_,Ut)|0,C=C+Math.imul(_,Lt)|0,I=I+Math.imul(ht,Ft)|0,g=g+Math.imul(ht,Dt)|0,g=g+Math.imul(At,Ft)|0,C=C+Math.imul(At,Dt)|0,I=I+Math.imul(bt,$t)|0,g=g+Math.imul(bt,zt)|0,g=g+Math.imul(at,$t)|0,C=C+Math.imul(at,zt)|0,I=I+Math.imul(dt,Kt)|0,g=g+Math.imul(dt,Wt)|0,g=g+Math.imul(St,Kt)|0,C=C+Math.imul(St,Wt)|0,I=I+Math.imul(it,Ht)|0,g=g+Math.imul(it,Gt)|0,g=g+Math.imul(Et,Ht)|0,C=C+Math.imul(Et,Gt)|0,I=I+Math.imul(kt,qt)|0,g=g+Math.imul(kt,Vt)|0,g=g+Math.imul(gt,qt)|0,C=C+Math.imul(gt,Vt)|0,I=I+Math.imul(Ge,jt)|0,g=g+Math.imul(Ge,Yt)|0,g=g+Math.imul(rt,jt)|0,C=C+Math.imul(rt,Yt)|0,I=I+Math.imul(pe,Jt)|0,g=g+Math.imul(pe,Zt)|0,g=g+Math.imul(me,Jt)|0,C=C+Math.imul(me,Zt)|0;var Df=(D+I|0)+((g&8191)<<13)|0;D=(C+(g>>>13)|0)+(Df>>>26)|0,Df&=67108863,I=Math.imul(W,Ee),g=Math.imul(W,Mt),g=g+Math.imul(j,Ee)|0,C=Math.imul(j,Mt),I=I+Math.imul(p,Ut)|0,g=g+Math.imul(p,Lt)|0,g=g+Math.imul(T,Ut)|0,C=C+Math.imul(T,Lt)|0,I=I+Math.imul(It,Ft)|0,g=g+Math.imul(It,Dt)|0,g=g+Math.imul(_,Ft)|0,C=C+Math.imul(_,Dt)|0,I=I+Math.imul(ht,$t)|0,g=g+Math.imul(ht,zt)|0,g=g+Math.imul(At,$t)|0,C=C+Math.imul(At,zt)|0,I=I+Math.imul(bt,Kt)|0,g=g+Math.imul(bt,Wt)|0,g=g+Math.imul(at,Kt)|0,C=C+Math.imul(at,Wt)|0,I=I+Math.imul(dt,Ht)|0,g=g+Math.imul(dt,Gt)|0,g=g+Math.imul(St,Ht)|0,C=C+Math.imul(St,Gt)|0,I=I+Math.imul(it,qt)|0,g=g+Math.imul(it,Vt)|0,g=g+Math.imul(Et,qt)|0,C=C+Math.imul(Et,Vt)|0,I=I+Math.imul(kt,jt)|0,g=g+Math.imul(kt,Yt)|0,g=g+Math.imul(gt,jt)|0,C=C+Math.imul(gt,Yt)|0,I=I+Math.imul(Ge,Jt)|0,g=g+Math.imul(Ge,Zt)|0,g=g+Math.imul(rt,Jt)|0,C=C+Math.imul(rt,Zt)|0;var $f=(D+I|0)+((g&8191)<<13)|0;D=(C+(g>>>13)|0)+($f>>>26)|0,$f&=67108863,I=Math.imul(W,Ut),g=Math.imul(W,Lt),g=g+Math.imul(j,Ut)|0,C=Math.imul(j,Lt),I=I+Math.imul(p,Ft)|0,g=g+Math.imul(p,Dt)|0,g=g+Math.imul(T,Ft)|0,C=C+Math.imul(T,Dt)|0,I=I+Math.imul(It,$t)|0,g=g+Math.imul(It,zt)|0,g=g+Math.imul(_,$t)|0,C=C+Math.imul(_,zt)|0,I=I+Math.imul(ht,Kt)|0,g=g+Math.imul(ht,Wt)|0,g=g+Math.imul(At,Kt)|0,C=C+Math.imul(At,Wt)|0,I=I+Math.imul(bt,Ht)|0,g=g+Math.imul(bt,Gt)|0,g=g+Math.imul(at,Ht)|0,C=C+Math.imul(at,Gt)|0,I=I+Math.imul(dt,qt)|0,g=g+Math.imul(dt,Vt)|0,g=g+Math.imul(St,qt)|0,C=C+Math.imul(St,Vt)|0,I=I+Math.imul(it,jt)|0,g=g+Math.imul(it,Yt)|0,g=g+Math.imul(Et,jt)|0,C=C+Math.imul(Et,Yt)|0,I=I+Math.imul(kt,Jt)|0,g=g+Math.imul(kt,Zt)|0,g=g+Math.imul(gt,Jt)|0,C=C+Math.imul(gt,Zt)|0;var zf=(D+I|0)+((g&8191)<<13)|0;D=(C+(g>>>13)|0)+(zf>>>26)|0,zf&=67108863,I=Math.imul(W,Ft),g=Math.imul(W,Dt),g=g+Math.imul(j,Ft)|0,C=Math.imul(j,Dt),I=I+Math.imul(p,$t)|0,g=g+Math.imul(p,zt)|0,g=g+Math.imul(T,$t)|0,C=C+Math.imul(T,zt)|0,I=I+Math.imul(It,Kt)|0,g=g+Math.imul(It,Wt)|0,g=g+Math.imul(_,Kt)|0,C=C+Math.imul(_,Wt)|0,I=I+Math.imul(ht,Ht)|0,g=g+Math.imul(ht,Gt)|0,g=g+Math.imul(At,Ht)|0,C=C+Math.imul(At,Gt)|0,I=I+Math.imul(bt,qt)|0,g=g+Math.imul(bt,Vt)|0,g=g+Math.imul(at,qt)|0,C=C+Math.imul(at,Vt)|0,I=I+Math.imul(dt,jt)|0,g=g+Math.imul(dt,Yt)|0,g=g+Math.imul(St,jt)|0,C=C+Math.imul(St,Yt)|0,I=I+Math.imul(it,Jt)|0,g=g+Math.imul(it,Zt)|0,g=g+Math.imul(Et,Jt)|0,C=C+Math.imul(Et,Zt)|0;var Kf=(D+I|0)+((g&8191)<<13)|0;D=(C+(g>>>13)|0)+(Kf>>>26)|0,Kf&=67108863,I=Math.imul(W,$t),g=Math.imul(W,zt),g=g+Math.imul(j,$t)|0,C=Math.imul(j,zt),I=I+Math.imul(p,Kt)|0,g=g+Math.imul(p,Wt)|0,g=g+Math.imul(T,Kt)|0,C=C+Math.imul(T,Wt)|0,I=I+Math.imul(It,Ht)|0,g=g+Math.imul(It,Gt)|0,g=g+Math.imul(_,Ht)|0,C=C+Math.imul(_,Gt)|0,I=I+Math.imul(ht,qt)|0,g=g+Math.imul(ht,Vt)|0,g=g+Math.imul(At,qt)|0,C=C+Math.imul(At,Vt)|0,I=I+Math.imul(bt,jt)|0,g=g+Math.imul(bt,Yt)|0,g=g+Math.imul(at,jt)|0,C=C+Math.imul(at,Yt)|0,I=I+Math.imul(dt,Jt)|0,g=g+Math.imul(dt,Zt)|0,g=g+Math.imul(St,Jt)|0,C=C+Math.imul(St,Zt)|0;var Wf=(D+I|0)+((g&8191)<<13)|0;D=(C+(g>>>13)|0)+(Wf>>>26)|0,Wf&=67108863,I=Math.imul(W,Kt),g=Math.imul(W,Wt),g=g+Math.imul(j,Kt)|0,C=Math.imul(j,Wt),I=I+Math.imul(p,Ht)|0,g=g+Math.imul(p,Gt)|0,g=g+Math.imul(T,Ht)|0,C=C+Math.imul(T,Gt)|0,I=I+Math.imul(It,qt)|0,g=g+Math.imul(It,Vt)|0,g=g+Math.imul(_,qt)|0,C=C+Math.imul(_,Vt)|0,I=I+Math.imul(ht,jt)|0,g=g+Math.imul(ht,Yt)|0,g=g+Math.imul(At,jt)|0,C=C+Math.imul(At,Yt)|0,I=I+Math.imul(bt,Jt)|0,g=g+Math.imul(bt,Zt)|0,g=g+Math.imul(at,Jt)|0,C=C+Math.imul(at,Zt)|0;var Hf=(D+I|0)+((g&8191)<<13)|0;D=(C+(g>>>13)|0)+(Hf>>>26)|0,Hf&=67108863,I=Math.imul(W,Ht),g=Math.imul(W,Gt),g=g+Math.imul(j,Ht)|0,C=Math.imul(j,Gt),I=I+Math.imul(p,qt)|0,g=g+Math.imul(p,Vt)|0,g=g+Math.imul(T,qt)|0,C=C+Math.imul(T,Vt)|0,I=I+Math.imul(It,jt)|0,g=g+Math.imul(It,Yt)|0,g=g+Math.imul(_,jt)|0,C=C+Math.imul(_,Yt)|0,I=I+Math.imul(ht,Jt)|0,g=g+Math.imul(ht,Zt)|0,g=g+Math.imul(At,Jt)|0,C=C+Math.imul(At,Zt)|0;var Gf=(D+I|0)+((g&8191)<<13)|0;D=(C+(g>>>13)|0)+(Gf>>>26)|0,Gf&=67108863,I=Math.imul(W,qt),g=Math.imul(W,Vt),g=g+Math.imul(j,qt)|0,C=Math.imul(j,Vt),I=I+Math.imul(p,jt)|0,g=g+Math.imul(p,Yt)|0,g=g+Math.imul(T,jt)|0,C=C+Math.imul(T,Yt)|0,I=I+Math.imul(It,Jt)|0,g=g+Math.imul(It,Zt)|0,g=g+Math.imul(_,Jt)|0,C=C+Math.imul(_,Zt)|0;var qf=(D+I|0)+((g&8191)<<13)|0;D=(C+(g>>>13)|0)+(qf>>>26)|0,qf&=67108863,I=Math.imul(W,jt),g=Math.imul(W,Yt),g=g+Math.imul(j,jt)|0,C=Math.imul(j,Yt),I=I+Math.imul(p,Jt)|0,g=g+Math.imul(p,Zt)|0,g=g+Math.imul(T,Jt)|0,C=C+Math.imul(T,Zt)|0;var Vf=(D+I|0)+((g&8191)<<13)|0;D=(C+(g>>>13)|0)+(Vf>>>26)|0,Vf&=67108863,I=Math.imul(W,Jt),g=Math.imul(W,Zt),g=g+Math.imul(j,Jt)|0,C=Math.imul(j,Zt);var jf=(D+I|0)+((g&8191)<<13)|0;return D=(C+(g>>>13)|0)+(jf>>>26)|0,jf&=67108863,M[0]=Nf,M[1]=Pf,M[2]=Bf,M[3]=Of,M[4]=Cf,M[5]=Mf,M[6]=Uf,M[7]=Lf,M[8]=Ff,M[9]=Df,M[10]=$f,M[11]=zf,M[12]=Kf,M[13]=Wf,M[14]=Hf,M[15]=Gf,M[16]=qf,M[17]=Vf,M[18]=jf,D!==0&&(M[19]=D,y.length++),y};Math.imul||(O=A);function R(v,u,x){x.negative=u.negative^v.negative,x.length=v.length+u.length;for(var y=0,E=0,P=0;P<x.length-1;P++){var M=E;E=0;for(var D=y&67108863,I=Math.min(P,u.length-1),g=Math.max(0,P-v.length+1);g<=I;g++){var C=P-g,be=v.words[C]|0,pe=u.words[g]|0,me=be*pe,tr=me&67108863;M=M+(me/67108864|0)|0,tr=tr+D|0,D=tr&67108863,M=M+(tr>>>26)|0,E+=M>>>26,M&=67108863}x.words[P]=D,y=M,M=E}return y!==0?x.words[P]=y:x.length--,x._strip()}function B(v,u,x){return R(v,u,x)}s.prototype.mulTo=function(u,x){var y,E=this.length+u.length;return this.length===10&&u.length===10?y=O(this,u,x):E<63?y=A(this,u,x):E<1024?y=R(this,u,x):y=B(this,u,x),y},s.prototype.mul=function(u){var x=new s(null);return x.words=new Array(this.length+u.length),this.mulTo(u,x)},s.prototype.mulf=function(u){var x=new s(null);return x.words=new Array(this.length+u.length),B(this,u,x)},s.prototype.imul=function(u){return this.clone().mulTo(u,this)},s.prototype.imuln=function(u){var x=u<0;x&&(u=-u),n(typeof u=="number"),n(u<67108864);for(var y=0,E=0;E<this.length;E++){var P=(this.words[E]|0)*u,M=(P&67108863)+(y&67108863);y>>=26,y+=P/67108864|0,y+=M>>>26,this.words[E]=M&67108863}return y!==0&&(this.words[E]=y,this.length++),x?this.ineg():this},s.prototype.muln=function(u){return this.clone().imuln(u)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(u){var x=S(u);if(x.length===0)return new s(1);for(var y=this,E=0;E<x.length&&x[E]===0;E++,y=y.sqr());if(++E<x.length)for(var P=y.sqr();E<x.length;E++,P=P.sqr())x[E]!==0&&(y=y.mul(P));return y},s.prototype.iushln=function(u){n(typeof u=="number"&&u>=0);var x=u%26,y=(u-x)/26,E=67108863>>>26-x<<26-x,P;if(x!==0){var M=0;for(P=0;P<this.length;P++){var D=this.words[P]&E,I=(this.words[P]|0)-D<<x;this.words[P]=I|M,M=D>>>26-x}M&&(this.words[P]=M,this.length++)}if(y!==0){for(P=this.length-1;P>=0;P--)this.words[P+y]=this.words[P];for(P=0;P<y;P++)this.words[P]=0;this.length+=y}return this._strip()},s.prototype.ishln=function(u){return n(this.negative===0),this.iushln(u)},s.prototype.iushrn=function(u,x,y){n(typeof u=="number"&&u>=0);var E;x?E=(x-x%26)/26:E=0;var P=u%26,M=Math.min((u-P)/26,this.length),D=67108863^67108863>>>P<<P,I=y;if(E-=M,E=Math.max(0,E),I){for(var g=0;g<M;g++)I.words[g]=this.words[g];I.length=M}if(M!==0)if(this.length>M)for(this.length-=M,g=0;g<this.length;g++)this.words[g]=this.words[g+M];else this.words[0]=0,this.length=1;var C=0;for(g=this.length-1;g>=0&&(C!==0||g>=E);g--){var be=this.words[g]|0;this.words[g]=C<<26-P|be>>>P,C=be&D}return I&&C!==0&&(I.words[I.length++]=C),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(u,x,y){return n(this.negative===0),this.iushrn(u,x,y)},s.prototype.shln=function(u){return this.clone().ishln(u)},s.prototype.ushln=function(u){return this.clone().iushln(u)},s.prototype.shrn=function(u){return this.clone().ishrn(u)},s.prototype.ushrn=function(u){return this.clone().iushrn(u)},s.prototype.testn=function(u){n(typeof u=="number"&&u>=0);var x=u%26,y=(u-x)/26,E=1<<x;if(this.length<=y)return!1;var P=this.words[y];return!!(P&E)},s.prototype.imaskn=function(u){n(typeof u=="number"&&u>=0);var x=u%26,y=(u-x)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=y)return this;if(x!==0&&y++,this.length=Math.min(y,this.length),x!==0){var E=67108863^67108863>>>x<<x;this.words[this.length-1]&=E}return this._strip()},s.prototype.maskn=function(u){return this.clone().imaskn(u)},s.prototype.iaddn=function(u){return n(typeof u=="number"),n(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},s.prototype._iaddn=function(u){this.words[0]+=u;for(var x=0;x<this.length&&this.words[x]>=67108864;x++)this.words[x]-=67108864,x===this.length-1?this.words[x+1]=1:this.words[x+1]++;return this.length=Math.max(this.length,x+1),this},s.prototype.isubn=function(u){if(n(typeof u=="number"),n(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var x=0;x<this.length&&this.words[x]<0;x++)this.words[x]+=67108864,this.words[x+1]-=1;return this._strip()},s.prototype.addn=function(u){return this.clone().iaddn(u)},s.prototype.subn=function(u){return this.clone().isubn(u)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(u,x,y){var E=u.length+y,P;this._expand(E);var M,D=0;for(P=0;P<u.length;P++){M=(this.words[P+y]|0)+D;var I=(u.words[P]|0)*x;M-=I&67108863,D=(M>>26)-(I/67108864|0),this.words[P+y]=M&67108863}for(;P<this.length-y;P++)M=(this.words[P+y]|0)+D,D=M>>26,this.words[P+y]=M&67108863;if(D===0)return this._strip();for(n(D===-1),D=0,P=0;P<this.length;P++)M=-(this.words[P]|0)+D,D=M>>26,this.words[P]=M&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(u,x){var y=this.length-u.length,E=this.clone(),P=u,M=P.words[P.length-1]|0,D=this._countBits(M);y=26-D,y!==0&&(P=P.ushln(y),E.iushln(y),M=P.words[P.length-1]|0);var I=E.length-P.length,g;if(x!=="mod"){g=new s(null),g.length=I+1,g.words=new Array(g.length);for(var C=0;C<g.length;C++)g.words[C]=0}var be=E.clone()._ishlnsubmul(P,1,I);be.negative===0&&(E=be,g&&(g.words[I]=1));for(var pe=I-1;pe>=0;pe--){var me=(E.words[P.length+pe]|0)*67108864+(E.words[P.length+pe-1]|0);for(me=Math.min(me/M|0,67108863),E._ishlnsubmul(P,me,pe);E.negative!==0;)me--,E.negative=0,E._ishlnsubmul(P,1,pe),E.isZero()||(E.negative^=1);g&&(g.words[pe]=me)}return g&&g._strip(),E._strip(),x!=="div"&&y!==0&&E.iushrn(y),{div:g||null,mod:E}},s.prototype.divmod=function(u,x,y){if(n(!u.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var E,P,M;return this.negative!==0&&u.negative===0?(M=this.neg().divmod(u,x),x!=="mod"&&(E=M.div.neg()),x!=="div"&&(P=M.mod.neg(),y&&P.negative!==0&&P.iadd(u)),{div:E,mod:P}):this.negative===0&&u.negative!==0?(M=this.divmod(u.neg(),x),x!=="mod"&&(E=M.div.neg()),{div:E,mod:M.mod}):this.negative&u.negative?(M=this.neg().divmod(u.neg(),x),x!=="div"&&(P=M.mod.neg(),y&&P.negative!==0&&P.isub(u)),{div:M.div,mod:P}):u.length>this.length||this.cmp(u)<0?{div:new s(0),mod:this}:u.length===1?x==="div"?{div:this.divn(u.words[0]),mod:null}:x==="mod"?{div:null,mod:new s(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new s(this.modrn(u.words[0]))}:this._wordDiv(u,x)},s.prototype.div=function(u){return this.divmod(u,"div",!1).div},s.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},s.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},s.prototype.divRound=function(u){var x=this.divmod(u);if(x.mod.isZero())return x.div;var y=x.div.negative!==0?x.mod.isub(u):x.mod,E=u.ushrn(1),P=u.andln(1),M=y.cmp(E);return M<0||P===1&&M===0?x.div:x.div.negative!==0?x.div.isubn(1):x.div.iaddn(1)},s.prototype.modrn=function(u){var x=u<0;x&&(u=-u),n(u<=67108863);for(var y=(1<<26)%u,E=0,P=this.length-1;P>=0;P--)E=(y*E+(this.words[P]|0))%u;return x?-E:E},s.prototype.modn=function(u){return this.modrn(u)},s.prototype.idivn=function(u){var x=u<0;x&&(u=-u),n(u<=67108863);for(var y=0,E=this.length-1;E>=0;E--){var P=(this.words[E]|0)+y*67108864;this.words[E]=P/u|0,y=P%u}return this._strip(),x?this.ineg():this},s.prototype.divn=function(u){return this.clone().idivn(u)},s.prototype.egcd=function(u){n(u.negative===0),n(!u.isZero());var x=this,y=u.clone();x.negative!==0?x=x.umod(u):x=x.clone();for(var E=new s(1),P=new s(0),M=new s(0),D=new s(1),I=0;x.isEven()&&y.isEven();)x.iushrn(1),y.iushrn(1),++I;for(var g=y.clone(),C=x.clone();!x.isZero();){for(var be=0,pe=1;!(x.words[0]&pe)&&be<26;++be,pe<<=1);if(be>0)for(x.iushrn(be);be-- >0;)(E.isOdd()||P.isOdd())&&(E.iadd(g),P.isub(C)),E.iushrn(1),P.iushrn(1);for(var me=0,tr=1;!(y.words[0]&tr)&&me<26;++me,tr<<=1);if(me>0)for(y.iushrn(me);me-- >0;)(M.isOdd()||D.isOdd())&&(M.iadd(g),D.isub(C)),M.iushrn(1),D.iushrn(1);x.cmp(y)>=0?(x.isub(y),E.isub(M),P.isub(D)):(y.isub(x),M.isub(E),D.isub(P))}return{a:M,b:D,gcd:y.iushln(I)}},s.prototype._invmp=function(u){n(u.negative===0),n(!u.isZero());var x=this,y=u.clone();x.negative!==0?x=x.umod(u):x=x.clone();for(var E=new s(1),P=new s(0),M=y.clone();x.cmpn(1)>0&&y.cmpn(1)>0;){for(var D=0,I=1;!(x.words[0]&I)&&D<26;++D,I<<=1);if(D>0)for(x.iushrn(D);D-- >0;)E.isOdd()&&E.iadd(M),E.iushrn(1);for(var g=0,C=1;!(y.words[0]&C)&&g<26;++g,C<<=1);if(g>0)for(y.iushrn(g);g-- >0;)P.isOdd()&&P.iadd(M),P.iushrn(1);x.cmp(y)>=0?(x.isub(y),E.isub(P)):(y.isub(x),P.isub(E))}var be;return x.cmpn(1)===0?be=E:be=P,be.cmpn(0)<0&&be.iadd(u),be},s.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var x=this.clone(),y=u.clone();x.negative=0,y.negative=0;for(var E=0;x.isEven()&&y.isEven();E++)x.iushrn(1),y.iushrn(1);do{for(;x.isEven();)x.iushrn(1);for(;y.isEven();)y.iushrn(1);var P=x.cmp(y);if(P<0){var M=x;x=y,y=M}else if(P===0||y.cmpn(1)===0)break;x.isub(y)}while(!0);return y.iushln(E)},s.prototype.invm=function(u){return this.egcd(u).a.umod(u)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(u){return this.words[0]&u},s.prototype.bincn=function(u){n(typeof u=="number");var x=u%26,y=(u-x)/26,E=1<<x;if(this.length<=y)return this._expand(y+1),this.words[y]|=E,this;for(var P=E,M=y;P!==0&&M<this.length;M++){var D=this.words[M]|0;D+=P,P=D>>>26,D&=67108863,this.words[M]=D}return P!==0&&(this.words[M]=P,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(u){var x=u<0;if(this.negative!==0&&!x)return-1;if(this.negative===0&&x)return 1;this._strip();var y;if(this.length>1)y=1;else{x&&(u=-u),n(u<=67108863,"Number is too big");var E=this.words[0]|0;y=E===u?0:E<u?-1:1}return this.negative!==0?-y|0:y},s.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var x=this.ucmp(u);return this.negative!==0?-x|0:x},s.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var x=0,y=this.length-1;y>=0;y--){var E=this.words[y]|0,P=u.words[y]|0;if(E!==P){E<P?x=-1:E>P&&(x=1);break}}return x},s.prototype.gtn=function(u){return this.cmpn(u)===1},s.prototype.gt=function(u){return this.cmp(u)===1},s.prototype.gten=function(u){return this.cmpn(u)>=0},s.prototype.gte=function(u){return this.cmp(u)>=0},s.prototype.ltn=function(u){return this.cmpn(u)===-1},s.prototype.lt=function(u){return this.cmp(u)===-1},s.prototype.lten=function(u){return this.cmpn(u)<=0},s.prototype.lte=function(u){return this.cmp(u)<=0},s.prototype.eqn=function(u){return this.cmpn(u)===0},s.prototype.eq=function(u){return this.cmp(u)===0},s.red=function(u){return new q(u)},s.prototype.toRed=function(u){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(u){return this.red=u,this},s.prototype.forceRed=function(u){return n(!this.red,"Already a number in reduction context"),this._forceRed(u)},s.prototype.redAdd=function(u){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},s.prototype.redIAdd=function(u){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},s.prototype.redSub=function(u){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},s.prototype.redISub=function(u){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},s.prototype.redShl=function(u){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},s.prototype.redMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},s.prototype.redIMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(u){return n(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var N={k256:null,p224:null,p192:null,p25519:null};function L(v,u){this.name=v,this.p=new s(u,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}L.prototype._tmp=function(){var u=new s(null);return u.words=new Array(Math.ceil(this.n/13)),u},L.prototype.ireduce=function(u){var x=u,y;do this.split(x,this.tmp),x=this.imulK(x),x=x.iadd(this.tmp),y=x.bitLength();while(y>this.n);var E=y<this.n?-1:x.ucmp(this.p);return E===0?(x.words[0]=0,x.length=1):E>0?x.isub(this.p):x.strip!==void 0?x.strip():x._strip(),x},L.prototype.split=function(u,x){u.iushrn(this.n,0,x)},L.prototype.imulK=function(u){return u.imul(this.k)};function $(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i($,L),$.prototype.split=function(u,x){for(var y=4194303,E=Math.min(u.length,9),P=0;P<E;P++)x.words[P]=u.words[P];if(x.length=E,u.length<=9){u.words[0]=0,u.length=1;return}var M=u.words[9];for(x.words[x.length++]=M&y,P=10;P<u.length;P++){var D=u.words[P]|0;u.words[P-10]=(D&y)<<4|M>>>22,M=D}M>>>=22,u.words[P-10]=M,M===0&&u.length>10?u.length-=10:u.length-=9},$.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var x=0,y=0;y<u.length;y++){var E=u.words[y]|0;x+=E*977,u.words[y]=x&67108863,x=E*64+(x/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function K(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(K,L);function Y(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Y,L);function J(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(J,L),J.prototype.imulK=function(u){for(var x=0,y=0;y<u.length;y++){var E=(u.words[y]|0)*19+x,P=E&67108863;E>>>=26,u.words[y]=P,x=E}return x!==0&&(u.words[u.length++]=x),u},s._prime=function(u){if(N[u])return N[u];var x;if(u==="k256")x=new $;else if(u==="p224")x=new K;else if(u==="p192")x=new Y;else if(u==="p25519")x=new J;else throw new Error("Unknown prime "+u);return N[u]=x,x};function q(v){if(typeof v=="string"){var u=s._prime(v);this.m=u.p,this.prime=u}else n(v.gtn(1),"modulus must be greater than 1"),this.m=v,this.prime=null}q.prototype._verify1=function(u){n(u.negative===0,"red works only with positives"),n(u.red,"red works only with red numbers")},q.prototype._verify2=function(u,x){n((u.negative|x.negative)===0,"red works only with positives"),n(u.red&&u.red===x.red,"red works only with red numbers")},q.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(l(u,u.umod(this.m)._forceRed(this)),u)},q.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},q.prototype.add=function(u,x){this._verify2(u,x);var y=u.add(x);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},q.prototype.iadd=function(u,x){this._verify2(u,x);var y=u.iadd(x);return y.cmp(this.m)>=0&&y.isub(this.m),y},q.prototype.sub=function(u,x){this._verify2(u,x);var y=u.sub(x);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},q.prototype.isub=function(u,x){this._verify2(u,x);var y=u.isub(x);return y.cmpn(0)<0&&y.iadd(this.m),y},q.prototype.shl=function(u,x){return this._verify1(u),this.imod(u.ushln(x))},q.prototype.imul=function(u,x){return this._verify2(u,x),this.imod(u.imul(x))},q.prototype.mul=function(u,x){return this._verify2(u,x),this.imod(u.mul(x))},q.prototype.isqr=function(u){return this.imul(u,u.clone())},q.prototype.sqr=function(u){return this.mul(u,u)},q.prototype.sqrt=function(u){if(u.isZero())return u.clone();var x=this.m.andln(3);if(n(x%2===1),x===3){var y=this.m.add(new s(1)).iushrn(2);return this.pow(u,y)}for(var E=this.m.subn(1),P=0;!E.isZero()&&E.andln(1)===0;)P++,E.iushrn(1);n(!E.isZero());var M=new s(1).toRed(this),D=M.redNeg(),I=this.m.subn(1).iushrn(1),g=this.m.bitLength();for(g=new s(2*g*g).toRed(this);this.pow(g,I).cmp(D)!==0;)g.redIAdd(D);for(var C=this.pow(g,E),be=this.pow(u,E.addn(1).iushrn(1)),pe=this.pow(u,E),me=P;pe.cmp(M)!==0;){for(var tr=pe,Ge=0;tr.cmp(M)!==0;Ge++)tr=tr.redSqr();n(Ge<me);var rt=this.pow(C,new s(1).iushln(me-Ge-1));be=be.redMul(rt),C=rt.redSqr(),pe=pe.redMul(C),me=Ge}return be},q.prototype.invm=function(u){var x=u._invmp(this.m);return x.negative!==0?(x.negative=0,this.imod(x).redNeg()):this.imod(x)},q.prototype.pow=function(u,x){if(x.isZero())return new s(1).toRed(this);if(x.cmpn(1)===0)return u.clone();var y=4,E=new Array(1<<y);E[0]=new s(1).toRed(this),E[1]=u;for(var P=2;P<E.length;P++)E[P]=this.mul(E[P-1],u);var M=E[0],D=0,I=0,g=x.bitLength()%26;for(g===0&&(g=26),P=x.length-1;P>=0;P--){for(var C=x.words[P],be=g-1;be>=0;be--){var pe=C>>be&1;if(M!==E[0]&&(M=this.sqr(M)),pe===0&&D===0){I=0;continue}D<<=1,D|=pe,I++,!(I!==y&&(P!==0||be!==0))&&(M=this.mul(M,E[D]),I=0,D=0)}g=26}return M},q.prototype.convertTo=function(u){var x=u.umod(this.m);return x===u?x.clone():x},q.prototype.convertFrom=function(u){var x=u.clone();return x.red=null,x},s.mont=function(u){return new re(u)};function re(v){q.call(this,v),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(re,q),re.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},re.prototype.convertFrom=function(u){var x=this.imod(u.mul(this.rinv));return x.red=null,x},re.prototype.imul=function(u,x){if(u.isZero()||x.isZero())return u.words[0]=0,u.length=1,u;var y=u.imul(x),E=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),P=y.isub(E).iushrn(this.shift),M=P;return P.cmp(this.m)>=0?M=P.isub(this.m):P.cmpn(0)<0&&(M=P.iadd(this.m)),M._forceRed(this)},re.prototype.mul=function(u,x){if(u.isZero()||x.isZero())return new s(0)._forceRed(this);var y=u.mul(x),E=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),P=y.isub(E).iushrn(this.shift),M=P;return P.cmp(this.m)>=0?M=P.isub(this.m):P.cmpn(0)<0&&(M=P.iadd(this.m)),M._forceRed(this)},re.prototype.invm=function(u){var x=this.imod(u._invmp(this.m).mul(this.r2));return x._forceRed(this)}})(r,En)})(Bw);var ea={},Cw={get exports(){return ea},set exports(r){ea=r}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(r,e){var t=ve,n=t.Buffer;function i(o,a){for(var c in o)a[c]=o[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?r.exports=t:(i(t,e),e.Buffer=s);function s(o,a,c){return n(o,a,c)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,c)},s.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var f=n(o);return a!==void 0?typeof c=="string"?f.fill(a,c):f.fill(a):f.fill(0),f},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(o)}})(Cw,ea);var Fa=ea.Buffer;function Mw(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var n=0;n<r.length;n++){var i=r.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var o=r.length,a=r.charAt(0),c=Math.log(o)/Math.log(256),f=Math.log(256)/Math.log(o);function l(b){if((Array.isArray(b)||b instanceof Uint8Array)&&(b=Fa.from(b)),!Fa.isBuffer(b))throw new TypeError("Expected Buffer");if(b.length===0)return"";for(var m=0,k=0,S=0,A=b.length;S!==A&&b[S]===0;)S++,m++;for(var O=(A-S)*f+1>>>0,R=new Uint8Array(O);S!==A;){for(var B=b[S],N=0,L=O-1;(B!==0||N<k)&&L!==-1;L--,N++)B+=256*R[L]>>>0,R[L]=B%o>>>0,B=B/o>>>0;if(B!==0)throw new Error("Non-zero carry");k=N,S++}for(var $=O-k;$!==O&&R[$]===0;)$++;for(var K=a.repeat(m);$<O;++$)K+=r.charAt(R[$]);return K}function h(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return Fa.alloc(0);for(var m=0,k=0,S=0;b[m]===a;)k++,m++;for(var A=(b.length-m)*c+1>>>0,O=new Uint8Array(A);b[m];){var R=e[b.charCodeAt(m)];if(R===255)return;for(var B=0,N=A-1;(R!==0||B<S)&&N!==-1;N--,B++)R+=o*O[N]>>>0,O[N]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");S=B,m++}for(var L=A-S;L!==A&&O[L]===0;)L++;var $=Fa.allocUnsafe(k+(A-L));$.fill(0,0,k);for(var K=k;L!==A;)$[K++]=O[L++];return $}function w(b){var m=h(b);if(m)return m;throw new Error("Non-base"+o+" character")}return{encode:l,decodeUnsafe:h,decode:w}}var Uw=Mw,Lw=Uw,Fw="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",mr=Lw(Fw),br={},Da=ea.Buffer;function Dw(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var n=0;n<r.length;n++){var i=r.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var o=r.length,a=r.charAt(0),c=Math.log(o)/Math.log(256),f=Math.log(256)/Math.log(o);function l(b){if((Array.isArray(b)||b instanceof Uint8Array)&&(b=Da.from(b)),!Da.isBuffer(b))throw new TypeError("Expected Buffer");if(b.length===0)return"";for(var m=0,k=0,S=0,A=b.length;S!==A&&b[S]===0;)S++,m++;for(var O=(A-S)*f+1>>>0,R=new Uint8Array(O);S!==A;){for(var B=b[S],N=0,L=O-1;(B!==0||N<k)&&L!==-1;L--,N++)B+=256*R[L]>>>0,R[L]=B%o>>>0,B=B/o>>>0;if(B!==0)throw new Error("Non-zero carry");k=N,S++}for(var $=O-k;$!==O&&R[$]===0;)$++;for(var K=a.repeat(m);$<O;++$)K+=r.charAt(R[$]);return K}function h(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return Da.alloc(0);for(var m=0,k=0,S=0;b[m]===a;)k++,m++;for(var A=(b.length-m)*c+1>>>0,O=new Uint8Array(A);b[m];){var R=e[b.charCodeAt(m)];if(R===255)return;for(var B=0,N=A-1;(R!==0||B<S)&&N!==-1;N--,B++)R+=o*O[N]>>>0,O[N]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");S=B,m++}for(var L=A-S;L!==A&&O[L]===0;)L++;var $=Da.allocUnsafe(k+(A-L));$.fill(0,0,k);for(var K=k;L!==A;)$[K++]=O[L++];return $}function w(b){var m=h(b);if(m)return m;throw new Error("Non-base"+o+" character")}return{encode:l,decodeUnsafe:h,decode:w}}var $w=Dw,zw=$w,Kw="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Ww=zw(Kw);function Xn(r,e,t){return e<=r&&r<=t}function ff(r){if(r===void 0)return{};if(r===Object(r))return r;throw TypeError("Could not convert argument to dictionary")}function Hw(r){for(var e=String(r),t=e.length,n=0,i=[];n<t;){var s=e.charCodeAt(n);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(n===t-1)i.push(65533);else{var o=r.charCodeAt(n+1);if(56320<=o&&o<=57343){var a=s&1023,c=o&1023;i.push(65536+(a<<10)+c),n+=1}else i.push(65533)}n+=1}return i}function Gw(r){for(var e="",t=0;t<r.length;++t){var n=r[t];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}var Ec=-1;function Zl(r){this.tokens=[].slice.call(r)}Zl.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Ec},prepend:function(r){if(Array.isArray(r))for(var e=r;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(r)},push:function(r){if(Array.isArray(r))for(var e=r;e.length;)this.tokens.push(e.shift());else this.tokens.push(r)}};var fo=-1;function pu(r,e){if(r)throw TypeError("Decoder error");return e||65533}var Sc="utf-8";function Ac(r,e){if(!(this instanceof Ac))return new Ac(r,e);if(r=r!==void 0?String(r).toLowerCase():Sc,r!==Sc)throw new Error("Encoding not supported. Only utf-8 is supported");e=ff(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Ac.prototype={decode:function(e,t){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),t=ff(t),this._streaming||(this._decoder=new qw({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!t.stream;for(var i=new Zl(n),s=[],o;!i.endOfStream()&&(o=this._decoder.handler(i,i.read()),o!==fo);)o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o));if(!this._streaming){do{if(o=this._decoder.handler(i,i.read()),o===fo)break;o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),Gw(s)}};function Ic(r,e){if(!(this instanceof Ic))return new Ic(r,e);if(r=r!==void 0?String(r).toLowerCase():Sc,r!==Sc)throw new Error("Encoding not supported. Only utf-8 is supported");e=ff(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Ic.prototype={encode:function(e,t){e=e?String(e):"",t=ff(t),this._streaming||(this._encoder=new Vw(this._options)),this._streaming=!!t.stream;for(var n=[],i=new Zl(Hw(e)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==fo);)Array.isArray(s)?n.push.apply(n,s):n.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==fo;)Array.isArray(s)?n.push.apply(n,s):n.push(s);this._encoder=null}return new Uint8Array(n)}};function qw(r){var e=r.fatal,t=0,n=0,i=0,s=128,o=191;this.handler=function(a,c){if(c===Ec&&i!==0)return i=0,pu(e);if(c===Ec)return fo;if(i===0){if(Xn(c,0,127))return c;if(Xn(c,194,223))i=1,t=c-192;else if(Xn(c,224,239))c===224&&(s=160),c===237&&(o=159),i=2,t=c-224;else if(Xn(c,240,244))c===240&&(s=144),c===244&&(o=143),i=3,t=c-240;else return pu(e);return t=t<<6*i,null}if(!Xn(c,s,o))return t=i=n=0,s=128,o=191,a.prepend(c),pu(e);if(s=128,o=191,n+=1,t+=c-128<<6*(i-n),n!==i)return null;var f=t;return t=i=n=0,f}}function Vw(r){r.fatal,this.handler=function(e,t){if(t===Ec)return fo;if(Xn(t,0,127))return t;var n,i;Xn(t,128,2047)?(n=1,i=192):Xn(t,2048,65535)?(n=2,i=224):Xn(t,65536,1114111)&&(n=3,i=240);for(var s=[(t>>6*n)+i];n>0;){var o=t>>6*(n-1);s.push(128|o&63),n-=1}return s}}const jw=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Ac,TextEncoder:Ic},Symbol.toStringTag,{value:"Module"})),Yw=Gl(jw);var Jw=En&&En.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Zw=En&&En.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),$n=En&&En.__decorate||function(r,e,t,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Xw=En&&En.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.hasOwnProperty.call(r,t)&&Jw(e,r,t);return Zw(e,r),e},X1=En&&En.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(br,"__esModule",{value:!0});var Q1=br.deserializeUnchecked=sg=br.deserialize=ig=br.serialize=br.BinaryReader=br.BinaryWriter=br.BorshError=br.baseDecode=br.baseEncode=void 0;const bi=X1(co),eg=X1(Ww),Qw=Xw(Yw),ev=typeof TextDecoder!="function"?Qw.TextDecoder:TextDecoder,tv=new ev("utf-8",{fatal:!0});function rv(r){return typeof r=="string"&&(r=Buffer.from(r,"utf8")),eg.default.encode(Buffer.from(r))}br.baseEncode=rv;function nv(r){return Buffer.from(eg.default.decode(r))}br.baseDecode=nv;const xu=1024;class Cr extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}br.BorshError=Cr;class tg{constructor(){this.buf=Buffer.alloc(xu),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(xu)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new bi.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new bi.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new bi.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new bi.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(xu)]),this.length+=e.length}writeString(e){this.maybeResize();const t=Buffer.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(const n of e)this.maybeResize(),t(n)}toArray(){return this.buf.subarray(0,this.length)}}br.BinaryWriter=tg;function zn(r,e,t){const n=t.value;t.value=function(...i){try{return n.apply(this,i)}catch(s){if(s instanceof RangeError){const o=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new Cr("Reached the end of buffer when deserializing")}throw s}}}class Qr{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new bi.default(e,"le")}readU128(){const e=this.readBuffer(16);return new bi.default(e,"le")}readU256(){const e=this.readBuffer(32);return new bi.default(e,"le")}readU512(){const e=this.readBuffer(64);return new bi.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new Cr(`Expected buffer length ${e} isn't within bounds`);const t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){const e=this.readU32(),t=this.readBuffer(e);try{return tv.decode(t)}catch(n){throw new Cr(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const t=this.readU32(),n=Array();for(let i=0;i<t;++i)n.push(e());return n}}$n([zn],Qr.prototype,"readU8",null);$n([zn],Qr.prototype,"readU16",null);$n([zn],Qr.prototype,"readU32",null);$n([zn],Qr.prototype,"readU64",null);$n([zn],Qr.prototype,"readU128",null);$n([zn],Qr.prototype,"readU256",null);$n([zn],Qr.prototype,"readU512",null);$n([zn],Qr.prototype,"readString",null);$n([zn],Qr.prototype,"readFixedArray",null);$n([zn],Qr.prototype,"readArray",null);br.BinaryReader=Qr;function rg(r){return r.charAt(0).toUpperCase()+r.slice(1)}function Li(r,e,t,n,i){try{if(typeof n=="string")i[`write${rg(n)}`](t);else if(n instanceof Array)if(typeof n[0]=="number"){if(t.length!==n[0])throw new Cr(`Expecting byte array of length ${n[0]}, but got ${t.length} bytes`);i.writeFixedArray(t)}else if(n.length===2&&typeof n[1]=="number"){if(t.length!==n[1])throw new Cr(`Expecting byte array of length ${n[1]}, but got ${t.length} bytes`);for(let s=0;s<n[1];s++)Li(r,null,t[s],n[0],i)}else i.writeArray(t,s=>{Li(r,e,s,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{t==null?i.writeU8(0):(i.writeU8(1),Li(r,e,t,n.type,i));break}case"map":{i.writeU32(t.size),t.forEach((s,o)=>{Li(r,e,o,n.key,i),Li(r,e,s,n.value,i)});break}default:throw new Cr(`FieldType ${n} unrecognized`)}else ng(r,t,i)}catch(s){throw s instanceof Cr&&s.addToFieldPath(e),s}}function ng(r,e,t){if(typeof e.borshSerialize=="function"){e.borshSerialize(t);return}const n=r.get(e.constructor);if(!n)throw new Cr(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,s])=>{Li(r,i,e[i],s,t)});else if(n.kind==="enum"){const i=e[n.field];for(let s=0;s<n.values.length;++s){const[o,a]=n.values[s];if(o===i){t.writeU8(s),Li(r,o,e[o],a,t);break}}}else throw new Cr(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function iv(r,e,t=tg){const n=new t;return ng(r,e,n),n.toArray()}var ig=br.serialize=iv;function Fi(r,e,t,n){try{if(typeof t=="string")return n[`read${rg(t)}`]();if(t instanceof Array){if(typeof t[0]=="number")return n.readFixedArray(t[0]);if(typeof t[1]=="number"){const i=[];for(let s=0;s<t[1];s++)i.push(Fi(r,null,t[0],n));return i}else return n.readArray(()=>Fi(r,e,t[0],n))}if(t.kind==="option")return n.readU8()?Fi(r,e,t.type,n):void 0;if(t.kind==="map"){let i=new Map;const s=n.readU32();for(let o=0;o<s;o++){const a=Fi(r,e,t.key,n),c=Fi(r,e,t.value,n);i.set(a,c)}return i}return Xl(r,t,n)}catch(i){throw i instanceof Cr&&i.addToFieldPath(e),i}}function Xl(r,e,t){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(t);const n=r.get(e);if(!n)throw new Cr(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){const i={};for(const[s,o]of r.get(e).fields)i[s]=Fi(r,s,o,t);return new e(i)}if(n.kind==="enum"){const i=t.readU8();if(i>=n.values.length)throw new Cr(`Enum index: ${i} is out of range`);const[s,o]=n.values[i],a=Fi(r,s,o,t);return new e({[s]:a})}throw new Cr(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function sv(r,e,t,n=Qr){const i=new n(t),s=Xl(r,e,i);if(i.offset<t.length)throw new Cr(`Unexpected ${t.length-i.offset} bytes after deserialized data`);return s}var sg=br.deserialize=sv;function ov(r,e,t,n=Qr){const i=new n(t);return Xl(r,e,i)}Q1=br.deserializeUnchecked=ov;var V={};Object.defineProperty(V,"__esModule",{value:!0});V.s16=V.s8=V.nu64be=V.u48be=V.u40be=V.u32be=V.u24be=V.u16be=pr=V.nu64=V.u48=V.u40=de=V.u32=V.u24=fn=V.u16=We=V.u8=vi=V.offset=V.greedy=V.Constant=V.UTF8=V.CString=V.Blob=V.Boolean=V.BitField=V.BitStructure=V.VariantLayout=V.Union=V.UnionLayoutDiscriminator=V.UnionDiscriminator=V.Structure=V.Sequence=V.DoubleBE=V.Double=V.FloatBE=V.Float=V.NearInt64BE=V.NearInt64=V.NearUInt64BE=V.NearUInt64=V.IntBE=V.Int=V.UIntBE=V.UInt=V.OffsetLayout=V.GreedyCount=V.ExternalLayout=V.bindConstructorLayout=V.nameWithProperty=V.Layout=V.uint8ArrayToBuffer=V.checkUint8Array=void 0;V.constant=V.utf8=V.cstr=ut=V.blob=V.unionLayoutDiscriminator=V.union=_r=V.seq=V.bits=he=V.struct=V.f64be=V.f64=V.f32be=V.f32=V.ns64be=V.s48be=V.s40be=V.s32be=V.s24be=V.s16be=jr=V.ns64=V.s48=V.s40=V.s32=V.s24=void 0;const Ql=ve;function mo(r){if(!(r instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}V.checkUint8Array=mo;function je(r){return mo(r),Ql.Buffer.from(r.buffer,r.byteOffset,r.length)}V.uint8ArrayToBuffer=je;class Qe{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}V.Layout=Qe;function e0(r,e){return e.property?r+"["+e.property+"]":r}V.nameWithProperty=e0;function av(r,e){if(typeof r!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(r,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Qe))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");r.layout_=e,e.boundConstructor_=r,e.makeDestinationObject=()=>new r,Object.defineProperty(r.prototype,"encode",{value(t,n){return e.encode(this,t,n)},writable:!0}),Object.defineProperty(r,"decode",{value(t,n){return e.decode(t,n)},writable:!0})}V.bindConstructorLayout=av;class Fr extends Qe{isCount(){throw new Error("ExternalLayout is abstract")}}V.ExternalLayout=Fr;class og extends Fr{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){mo(e);const n=e.length-t;return Math.floor(n/this.elementSpan)}encode(e,t,n){return 0}}V.GreedyCount=og;class t0 extends Fr{constructor(e,t=0,n){if(!(e instanceof Qe))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof xn||this.layout instanceof vn}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,n=0){return this.layout.encode(e,t,n+this.offset)}}V.OffsetLayout=t0;class xn extends Qe{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return je(e).readUIntLE(t,this.span)}encode(e,t,n=0){return je(t).writeUIntLE(e,n,this.span),this.span}}V.UInt=xn;class vn extends Qe{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return je(e).readUIntBE(t,this.span)}encode(e,t,n=0){return je(t).writeUIntBE(e,n,this.span),this.span}}V.UIntBE=vn;class rs extends Qe{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return je(e).readIntLE(t,this.span)}encode(e,t,n=0){return je(t).writeIntLE(e,n,this.span),this.span}}V.Int=rs;class wo extends Qe{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return je(e).readIntBE(t,this.span)}encode(e,t,n=0){return je(t).writeIntBE(e,n,this.span),this.span}}V.IntBE=wo;const fl=Math.pow(2,32);function uf(r){const e=Math.floor(r/fl),t=r-e*fl;return{hi32:e,lo32:t}}function lf(r,e){return r*fl+e}class ag extends Qe{constructor(e){super(8,e)}decode(e,t=0){const n=je(e),i=n.readUInt32LE(t),s=n.readUInt32LE(t+4);return lf(s,i)}encode(e,t,n=0){const i=uf(e),s=je(t);return s.writeUInt32LE(i.lo32,n),s.writeUInt32LE(i.hi32,n+4),8}}V.NearUInt64=ag;class cg extends Qe{constructor(e){super(8,e)}decode(e,t=0){const n=je(e),i=n.readUInt32BE(t),s=n.readUInt32BE(t+4);return lf(i,s)}encode(e,t,n=0){const i=uf(e),s=je(t);return s.writeUInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}}V.NearUInt64BE=cg;class fg extends Qe{constructor(e){super(8,e)}decode(e,t=0){const n=je(e),i=n.readUInt32LE(t),s=n.readInt32LE(t+4);return lf(s,i)}encode(e,t,n=0){const i=uf(e),s=je(t);return s.writeUInt32LE(i.lo32,n),s.writeInt32LE(i.hi32,n+4),8}}V.NearInt64=fg;class ug extends Qe{constructor(e){super(8,e)}decode(e,t=0){const n=je(e),i=n.readInt32BE(t),s=n.readUInt32BE(t+4);return lf(i,s)}encode(e,t,n=0){const i=uf(e),s=je(t);return s.writeInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}}V.NearInt64BE=ug;class lg extends Qe{constructor(e){super(4,e)}decode(e,t=0){return je(e).readFloatLE(t)}encode(e,t,n=0){return je(t).writeFloatLE(e,n),4}}V.Float=lg;class dg extends Qe{constructor(e){super(4,e)}decode(e,t=0){return je(e).readFloatBE(t)}encode(e,t,n=0){return je(t).writeFloatBE(e,n),4}}V.FloatBE=dg;class hg extends Qe{constructor(e){super(8,e)}decode(e,t=0){return je(e).readDoubleLE(t)}encode(e,t,n=0){return je(t).writeDoubleLE(e,n),8}}V.Double=hg;class pg extends Qe{constructor(e){super(8,e)}decode(e,t=0){return je(e).readDoubleBE(t)}encode(e,t,n=0){return je(t).writeDoubleBE(e,n),8}}V.DoubleBE=pg;class xg extends Qe{constructor(e,t,n){if(!(e instanceof Qe))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof Fr&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(t instanceof Fr)&&0<e.span&&(i=t*e.span),super(i,n),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof Fr&&(i=i.decode(e,t)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let s=0;for(;s<i;)n+=this.elementLayout.getSpan(e,t+n),++s}return n}decode(e,t=0){const n=[];let i=0,s=this.count;for(s instanceof Fr&&(s=s.decode(e,t));i<s;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),i+=1;return n}encode(e,t,n=0){const i=this.elementLayout,s=e.reduce((o,a)=>o+i.encode(a,t,n+o),0);return this.count instanceof Fr&&this.count.encode(e.length,t,n),s}}V.Sequence=xg;class gg extends Qe{constructor(e,t,n){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof Qe,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&n===void 0&&(n=t,t=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,s)=>{const o=s.getSpan(e,t);return t+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,t=0){mo(e);const n=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,t)),t+=i.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n=0){const i=n;let s=0,o=0;for(const a of this.fields){let c=a.span;if(o=0<c?c:0,a.property!==void 0){const f=e[a.property];f!==void 0&&(o=a.encode(f,t,n),0>c&&(c=a.getSpan(t,n)))}s=n,n+=c}return s+o-i}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}}V.Structure=gg;class r0{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,n){throw new Error("UnionDiscriminator is abstract")}}V.UnionDiscriminator=r0;class Rc extends r0{constructor(e,t){if(!(e instanceof Fr&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}}V.UnionLayoutDiscriminator=Rc;class n0 extends Qe{constructor(e,t,n){let i;if(e instanceof xn||e instanceof vn)i=new Rc(new t0(e));else if(e instanceof Fr&&e.isCount())i=new Rc(e);else if(e instanceof r0)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof Qe))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let s=-1;t&&(s=t.span,0<=s&&(e instanceof xn||e instanceof vn)&&(s+=i.layout.span)),super(s,n),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof xn||e instanceof vn,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;const n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(const t in this.registry){const n=this.registry[t];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,t=0){let n;const i=this.discriminator,s=i.decode(e,t),o=this.registry[s];if(o===void 0){const a=this.defaultLayout;let c=0;this.usesPrefixDiscriminator&&(c=i.layout.span),n=this.makeDestinationObject(),n[i.property]=s,n[a.property]=a.decode(e,t+c)}else n=o.decode(e,t);return n}encode(e,t,n=0){const i=this.getSourceVariant(e);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=s.layout.span),s.encode(e[s.property],t,n),a+o.encode(e[o.property],t,n+a)}return i.encode(e,t,n)}addVariant(e,t,n){const i=new bg(this,e,t,n);return this.registry[e]=i,i}getVariant(e,t=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,t):n=e,this.registry[n]}}V.Union=n0;class bg extends Qe{constructor(e,t,n,i){if(!(e instanceof n0))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof Qe))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=n?n.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,t+n)),n+i}decode(e,t=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let s=i;if(this.layout&&(this.layout.encode(e[this.property],t,n+i),s+=this.layout.getSpan(t,n+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}V.VariantLayout=bg;function gs(r){return 0>r&&(r+=4294967296),r}class i0 extends Qe{constructor(e,t,n){if(!(e instanceof xn||e instanceof vn))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof t=="string"&&n===void 0&&(n=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!t,this.fields=[];let i=0;this._packedSetValue=function(s){return i=gs(s),this},this._packedGetValue=function(){return i}}decode(e,t=0){const n=this.makeDestinationObject(),i=this.word.decode(e,t);this._packedSetValue(i);for(const s of this.fields)s.property!==void 0&&(n[s.property]=s.decode(e));return n}encode(e,t,n=0){const i=this.word.decode(t,n);this._packedSetValue(i);for(const s of this.fields)if(s.property!==void 0){const o=e[s.property];o!==void 0&&s.encode(o)}return this.word.encode(this._packedGetValue(),t,n)}addField(e,t){const n=new s0(this,e,t);return this.fields.push(n),n}addBoolean(e){const t=new yg(this,e);return this.fields.push(t),t}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}V.BitStructure=i0;class s0{constructor(e,t,n){if(!(e instanceof i0))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const i=8*e.span,s=e.fields.reduce((o,a)=>o+a.bits,0);if(t+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,t===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-t),this.wordMask=gs(this.valueMask<<this.start),this.property=n}decode(e,t){const n=this.container._packedGetValue();return gs(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==gs(e&this.valueMask))throw new TypeError(e0("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),n=gs(e<<this.start);this.container._packedSetValue(gs(t&~this.wordMask)|n)}}V.BitField=s0;let yg=class extends s0{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};V.Boolean=yg;class mg extends Qe{constructor(e,t){if(!(e instanceof Fr&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof Fr||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t=0){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),je(e).slice(t,t+n)}encode(e,t,n){let i=this.length;if(this.length instanceof Fr&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(e0("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>t.length)throw new RangeError("encoding overruns Uint8Array");const s=je(e);return je(t).write(s.toString("hex"),n,i,"hex"),this.length instanceof Fr&&this.length.encode(i,t,n),i}}V.Blob=mg;class wg extends Qe{constructor(e){super(-1,e)}getSpan(e,t=0){mo(e);let n=t;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-t}decode(e,t=0){const n=this.getSpan(e,t);return je(e).slice(t,t+n-1).toString("utf-8")}encode(e,t,n=0){typeof e!="string"&&(e=String(e));const i=Ql.Buffer.from(e,"utf8"),s=i.length;if(n+s>t.length)throw new RangeError("encoding overruns Buffer");const o=je(t);return i.copy(o,n),o[n+s]=0,s+1}}V.CString=wg;class vg extends Qe{constructor(e,t){if(typeof e=="string"&&t===void 0&&(t=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return mo(e),e.length-t}decode(e,t=0){const n=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return je(e).slice(t,t+n).toString("utf-8")}encode(e,t,n=0){typeof e!="string"&&(e=String(e));const i=Ql.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>t.length)throw new RangeError("encoding overruns Buffer");return i.copy(je(t),n),s}}V.UTF8=vg;class _g extends Qe{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,n){return 0}}V.Constant=_g;V.greedy=(r,e)=>new og(r,e);var vi=V.offset=(r,e,t)=>new t0(r,e,t),We=V.u8=r=>new xn(1,r),fn=V.u16=r=>new xn(2,r);V.u24=r=>new xn(3,r);var de=V.u32=r=>new xn(4,r);V.u40=r=>new xn(5,r);V.u48=r=>new xn(6,r);var pr=V.nu64=r=>new ag(r);V.u16be=r=>new vn(2,r);V.u24be=r=>new vn(3,r);V.u32be=r=>new vn(4,r);V.u40be=r=>new vn(5,r);V.u48be=r=>new vn(6,r);V.nu64be=r=>new cg(r);V.s8=r=>new rs(1,r);V.s16=r=>new rs(2,r);V.s24=r=>new rs(3,r);V.s32=r=>new rs(4,r);V.s40=r=>new rs(5,r);V.s48=r=>new rs(6,r);var jr=V.ns64=r=>new fg(r);V.s16be=r=>new wo(2,r);V.s24be=r=>new wo(3,r);V.s32be=r=>new wo(4,r);V.s40be=r=>new wo(5,r);V.s48be=r=>new wo(6,r);V.ns64be=r=>new ug(r);V.f32=r=>new lg(r);V.f32be=r=>new dg(r);V.f64=r=>new hg(r);V.f64be=r=>new pg(r);var he=V.struct=(r,e,t)=>new gg(r,e,t);V.bits=(r,e,t)=>new i0(r,e,t);var _r=V.seq=(r,e,t)=>new xg(r,e,t);V.union=(r,e,t)=>new n0(r,e,t);V.unionLayoutDiscriminator=(r,e)=>new Rc(r,e);var ut=V.blob=(r,e)=>new mg(r,e);V.cstr=r=>new wg(r);V.utf8=(r,e)=>new vg(r,e);V.constant=(r,e)=>new _g(r,e);var ba={};Object.defineProperty(ba,"__esModule",{value:!0});function cv(r){{const e=Buffer.from(r);e.reverse();const t=e.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}}var fv=ba.toBigIntLE=cv;function uv(r){{const e=r.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}ba.toBigIntBE=uv;function lv(r,e){{const t=r.toString(16),n=Buffer.from(t.padStart(e*2,"0").slice(0,e*2),"hex");return n.reverse(),n}}var kg=ba.toBufferLE=lv;function dv(r,e){{const t=r.toString(16);return Buffer.from(t.padStart(e*2,"0").slice(0,e*2),"hex")}}ba.toBufferBE=dv;class hv extends TypeError{constructor(e,t){let n;const{message:i,...s}=e,{path:o}=e,a=o.length===0?i:"At path: "+o.join(".")+" -- "+i;super(a),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>{var c;return(c=n)!=null?c:n=[e,...t()]}}}function pv(r){return _i(r)&&typeof r[Symbol.iterator]=="function"}function _i(r){return typeof r=="object"&&r!=null}function Sn(r){return typeof r=="string"?JSON.stringify(r):""+r}function xv(r){const{done:e,value:t}=r.next();return e?void 0:t}function gv(r,e,t,n){if(r===!0)return;r===!1?r={}:typeof r=="string"&&(r={message:r});const{path:i,branch:s}=e,{type:o}=t,{refinement:a,message:c="Expected a value of type `"+o+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+Sn(n)+"`"}=r;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...r,message:c}}function*Hd(r,e,t,n){pv(r)||(r=[r]);for(const i of r){const s=gv(i,e,t,n);s&&(yield s)}}function*o0(r,e,t={}){const{path:n=[],branch:i=[r],coerce:s=!1,mask:o=!1}=t,a={path:n,branch:i};if(s&&(r=e.coercer(r,a),o&&e.type!=="type"&&_i(e.schema)&&_i(r)&&!Array.isArray(r)))for(const f in r)e.schema[f]===void 0&&delete r[f];let c=!0;for(const f of e.validator(r,a))c=!1,yield[f,void 0];for(let[f,l,h]of e.entries(r,a)){const w=o0(l,h,{path:f===void 0?n:[...n,f],branch:f===void 0?i:[...i,l],coerce:s,mask:o});for(const b of w)b[0]?(c=!1,yield[b[0],void 0]):s&&(l=b[1],f===void 0?r=l:r instanceof Map?r.set(f,l):r instanceof Set?r.add(l):_i(r)&&(r[f]=l))}if(c)for(const f of e.refiner(r,a))c=!1,yield[f,void 0];c&&(yield[void 0,r])}let Kn=class{constructor(e){const{type:t,schema:n,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(c,f)=>{const l=i(c,f);return Hd(l,f,this,c)}:this.validator=()=>[],s?this.refiner=(c,f)=>{const l=s(c,f);return Hd(l,f,this,c)}:this.refiner=()=>[]}assert(e){return Eg(e,this)}create(e){return se(e,this)}is(e){return Sg(e,this)}mask(e){return bv(e,this)}validate(e,t={}){return ya(e,this,t)}};function Eg(r,e){const t=ya(r,e);if(t[0])throw t[0]}function se(r,e){const t=ya(r,e,{coerce:!0});if(t[0])throw t[0];return t[1]}function bv(r,e){const t=ya(r,e,{coerce:!0,mask:!0});if(t[0])throw t[0];return t[1]}function Sg(r,e){return!ya(r,e)[0]}function ya(r,e,t={}){const n=o0(r,e,t),i=xv(n);return i[0]?[new hv(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function ns(r,e){return new Kn({type:r,schema:null,validator:e})}function yv(){return ns("any",()=>!0)}function ce(r){return new Kn({type:"array",schema:r,*entries(e){if(r&&Array.isArray(e))for(const[t,n]of e.entries())yield[t,n,r]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+Sn(e)}})}function ni(){return ns("boolean",r=>typeof r=="boolean")}function a0(r){return ns("instance",e=>e instanceof r||"Expected a `"+r.name+"` instance, but received: "+Sn(e))}function mt(r){const e=Sn(r),t=typeof r;return new Kn({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?r:null,validator(n){return n===r||"Expected the literal `"+e+"`, but received: "+Sn(n)}})}function mv(){return ns("never",()=>!1)}function fe(r){return new Kn({...r,validator:(e,t)=>e===null||r.validator(e,t),refiner:(e,t)=>e===null||r.refiner(e,t)})}function G(){return ns("number",r=>typeof r=="number"&&!isNaN(r)||"Expected a number, but received: "+Sn(r))}function ke(r){return new Kn({...r,validator:(e,t)=>e===void 0||r.validator(e,t),refiner:(e,t)=>e===void 0||r.refiner(e,t)})}function Ag(r,e){return new Kn({type:"record",schema:null,*entries(t){if(_i(t))for(const n in t){const i=t[n];yield[n,n,r],yield[n,i,e]}},validator(t){return _i(t)||"Expected an object, but received: "+Sn(t)}})}function ie(){return ns("string",r=>typeof r=="string"||"Expected a string, but received: "+Sn(r))}function c0(r){const e=mv();return new Kn({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const n=Math.max(r.length,t.length);for(let i=0;i<n;i++)yield[i,t[i],r[i]||e]}},validator(t){return Array.isArray(t)||"Expected an array, but received: "+Sn(t)}})}function Q(r){const e=Object.keys(r);return new Kn({type:"type",schema:r,*entries(t){if(_i(t))for(const n of e)yield[n,t[n],r[n]]},validator(t){return _i(t)||"Expected an object, but received: "+Sn(t)}})}function zr(r){const e=r.map(t=>t.type).join(" | ");return new Kn({type:"union",schema:null,validator(t,n){const i=[];for(const s of r){const[...o]=o0(t,s,n),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+Sn(t),...i]}})}function ma(){return ns("unknown",()=>!0)}function wa(r,e,t){return new Kn({...r,coercer:(n,i)=>Sg(n,e)?r.coercer(t(n,i),i):r.coercer(n,i)})}var $a,wv=new Uint8Array(16);function Ig(){if(!$a&&($a=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!$a))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $a(wv)}const vv=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function df(r){return typeof r=="string"&&vv.test(r)}var hr=[];for(var gu=0;gu<256;++gu)hr.push((gu+256).toString(16).substr(1));function hf(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(hr[r[e+0]]+hr[r[e+1]]+hr[r[e+2]]+hr[r[e+3]]+"-"+hr[r[e+4]]+hr[r[e+5]]+"-"+hr[r[e+6]]+hr[r[e+7]]+"-"+hr[r[e+8]]+hr[r[e+9]]+"-"+hr[r[e+10]]+hr[r[e+11]]+hr[r[e+12]]+hr[r[e+13]]+hr[r[e+14]]+hr[r[e+15]]).toLowerCase();if(!df(t))throw TypeError("Stringified UUID is invalid");return t}var Gd,bu,yu=0,mu=0;function _v(r,e,t){var n=e&&t||0,i=e||new Array(16);r=r||{};var s=r.node||Gd,o=r.clockseq!==void 0?r.clockseq:bu;if(s==null||o==null){var a=r.random||(r.rng||Ig)();s==null&&(s=Gd=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=bu=(a[6]<<8|a[7])&16383)}var c=r.msecs!==void 0?r.msecs:Date.now(),f=r.nsecs!==void 0?r.nsecs:mu+1,l=c-yu+(f-mu)/1e4;if(l<0&&r.clockseq===void 0&&(o=o+1&16383),(l<0||c>yu)&&r.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");yu=c,mu=f,bu=o,c+=122192928e5;var h=((c&268435455)*1e4+f)%4294967296;i[n++]=h>>>24&255,i[n++]=h>>>16&255,i[n++]=h>>>8&255,i[n++]=h&255;var w=c/4294967296*1e4&268435455;i[n++]=w>>>8&255,i[n++]=w&255,i[n++]=w>>>24&15|16,i[n++]=w>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(var b=0;b<6;++b)i[n+b]=s[b];return e||hf(i)}function Rg(r){if(!df(r))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}function kv(r){r=unescape(encodeURIComponent(r));for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}var Ev="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Sv="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Tg(r,e,t){function n(i,s,o,a){if(typeof i=="string"&&(i=kv(i)),typeof s=="string"&&(s=Rg(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+i.length);if(c.set(s),c.set(i,s.length),c=t(c),c[6]=c[6]&15|e,c[8]=c[8]&63|128,o){a=a||0;for(var f=0;f<16;++f)o[a+f]=c[f];return o}return hf(c)}try{n.name=r}catch{}return n.DNS=Ev,n.URL=Sv,n}function Av(r){if(typeof r=="string"){var e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(var t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return Iv(Rv(Tv(r),r.length*8))}function Iv(r){for(var e=[],t=r.length*32,n="0123456789abcdef",i=0;i<t;i+=8){var s=r[i>>5]>>>i%32&255,o=parseInt(n.charAt(s>>>4&15)+n.charAt(s&15),16);e.push(o)}return e}function Ng(r){return(r+64>>>9<<4)+14+1}function Rv(r,e){r[e>>5]|=128<<e%32,r[Ng(e)-1]=e;for(var t=1732584193,n=-271733879,i=-1732584194,s=271733878,o=0;o<r.length;o+=16){var a=t,c=n,f=i,l=s;t=Ar(t,n,i,s,r[o],7,-680876936),s=Ar(s,t,n,i,r[o+1],12,-389564586),i=Ar(i,s,t,n,r[o+2],17,606105819),n=Ar(n,i,s,t,r[o+3],22,-1044525330),t=Ar(t,n,i,s,r[o+4],7,-176418897),s=Ar(s,t,n,i,r[o+5],12,1200080426),i=Ar(i,s,t,n,r[o+6],17,-1473231341),n=Ar(n,i,s,t,r[o+7],22,-45705983),t=Ar(t,n,i,s,r[o+8],7,1770035416),s=Ar(s,t,n,i,r[o+9],12,-1958414417),i=Ar(i,s,t,n,r[o+10],17,-42063),n=Ar(n,i,s,t,r[o+11],22,-1990404162),t=Ar(t,n,i,s,r[o+12],7,1804603682),s=Ar(s,t,n,i,r[o+13],12,-40341101),i=Ar(i,s,t,n,r[o+14],17,-1502002290),n=Ar(n,i,s,t,r[o+15],22,1236535329),t=Ir(t,n,i,s,r[o+1],5,-165796510),s=Ir(s,t,n,i,r[o+6],9,-1069501632),i=Ir(i,s,t,n,r[o+11],14,643717713),n=Ir(n,i,s,t,r[o],20,-373897302),t=Ir(t,n,i,s,r[o+5],5,-701558691),s=Ir(s,t,n,i,r[o+10],9,38016083),i=Ir(i,s,t,n,r[o+15],14,-660478335),n=Ir(n,i,s,t,r[o+4],20,-405537848),t=Ir(t,n,i,s,r[o+9],5,568446438),s=Ir(s,t,n,i,r[o+14],9,-1019803690),i=Ir(i,s,t,n,r[o+3],14,-187363961),n=Ir(n,i,s,t,r[o+8],20,1163531501),t=Ir(t,n,i,s,r[o+13],5,-1444681467),s=Ir(s,t,n,i,r[o+2],9,-51403784),i=Ir(i,s,t,n,r[o+7],14,1735328473),n=Ir(n,i,s,t,r[o+12],20,-1926607734),t=Rr(t,n,i,s,r[o+5],4,-378558),s=Rr(s,t,n,i,r[o+8],11,-2022574463),i=Rr(i,s,t,n,r[o+11],16,1839030562),n=Rr(n,i,s,t,r[o+14],23,-35309556),t=Rr(t,n,i,s,r[o+1],4,-1530992060),s=Rr(s,t,n,i,r[o+4],11,1272893353),i=Rr(i,s,t,n,r[o+7],16,-155497632),n=Rr(n,i,s,t,r[o+10],23,-1094730640),t=Rr(t,n,i,s,r[o+13],4,681279174),s=Rr(s,t,n,i,r[o],11,-358537222),i=Rr(i,s,t,n,r[o+3],16,-722521979),n=Rr(n,i,s,t,r[o+6],23,76029189),t=Rr(t,n,i,s,r[o+9],4,-640364487),s=Rr(s,t,n,i,r[o+12],11,-421815835),i=Rr(i,s,t,n,r[o+15],16,530742520),n=Rr(n,i,s,t,r[o+2],23,-995338651),t=Tr(t,n,i,s,r[o],6,-198630844),s=Tr(s,t,n,i,r[o+7],10,1126891415),i=Tr(i,s,t,n,r[o+14],15,-1416354905),n=Tr(n,i,s,t,r[o+5],21,-57434055),t=Tr(t,n,i,s,r[o+12],6,1700485571),s=Tr(s,t,n,i,r[o+3],10,-1894986606),i=Tr(i,s,t,n,r[o+10],15,-1051523),n=Tr(n,i,s,t,r[o+1],21,-2054922799),t=Tr(t,n,i,s,r[o+8],6,1873313359),s=Tr(s,t,n,i,r[o+15],10,-30611744),i=Tr(i,s,t,n,r[o+6],15,-1560198380),n=Tr(n,i,s,t,r[o+13],21,1309151649),t=Tr(t,n,i,s,r[o+4],6,-145523070),s=Tr(s,t,n,i,r[o+11],10,-1120210379),i=Tr(i,s,t,n,r[o+2],15,718787259),n=Tr(n,i,s,t,r[o+9],21,-343485551),t=yi(t,a),n=yi(n,c),i=yi(i,f),s=yi(s,l)}return[t,n,i,s]}function Tv(r){if(r.length===0)return[];for(var e=r.length*8,t=new Uint32Array(Ng(e)),n=0;n<e;n+=8)t[n>>5]|=(r[n/8]&255)<<n%32;return t}function yi(r,e){var t=(r&65535)+(e&65535),n=(r>>16)+(e>>16)+(t>>16);return n<<16|t&65535}function Nv(r,e){return r<<e|r>>>32-e}function pf(r,e,t,n,i,s){return yi(Nv(yi(yi(e,r),yi(n,s)),i),t)}function Ar(r,e,t,n,i,s,o){return pf(e&t|~e&n,r,e,i,s,o)}function Ir(r,e,t,n,i,s,o){return pf(e&n|t&~n,r,e,i,s,o)}function Rr(r,e,t,n,i,s,o){return pf(e^t^n,r,e,i,s,o)}function Tr(r,e,t,n,i,s,o){return pf(t^(e|~n),r,e,i,s,o)}var Pv=Tg("v3",48,Av);const Bv=Pv;function Ov(r,e,t){r=r||{};var n=r.random||(r.rng||Ig)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=n[i];return e}return hf(n)}function Cv(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function wu(r,e){return r<<e|r>>>32-e}function Mv(r){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var i=0;i<n.length;++i)r.push(n.charCodeAt(i))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var s=r.length/4+2,o=Math.ceil(s/16),a=new Array(o),c=0;c<o;++c){for(var f=new Uint32Array(16),l=0;l<16;++l)f[l]=r[c*64+l*4]<<24|r[c*64+l*4+1]<<16|r[c*64+l*4+2]<<8|r[c*64+l*4+3];a[c]=f}a[o-1][14]=(r.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(r.length-1)*8&4294967295;for(var h=0;h<o;++h){for(var w=new Uint32Array(80),b=0;b<16;++b)w[b]=a[h][b];for(var m=16;m<80;++m)w[m]=wu(w[m-3]^w[m-8]^w[m-14]^w[m-16],1);for(var k=t[0],S=t[1],A=t[2],O=t[3],R=t[4],B=0;B<80;++B){var N=Math.floor(B/20),L=wu(k,5)+Cv(N,S,A,O)+R+e[N]+w[B]>>>0;R=O,O=A,A=wu(S,30)>>>0,S=k,k=L}t[0]=t[0]+k>>>0,t[1]=t[1]+S>>>0,t[2]=t[2]+A>>>0,t[3]=t[3]+O>>>0,t[4]=t[4]+R>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var Uv=Tg("v5",80,Mv);const Lv=Uv,Fv="00000000-0000-0000-0000-000000000000";function Dv(r){if(!df(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}const $v=Object.freeze(Object.defineProperty({__proto__:null,NIL:Fv,parse:Rg,stringify:hf,v1:_v,v3:Bv,v4:Ov,v5:Lv,validate:df,version:Dv},Symbol.toStringTag,{value:"Module"})),Pg=Gl($v),zv=Pg.v4,Kv=function(r,e,t,n){if(typeof r!="string")throw new TypeError(r+" must be a string");n=n||{};const i=typeof n.version=="number"?n.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const s={method:r};if(i===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof t>"u"){const o=typeof n.generator=="function"?n.generator:function(){return zv()};s.id=o(s,n)}else i===2&&t===null?n.notificationIdNull&&(s.id=null):s.id=t;return s};var Wv=Kv;const Hv=Pg.v4,Gv=Wv,ta=function(r,e){if(!(this instanceof ta))return new ta(r,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return Hv()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=r};var qv=ta;ta.prototype.request=function(r,e,t,n){const i=this;let s=null;const o=Array.isArray(r)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&r&&typeof r=="object"&&typeof e=="function")n=e,s=r;else{typeof t=="function"&&(n=t,t=void 0);const f=typeof n=="function";try{s=Gv(r,e,t,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(l){if(f)return n(l);throw l}if(!f)return s}let c;try{c=JSON.stringify(s,this.options.replacer)}catch(f){return n(f)}return this.callServer(c,function(f,l){i._parseResponse(f,l,n)}),s};ta.prototype._parseResponse=function(r,e,t){if(r){t(r);return}if(!e)return t();let n;try{n=JSON.parse(e,this.options.reviver)}catch(i){return t(i)}if(t.length===3)if(Array.isArray(n)){const i=function(o){return typeof o.error<"u"},s=function(o){return!i(o)};return t(null,n.filter(i),n.filter(s))}else return t(null,n.error,n.result);t(null,n)};var Bg={},Tc={},Vv={get exports(){return Tc},set exports(r){Tc=r}};(function(r){function e(t){return t&&t.__esModule?t:{default:t}}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports})(Vv);var Nc={},jv={get exports(){return Nc},set exports(r){Nc=r}},Pc={},Yv={get exports(){return Pc},set exports(r){Pc=r}},qd;function va(){return qd||(qd=1,function(r){function e(t){return r.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},r.exports.__esModule=!0,r.exports.default=r.exports,e(t)}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(Yv)),Pc}var Vd;function Jv(){return Vd||(Vd=1,function(r){var e=va().default;function t(){r.exports=t=function(){return n},r.exports.__esModule=!0,r.exports.default=r.exports;var n={},i=Object.prototype,s=i.hasOwnProperty,o=Object.defineProperty||function(x,y,E){x[y]=E.value},a=typeof Symbol=="function"?Symbol:{},c=a.iterator||"@@iterator",f=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function h(x,y,E){return Object.defineProperty(x,y,{value:E,enumerable:!0,configurable:!0,writable:!0}),x[y]}try{h({},"")}catch{h=function(E,P,M){return E[P]=M}}function w(x,y,E,P){var M=y&&y.prototype instanceof k?y:k,D=Object.create(M.prototype),I=new re(P||[]);return o(D,"_invoke",{value:K(x,E,I)}),D}function b(x,y,E){try{return{type:"normal",arg:x.call(y,E)}}catch(P){return{type:"throw",arg:P}}}n.wrap=w;var m={};function k(){}function S(){}function A(){}var O={};h(O,c,function(){return this});var R=Object.getPrototypeOf,B=R&&R(R(v([])));B&&B!==i&&s.call(B,c)&&(O=B);var N=A.prototype=k.prototype=Object.create(O);function L(x){["next","throw","return"].forEach(function(y){h(x,y,function(E){return this._invoke(y,E)})})}function $(x,y){function E(M,D,I,g){var C=b(x[M],x,D);if(C.type!=="throw"){var be=C.arg,pe=be.value;return pe&&e(pe)=="object"&&s.call(pe,"__await")?y.resolve(pe.__await).then(function(me){E("next",me,I,g)},function(me){E("throw",me,I,g)}):y.resolve(pe).then(function(me){be.value=me,I(be)},function(me){return E("throw",me,I,g)})}g(C.arg)}var P;o(this,"_invoke",{value:function(D,I){function g(){return new y(function(C,be){E(D,I,C,be)})}return P=P?P.then(g,g):g()}})}function K(x,y,E){var P="suspendedStart";return function(M,D){if(P==="executing")throw new Error("Generator is already running");if(P==="completed"){if(M==="throw")throw D;return u()}for(E.method=M,E.arg=D;;){var I=E.delegate;if(I){var g=Y(I,E);if(g){if(g===m)continue;return g}}if(E.method==="next")E.sent=E._sent=E.arg;else if(E.method==="throw"){if(P==="suspendedStart")throw P="completed",E.arg;E.dispatchException(E.arg)}else E.method==="return"&&E.abrupt("return",E.arg);P="executing";var C=b(x,y,E);if(C.type==="normal"){if(P=E.done?"completed":"suspendedYield",C.arg===m)continue;return{value:C.arg,done:E.done}}C.type==="throw"&&(P="completed",E.method="throw",E.arg=C.arg)}}}function Y(x,y){var E=y.method,P=x.iterator[E];if(P===void 0)return y.delegate=null,E==="throw"&&x.iterator.return&&(y.method="return",y.arg=void 0,Y(x,y),y.method==="throw")||E!=="return"&&(y.method="throw",y.arg=new TypeError("The iterator does not provide a '"+E+"' method")),m;var M=b(P,x.iterator,y.arg);if(M.type==="throw")return y.method="throw",y.arg=M.arg,y.delegate=null,m;var D=M.arg;return D?D.done?(y[x.resultName]=D.value,y.next=x.nextLoc,y.method!=="return"&&(y.method="next",y.arg=void 0),y.delegate=null,m):D:(y.method="throw",y.arg=new TypeError("iterator result is not an object"),y.delegate=null,m)}function J(x){var y={tryLoc:x[0]};1 in x&&(y.catchLoc=x[1]),2 in x&&(y.finallyLoc=x[2],y.afterLoc=x[3]),this.tryEntries.push(y)}function q(x){var y=x.completion||{};y.type="normal",delete y.arg,x.completion=y}function re(x){this.tryEntries=[{tryLoc:"root"}],x.forEach(J,this),this.reset(!0)}function v(x){if(x){var y=x[c];if(y)return y.call(x);if(typeof x.next=="function")return x;if(!isNaN(x.length)){var E=-1,P=function M(){for(;++E<x.length;)if(s.call(x,E))return M.value=x[E],M.done=!1,M;return M.value=void 0,M.done=!0,M};return P.next=P}}return{next:u}}function u(){return{value:void 0,done:!0}}return S.prototype=A,o(N,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:S,configurable:!0}),S.displayName=h(A,l,"GeneratorFunction"),n.isGeneratorFunction=function(x){var y=typeof x=="function"&&x.constructor;return!!y&&(y===S||(y.displayName||y.name)==="GeneratorFunction")},n.mark=function(x){return Object.setPrototypeOf?Object.setPrototypeOf(x,A):(x.__proto__=A,h(x,l,"GeneratorFunction")),x.prototype=Object.create(N),x},n.awrap=function(x){return{__await:x}},L($.prototype),h($.prototype,f,function(){return this}),n.AsyncIterator=$,n.async=function(x,y,E,P,M){M===void 0&&(M=Promise);var D=new $(w(x,y,E,P),M);return n.isGeneratorFunction(y)?D:D.next().then(function(I){return I.done?I.value:D.next()})},L(N),h(N,l,"Generator"),h(N,c,function(){return this}),h(N,"toString",function(){return"[object Generator]"}),n.keys=function(x){var y=Object(x),E=[];for(var P in y)E.push(P);return E.reverse(),function M(){for(;E.length;){var D=E.pop();if(D in y)return M.value=D,M.done=!1,M}return M.done=!0,M}},n.values=v,re.prototype={constructor:re,reset:function(y){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(q),!y)for(var E in this)E.charAt(0)==="t"&&s.call(this,E)&&!isNaN(+E.slice(1))&&(this[E]=void 0)},stop:function(){this.done=!0;var y=this.tryEntries[0].completion;if(y.type==="throw")throw y.arg;return this.rval},dispatchException:function(y){if(this.done)throw y;var E=this;function P(be,pe){return I.type="throw",I.arg=y,E.next=be,pe&&(E.method="next",E.arg=void 0),!!pe}for(var M=this.tryEntries.length-1;M>=0;--M){var D=this.tryEntries[M],I=D.completion;if(D.tryLoc==="root")return P("end");if(D.tryLoc<=this.prev){var g=s.call(D,"catchLoc"),C=s.call(D,"finallyLoc");if(g&&C){if(this.prev<D.catchLoc)return P(D.catchLoc,!0);if(this.prev<D.finallyLoc)return P(D.finallyLoc)}else if(g){if(this.prev<D.catchLoc)return P(D.catchLoc,!0)}else{if(!C)throw new Error("try statement without catch or finally");if(this.prev<D.finallyLoc)return P(D.finallyLoc)}}}},abrupt:function(y,E){for(var P=this.tryEntries.length-1;P>=0;--P){var M=this.tryEntries[P];if(M.tryLoc<=this.prev&&s.call(M,"finallyLoc")&&this.prev<M.finallyLoc){var D=M;break}}D&&(y==="break"||y==="continue")&&D.tryLoc<=E&&E<=D.finallyLoc&&(D=null);var I=D?D.completion:{};return I.type=y,I.arg=E,D?(this.method="next",this.next=D.finallyLoc,m):this.complete(I)},complete:function(y,E){if(y.type==="throw")throw y.arg;return y.type==="break"||y.type==="continue"?this.next=y.arg:y.type==="return"?(this.rval=this.arg=y.arg,this.method="return",this.next="end"):y.type==="normal"&&E&&(this.next=E),m},finish:function(y){for(var E=this.tryEntries.length-1;E>=0;--E){var P=this.tryEntries[E];if(P.finallyLoc===y)return this.complete(P.completion,P.afterLoc),q(P),m}},catch:function(y){for(var E=this.tryEntries.length-1;E>=0;--E){var P=this.tryEntries[E];if(P.tryLoc===y){var M=P.completion;if(M.type==="throw"){var D=M.arg;q(P)}return D}}throw new Error("illegal catch attempt")},delegateYield:function(y,E,P){return this.delegate={iterator:v(y),resultName:E,nextLoc:P},this.method==="next"&&(this.arg=void 0),m}},n}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(jv)),Nc}var vu,jd;function Zv(){if(jd)return vu;jd=1;var r=Jv()();vu=r;try{regeneratorRuntime=r}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}return vu}var Bc={},Xv={get exports(){return Bc},set exports(r){Bc=r}},Yd;function Qv(){return Yd||(Yd=1,function(r){function e(n,i,s,o,a,c,f){try{var l=n[c](f),h=l.value}catch(w){s(w);return}l.done?i(h):Promise.resolve(h).then(o,a)}function t(n){return function(){var i=this,s=arguments;return new Promise(function(o,a){var c=n.apply(i,s);function f(h){e(c,o,a,f,l,"next",h)}function l(h){e(c,o,a,f,l,"throw",h)}f(void 0)})}}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(Xv)),Bc}var Oc={},e3={get exports(){return Oc},set exports(r){Oc=r}},Jd;function Og(){return Jd||(Jd=1,function(r){function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(e3)),Oc}var Cc={},t3={get exports(){return Cc},set exports(r){Cc=r}},Mc={},r3={get exports(){return Mc},set exports(r){Mc=r}},Uc={},n3={get exports(){return Uc},set exports(r){Uc=r}},Zd;function i3(){return Zd||(Zd=1,function(r){var e=va().default;function t(n,i){if(e(n)!=="object"||n===null)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var o=s.call(n,i||"default");if(e(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(n3)),Uc}var Xd;function s3(){return Xd||(Xd=1,function(r){var e=va().default,t=i3();function n(i){var s=t(i,"string");return e(s)==="symbol"?s:String(s)}r.exports=n,r.exports.__esModule=!0,r.exports.default=r.exports}(r3)),Mc}var Qd;function Cg(){return Qd||(Qd=1,function(r){var e=s3();function t(i,s){for(var o=0;o<s.length;o++){var a=s[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,e(a.key),a)}}function n(i,s,o){return s&&t(i.prototype,s),o&&t(i,o),Object.defineProperty(i,"prototype",{writable:!1}),i}r.exports=n,r.exports.__esModule=!0,r.exports.default=r.exports}(t3)),Cc}var Lc={},o3={get exports(){return Lc},set exports(r){Lc=r}},Fc={},a3={get exports(){return Fc},set exports(r){Fc=r}},eh;function c3(){return eh||(eh=1,function(r){function e(t,n){return r.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,o){return s.__proto__=o,s},r.exports.__esModule=!0,r.exports.default=r.exports,e(t,n)}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(a3)),Fc}var th;function Mg(){return th||(th=1,function(r){var e=c3();function t(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),i&&e(n,i)}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(o3)),Lc}var Dc={},f3={get exports(){return Dc},set exports(r){Dc=r}},$c={},u3={get exports(){return $c},set exports(r){$c=r}},rh;function l3(){return rh||(rh=1,function(r){function e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(u3)),$c}var nh;function Ug(){return nh||(nh=1,function(r){var e=va().default,t=l3();function n(i,s){if(s&&(e(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t(i)}r.exports=n,r.exports.__esModule=!0,r.exports.default=r.exports}(f3)),Dc}var zc={},d3={get exports(){return zc},set exports(r){zc=r}},ih;function Lg(){return ih||(ih=1,function(r){function e(t){return r.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},r.exports.__esModule=!0,r.exports.default=r.exports,e(t)}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(d3)),zc}var Kc={},h3={get exports(){return Kc},set exports(r){Kc=r}},sh;function Fg(){return sh||(sh=1,function(r){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function i(c,f,l){this.fn=c,this.context=f,this.once=l||!1}function s(c,f,l,h,w){if(typeof l!="function")throw new TypeError("The listener must be a function");var b=new i(l,h||c,w),m=t?t+f:f;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],b]:c._events[m].push(b):(c._events[m]=b,c._eventsCount++),c}function o(c,f){--c._eventsCount===0?c._events=new n:delete c._events[f]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var f=[],l,h;if(this._eventsCount===0)return f;for(h in l=this._events)e.call(l,h)&&f.push(t?h.slice(1):h);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(l)):f},a.prototype.listeners=function(f){var l=t?t+f:f,h=this._events[l];if(!h)return[];if(h.fn)return[h.fn];for(var w=0,b=h.length,m=new Array(b);w<b;w++)m[w]=h[w].fn;return m},a.prototype.listenerCount=function(f){var l=t?t+f:f,h=this._events[l];return h?h.fn?1:h.length:0},a.prototype.emit=function(f,l,h,w,b,m){var k=t?t+f:f;if(!this._events[k])return!1;var S=this._events[k],A=arguments.length,O,R;if(S.fn){switch(S.once&&this.removeListener(f,S.fn,void 0,!0),A){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,l),!0;case 3:return S.fn.call(S.context,l,h),!0;case 4:return S.fn.call(S.context,l,h,w),!0;case 5:return S.fn.call(S.context,l,h,w,b),!0;case 6:return S.fn.call(S.context,l,h,w,b,m),!0}for(R=1,O=new Array(A-1);R<A;R++)O[R-1]=arguments[R];S.fn.apply(S.context,O)}else{var B=S.length,N;for(R=0;R<B;R++)switch(S[R].once&&this.removeListener(f,S[R].fn,void 0,!0),A){case 1:S[R].fn.call(S[R].context);break;case 2:S[R].fn.call(S[R].context,l);break;case 3:S[R].fn.call(S[R].context,l,h);break;case 4:S[R].fn.call(S[R].context,l,h,w);break;default:if(!O)for(N=1,O=new Array(A-1);N<A;N++)O[N-1]=arguments[N];S[R].fn.apply(S[R].context,O)}}return!0},a.prototype.on=function(f,l,h){return s(this,f,l,h,!1)},a.prototype.once=function(f,l,h){return s(this,f,l,h,!0)},a.prototype.removeListener=function(f,l,h,w){var b=t?t+f:f;if(!this._events[b])return this;if(!l)return o(this,b),this;var m=this._events[b];if(m.fn)m.fn===l&&(!w||m.once)&&(!h||m.context===h)&&o(this,b);else{for(var k=0,S=[],A=m.length;k<A;k++)(m[k].fn!==l||w&&!m[k].once||h&&m[k].context!==h)&&S.push(m[k]);S.length?this._events[b]=S.length===1?S[0]:S:o(this,b)}return this},a.prototype.removeAllListeners=function(f){var l;return f?(l=t?t+f:f,this._events[l]&&o(this,l)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,r.exports=a}(h3)),Kc}(function(r){var e=Tc;Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var t=e(Zv()),n=e(Qv()),i=e(va()),s=e(Og()),o=e(Cg()),a=e(Mg()),c=e(Ug()),f=e(Lg()),l=Fg();function h(k){var S=w();return function(){var O=(0,f.default)(k),R;if(S){var B=(0,f.default)(this).constructor;R=Reflect.construct(O,arguments,B)}else R=O.apply(this,arguments);return(0,c.default)(this,R)}}function w(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var b=function(k,S){var A={};for(var O in k)Object.prototype.hasOwnProperty.call(k,O)&&S.indexOf(O)<0&&(A[O]=k[O]);if(k!=null&&typeof Object.getOwnPropertySymbols=="function")for(var R=0,O=Object.getOwnPropertySymbols(k);R<O.length;R++)S.indexOf(O[R])<0&&Object.prototype.propertyIsEnumerable.call(k,O[R])&&(A[O[R]]=k[O[R]]);return A},m=function(k){(0,a.default)(A,k);var S=h(A);function A(O){var R,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},L=arguments.length>3?arguments[3]:void 0;(0,s.default)(this,A);var $=N.autoconnect,K=$===void 0?!0:$,Y=N.reconnect,J=Y===void 0?!0:Y,q=N.reconnect_interval,re=q===void 0?1e3:q,v=N.max_reconnects,u=v===void 0?5:v,x=b(N,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return R=S.call(this),R.webSocketFactory=O,R.queue={},R.rpc_id=0,R.address=B,R.autoconnect=K,R.ready=!1,R.reconnect=J,R.reconnect_timer_id=void 0,R.reconnect_interval=re,R.max_reconnects=u,R.rest_options=x,R.current_reconnects=0,R.generate_request_id=L||function(){return++R.rpc_id},R.autoconnect&&R._connect(R.address,Object.assign({autoconnect:R.autoconnect,reconnect:R.reconnect,reconnect_interval:R.reconnect_interval,max_reconnects:R.max_reconnects},R.rest_options)),R}return(0,o.default)(A,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(R,B,N,L){var $=this;return!L&&(0,i.default)(N)==="object"&&(L=N,N=null),new Promise(function(K,Y){if(!$.ready)return Y(new Error("socket not ready"));var J=$.generate_request_id(R,B),q={jsonrpc:"2.0",method:R,params:B||null,id:J};$.socket.send(JSON.stringify(q),L,function(re){if(re)return Y(re);$.queue[J]={promise:[K,Y]},N&&($.queue[J].timeout=setTimeout(function(){delete $.queue[J],Y(new Error("reply timeout"))},N))})})}},{key:"login",value:function(){var O=(0,n.default)(t.default.mark(function B(N){var L;return t.default.wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.next=2,this.call("rpc.login",N);case 2:if(L=K.sent,L){K.next=5;break}throw new Error("authentication failed");case 5:return K.abrupt("return",L);case 6:case"end":return K.stop()}},B,this)}));function R(B){return O.apply(this,arguments)}return R}()},{key:"listMethods",value:function(){var O=(0,n.default)(t.default.mark(function B(){return t.default.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,this.call("__listMethods");case 2:return L.abrupt("return",L.sent);case 3:case"end":return L.stop()}},B,this)}));function R(){return O.apply(this,arguments)}return R}()},{key:"notify",value:function(R,B){var N=this;return new Promise(function(L,$){if(!N.ready)return $(new Error("socket not ready"));var K={jsonrpc:"2.0",method:R,params:B||null};N.socket.send(JSON.stringify(K),function(Y){if(Y)return $(Y);L()})})}},{key:"subscribe",value:function(){var O=(0,n.default)(t.default.mark(function B(N){var L;return t.default.wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return typeof N=="string"&&(N=[N]),K.next=3,this.call("rpc.on",N);case 3:if(L=K.sent,!(typeof N=="string"&&L[N]!=="ok")){K.next=6;break}throw new Error("Failed subscribing to an event '"+N+"' with: "+L[N]);case 6:return K.abrupt("return",L);case 7:case"end":return K.stop()}},B,this)}));function R(B){return O.apply(this,arguments)}return R}()},{key:"unsubscribe",value:function(){var O=(0,n.default)(t.default.mark(function B(N){var L;return t.default.wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return typeof N=="string"&&(N=[N]),K.next=3,this.call("rpc.off",N);case 3:if(L=K.sent,!(typeof N=="string"&&L[N]!=="ok")){K.next=6;break}throw new Error("Failed unsubscribing from an event with: "+L);case 6:return K.abrupt("return",L);case 7:case"end":return K.stop()}},B,this)}));function R(B){return O.apply(this,arguments)}return R}()},{key:"close",value:function(R,B){this.socket.close(R||1e3,B)}},{key:"_connect",value:function(R,B){var N=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(R,B),this.socket.addEventListener("open",function(){N.ready=!0,N.emit("open"),N.current_reconnects=0}),this.socket.addEventListener("message",function(L){var $=L.data;$ instanceof ArrayBuffer&&($=Buffer.from($).toString());try{$=JSON.parse($)}catch{return}if($.notification&&N.listeners($.notification).length){if(!Object.keys($.params).length)return N.emit($.notification);var K=[$.notification];if($.params.constructor===Object)K.push($.params);else for(var Y=0;Y<$.params.length;Y++)K.push($.params[Y]);return Promise.resolve().then(function(){N.emit.apply(N,K)})}if(!N.queue[$.id])return $.method&&$.params?Promise.resolve().then(function(){N.emit($.method,$.params)}):void 0;"error"in $=="result"in $&&N.queue[$.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),N.queue[$.id].timeout&&clearTimeout(N.queue[$.id].timeout),$.error?N.queue[$.id].promise[1]($.error):N.queue[$.id].promise[0]($.result),delete N.queue[$.id]}),this.socket.addEventListener("error",function(L){return N.emit("error",L)}),this.socket.addEventListener("close",function(L){var $=L.code,K=L.reason;N.ready&&setTimeout(function(){return N.emit("close",$,K)},0),N.ready=!1,N.socket=void 0,$!==1e3&&(N.current_reconnects++,N.reconnect&&(N.max_reconnects>N.current_reconnects||N.max_reconnects===0)&&(N.reconnect_timer_id=setTimeout(function(){return N._connect(R,B)},N.reconnect_interval)))})}}]),A}(l.EventEmitter);r.default=m})(Bg);const p3=Hl(Bg);var Dg={};(function(r){var e=Tc;Object.defineProperty(r,"__esModule",{value:!0}),r.default=h;var t=e(Og()),n=e(Cg()),i=e(Mg()),s=e(Ug()),o=e(Lg()),a=Fg();function c(w){var b=f();return function(){var k=(0,o.default)(w),S;if(b){var A=(0,o.default)(this).constructor;S=Reflect.construct(k,arguments,A)}else S=k.apply(this,arguments);return(0,s.default)(this,S)}}function f(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var l=function(w){(0,i.default)(m,w);var b=c(m);function m(k,S,A){var O;return(0,t.default)(this,m),O=b.call(this),O.socket=new window.WebSocket(k,A),O.socket.onopen=function(){return O.emit("open")},O.socket.onmessage=function(R){return O.emit("message",R.data)},O.socket.onerror=function(R){return O.emit("error",R)},O.socket.onclose=function(R){O.emit("close",R.code,R.reason)},O}return(0,n.default)(m,[{key:"send",value:function(S,A,O){var R=O||A;try{this.socket.send(S),R()}catch(B){R(B)}}},{key:"close",value:function(S,A){this.socket.close(S,A)}},{key:"addEventListener",value:function(S,A,O){this.socket.addEventListener(S,A,O)}}]),m}(a.EventEmitter);function h(w,b){return new l(w,b)}})(Dg);const x3=Hl(Dg);Xi.sha512Sync=(...r)=>tf(Xi.concatBytes(...r));const g3=Xi.randomPrivateKey,oh=()=>{const r=Xi.randomPrivateKey(),e=Wc(r),t=new Uint8Array(64);return t.set(r),t.set(e,32),{publicKey:e,secretKey:t}},Wc=Jl.getPublicKey;function ah(r){try{return vt.fromHex(r,!0),!0}catch{return!1}}const f0=(r,e)=>Jl.sign(r,e.slice(0,32)),b3=Jl.verify,Oe=r=>ve.Buffer.isBuffer(r)?r:r instanceof Uint8Array?ve.Buffer.from(r.buffer,r.byteOffset,r.byteLength):ve.Buffer.from(r);class u0{constructor(e){Object.assign(this,e)}encode(){return ve.Buffer.from(ig(zo,this))}static decode(e){return sg(zo,this,e)}static decodeUnchecked(e){return Q1(zo,this,e)}}class y3 extends u0{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const zo=new Map;let $g;const zg=32,Zr=32;function m3(r){return r._bn!==void 0}let ch=1;$g=Symbol.toStringTag;class ne extends u0{constructor(e){if(super({}),this._bn=void 0,m3(e))this._bn=e._bn;else{if(typeof e=="string"){const t=mr.decode(e);if(t.length!=Zr)throw new Error("Invalid public key input");this._bn=new co(t)}else this._bn=new co(e);if(this._bn.byteLength()>Zr)throw new Error("Invalid public key input")}}static unique(){const e=new ne(ch);return ch+=1,new ne(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return mr.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(ve.Buffer);if(e.length===Zr)return e;const t=ve.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[$g](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,n){const i=ve.Buffer.concat([e.toBuffer(),ve.Buffer.from(t),n.toBuffer()]),s=Ri(i);return new ne(s)}static createProgramAddressSync(e,t){let n=ve.Buffer.alloc(0);e.forEach(function(s){if(s.length>zg)throw new TypeError("Max seed length exceeded");n=ve.Buffer.concat([n,Oe(s)])}),n=ve.Buffer.concat([n,t.toBuffer(),ve.Buffer.from("ProgramDerivedAddress")]);const i=Ri(n);if(ah(i))throw new Error("Invalid seeds, address must fall off the curve");return new ne(i)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let n=255,i;for(;n!=0;){try{const s=e.concat(ve.Buffer.from([n]));i=this.createProgramAddressSync(s,t)}catch(s){if(s instanceof TypeError)throw s;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new ne(e);return ah(t.toBytes())}}ne.default=new ne("11111111111111111111111111111111");zo.set(ne,{kind:"struct",fields:[["_bn","u256"]]});class w3{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=Oe(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=Oe(g3()),this._publicKey=Oe(Wc(this._secretKey))}get publicKey(){return new ne(this._publicKey)}get secretKey(){return ve.Buffer.concat([this._secretKey,this._publicKey],64)}}const v3=new ne("BPFLoader1111111111111111111111111111111111"),ki=1280-40-8,xf=127,uo=64;class l0 extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(l0.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class d0 extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(d0.prototype,"name",{value:"TransactionExpiredTimeoutError"});class ws extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(ws.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class ra{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((s,o)=>{n.set(s.toBase58(),o)});const i=s=>{const o=n.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}}const Ue=(r="publicKey")=>ut(32,r),_3=(r="signature")=>ut(64,r),zi=(r="string")=>{const e=he([de("length"),de("lengthPadding"),ut(vi(de(),-8),"chars")],r),t=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(s,o)=>t(s,o).chars.toString(),i.encode=(s,o,a)=>{const c={chars:ve.Buffer.from(s,"utf8")};return n(c,o,a)},i.alloc=s=>de().span+de().span+ve.Buffer.from(s,"utf8").length,i},k3=(r="authorized")=>he([Ue("staker"),Ue("withdrawer")],r),E3=(r="lockup")=>he([jr("unixTimestamp"),jr("epoch"),Ue("custodian")],r),S3=(r="voteInit")=>he([Ue("nodePubkey"),Ue("authorizedVoter"),Ue("authorizedWithdrawer"),We("commission")],r),A3=(r="voteAuthorizeWithSeedArgs")=>he([de("voteAuthorizationType"),Ue("currentAuthorityDerivedKeyOwnerPubkey"),zi("currentAuthorityDerivedKeySeed"),Ue("newAuthorized")],r);function Kg(r,e){const t=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const s=e[i.property];if(Array.isArray(s))return s.length*t(i.elementLayout)}else if("fields"in i)return Kg({layout:i},e[i.property]);return 0};let n=0;return r.layout.fields.forEach(i=>{n+=t(i)}),n}function Ur(r){let e=0,t=0;for(;;){let n=r.shift();if(e|=(n&127)<<t*7,t+=1,!(n&128))break}return e}function Yr(r,e){let t=e;for(;;){let n=t&127;if(t>>=7,t==0){r.push(n);break}else n|=128,r.push(n)}}function Ve(r,e){if(!r)throw new Error(e||"Assertion failed")}class gf{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const n=new Map,i=o=>{const a=o.toBase58();let c=n.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(a,c)),c},s=i(t);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const a of o.keys){const c=i(a.pubkey);c.isSigner||(c.isSigner=a.isSigner),c.isWritable||(c.isWritable=a.isWritable)}}return new gf(t,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Ve(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),n=e.filter(([,c])=>c.isSigner&&!c.isWritable),i=e.filter(([,c])=>!c.isSigner&&c.isWritable),s=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:s.length};{Ve(t.length>0,"Expected at least one writable signer key");const[c]=t[0];Ve(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new ne(c)),...n.map(([c])=>new ne(c)),...i.map(([c])=>new ne(c)),...s.map(([c])=>new ne(c))];return[o,a]}extractTableLookup(e){const[t,n]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:i},{writable:n,readonly:s}]}drainKeysFoundInLookupTable(e,t){const n=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(t(o)){const a=new ne(s),c=e.findIndex(f=>f.equals(a));c>=0&&(Ve(c<256,"Max lookup table index exceeded"),n.push(c),i.push(a),this.keyMetaMap.delete(s))}return[n,i]}}class An{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new ne(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:mr.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new ra(this.staticAccountKeys)}static compile(e){const t=gf.compile(e.instructions,e.payerKey),[n,i]=t.getMessageComponents(),o=new ra(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:mr.encode(a.data)}));return new An({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const n=e-t,s=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return n<s}else{const n=t-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];Yr(t,e);const n=this.instructions.map(h=>{const{accounts:w,programIdIndex:b}=h,m=Array.from(mr.decode(h.data));let k=[];Yr(k,w.length);let S=[];return Yr(S,m.length),{programIdIndex:b,keyIndicesCount:ve.Buffer.from(k),keyIndices:w,dataLength:ve.Buffer.from(S),data:m}});let i=[];Yr(i,n.length);let s=ve.Buffer.alloc(ki);ve.Buffer.from(i).copy(s);let o=i.length;n.forEach(h=>{const b=he([We("programIdIndex"),ut(h.keyIndicesCount.length,"keyIndicesCount"),_r(We("keyIndex"),h.keyIndices.length,"keyIndices"),ut(h.dataLength.length,"dataLength"),_r(We("userdatum"),h.data.length,"data")]).encode(h,s,o);o+=b}),s=s.slice(0,o);const a=he([ut(1,"numRequiredSignatures"),ut(1,"numReadonlySignedAccounts"),ut(1,"numReadonlyUnsignedAccounts"),ut(t.length,"keyCount"),_r(Ue("key"),e,"keys"),Ue("recentBlockhash")]),c={numRequiredSignatures:ve.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:ve.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:ve.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:ve.Buffer.from(t),keys:this.accountKeys.map(h=>Oe(h.toBytes())),recentBlockhash:mr.decode(this.recentBlockhash)};let f=ve.Buffer.alloc(2048);const l=a.encode(c,f);return s.copy(f,l),f.slice(0,l+s.length)}static from(e){let t=[...e];const n=t.shift();if(n!==(n&xf))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=t.shift(),s=t.shift(),o=Ur(t);let a=[];for(let w=0;w<o;w++){const b=t.slice(0,Zr);t=t.slice(Zr),a.push(new ne(ve.Buffer.from(b)))}const c=t.slice(0,Zr);t=t.slice(Zr);const f=Ur(t);let l=[];for(let w=0;w<f;w++){const b=t.shift(),m=Ur(t),k=t.slice(0,m);t=t.slice(m);const S=Ur(t),A=t.slice(0,S),O=mr.encode(ve.Buffer.from(A));t=t.slice(S),l.push({programIdIndex:b,accounts:k,data:O})}const h={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:mr.encode(ve.Buffer.from(c)),accountKeys:a,instructions:l};return new An(h)}}class Qi{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new ra(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){const i=e-n,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-t,o=n-t-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=t-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const n of this.addressTableLookups){const i=e.find(s=>s.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const s of n.writableIndexes)if(s<i.state.addresses.length)t.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`);for(const s of n.readonlyIndexes)if(s<i.state.addresses.length)t.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`)}return t}static compile(e){const t=gf.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const l of s){const h=t.extractTableLookup(l);if(h!==void 0){const[w,{writable:b,readonly:m}]=h;n.push(w),i.writable.push(...b),i.readonly.push(...m)}}const[o,a]=t.getMessageComponents(),f=new ra(a,i).compileInstructions(e.instructions);return new Qi({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:f,addressTableLookups:n})}serialize(){const e=Array();Yr(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),n=Array();Yr(n,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();Yr(s,this.addressTableLookups.length);const o=he([We("prefix"),he([We("numRequiredSignatures"),We("numReadonlySignedAccounts"),We("numReadonlyUnsignedAccounts")],"header"),ut(e.length,"staticAccountKeysLength"),_r(Ue(),this.staticAccountKeys.length,"staticAccountKeys"),Ue("recentBlockhash"),ut(n.length,"instructionsLength"),ut(t.length,"serializedInstructions"),ut(s.length,"addressTableLookupsLength"),ut(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(ki),c=1<<7,f=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:mr.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,f)}serializeInstructions(){let e=0;const t=new Uint8Array(ki);for(const n of this.compiledInstructions){const i=Array();Yr(i,n.accountKeyIndexes.length);const s=Array();Yr(s,n.data.length);const o=he([We("programIdIndex"),ut(i.length,"encodedAccountKeyIndexesLength"),_r(We(),n.accountKeyIndexes.length,"accountKeyIndexes"),ut(s.length,"encodedDataLength"),ut(n.data.length,"data")]);e+=o.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:n.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(ki);for(const n of this.addressTableLookups){const i=Array();Yr(i,n.writableIndexes.length);const s=Array();Yr(s,n.readonlyIndexes.length);const o=he([Ue("accountKey"),ut(i.length,"encodedWritableIndexesLength"),_r(We(),n.writableIndexes.length,"writableIndexes"),ut(s.length,"encodedReadonlyIndexesLength"),_r(We(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:n.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const n=t.shift(),i=n&xf;Ve(n!==i,"Expected versioned message but received legacy message");const s=i;Ve(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:t.shift(),numReadonlySignedAccounts:t.shift(),numReadonlyUnsignedAccounts:t.shift()},a=[],c=Ur(t);for(let m=0;m<c;m++)a.push(new ne(t.splice(0,Zr)));const f=mr.encode(t.splice(0,Zr)),l=Ur(t),h=[];for(let m=0;m<l;m++){const k=t.shift(),S=Ur(t),A=t.splice(0,S),O=Ur(t),R=new Uint8Array(t.splice(0,O));h.push({programIdIndex:k,accountKeyIndexes:A,data:R})}const w=Ur(t),b=[];for(let m=0;m<w;m++){const k=new ne(t.splice(0,Zr)),S=Ur(t),A=t.splice(0,S),O=Ur(t),R=t.splice(0,O);b.push({accountKey:k,writableIndexes:A,readonlyIndexes:R})}return new Qi({header:o,staticAccountKeys:a,recentBlockhash:f,compiledInstructions:h,addressTableLookups:b})}}const h0={deserializeMessageVersion(r){const e=r[0],t=e&xf;return t===e?"legacy":t},deserialize:r=>{const e=h0.deserializeMessageVersion(r);if(e==="legacy")return An.from(r);if(e===0)return Qi.deserialize(r);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let bn;(function(r){r[r.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",r[r.PROCESSED=1]="PROCESSED",r[r.TIMED_OUT=2]="TIMED_OUT",r[r.NONCE_INVALID=3]="NONCE_INVALID"})(bn||(bn={}));const I3=ve.Buffer.alloc(uo).fill(0);class nt{constructor(e){this.keys=void 0,this.programId=void 0,this.data=ve.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:n})=>({pubkey:e.toJSON(),isSigner:t,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class Xe{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:n}=e;this.minNonceContextSlot=t,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:n}=e;this.recentBlockhash=t,this.lastValidBlockHeight=n}else{const{recentBlockhash:t,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new nt(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let k=0;k<t.length;k++)if(t[k].programId===void 0)throw new Error(`Transaction instruction index ${k} has undefined program id`);const i=[],s=[];t.forEach(k=>{k.keys.forEach(A=>{s.push({...A})});const S=k.programId.toString();i.includes(S)||i.push(S)}),i.forEach(k=>{s.push({pubkey:new ne(k),isSigner:!1,isWritable:!1})});const o=[];s.forEach(k=>{const S=k.pubkey.toString(),A=o.findIndex(O=>O.pubkey.toString()===S);A>-1?(o[A].isWritable=o[A].isWritable||k.isWritable,o[A].isSigner=o[A].isSigner||k.isSigner):o.push(k)}),o.sort(function(k,S){return k.isSigner!==S.isSigner?k.isSigner?-1:1:k.isWritable!==S.isWritable?k.isWritable?-1:1:k.pubkey.toBase58().localeCompare(S.pubkey.toBase58())});const a=o.findIndex(k=>k.pubkey.equals(n));if(a>-1){const[k]=o.splice(a,1);k.isSigner=!0,k.isWritable=!0,o.unshift(k)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const k of this.signatures){const S=o.findIndex(A=>A.pubkey.equals(k.publicKey));if(S>-1)o[S].isSigner||(o[S].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${k.publicKey.toString()}`)}let c=0,f=0,l=0;const h=[],w=[];o.forEach(({pubkey:k,isSigner:S,isWritable:A})=>{S?(h.push(k.toString()),c+=1,A||(f+=1)):(w.push(k.toString()),A||(l+=1))});const b=h.concat(w),m=t.map(k=>{const{data:S,programId:A}=k;return{programIdIndex:b.indexOf(A.toString()),accounts:k.keys.map(O=>b.indexOf(O.pubkey.toString())),data:mr.encode(S)}});return m.forEach(k=>{Ve(k.programIdIndex>=0),k.accounts.forEach(S=>Ve(S>=0))}),new An({header:{numRequiredSignatures:c,numReadonlySignedAccounts:f,numReadonlyUnsignedAccounts:l},accountKeys:b,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((i,s)=>t[s].equals(i.publicKey))||(this.signatures=t.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(n=>{const i=n.toString();return t.has(i)?!1:(t.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,n=[];for(const s of e){const o=s.publicKey.toString();t.has(o)||(t.add(o),n.push(s))}this.signatures=n.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,n=[];for(const s of e){const o=s.publicKey.toString();t.has(o)||(t.add(o),n.push(s))}const i=this._compile();this._partialSign(i,...n)}_partialSign(e,...t){const n=e.serialize();t.forEach(i=>{const s=f0(n,i.secretKey);this._addSignature(i.publicKey,Oe(s))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Ve(t.length===64);const n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=ve.Buffer.from(t)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,t){for(const{signature:n,publicKey:i}of this.signatures)if(n===null){if(t)return!1}else if(!b3(n,e,i.toBytes()))return!1;return!0}serialize(e){const{requireAllSignatures:t,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n&&!this._verifySignatures(i,t))throw new Error("Signature verification failed");return this._serialize(i)}_serialize(e){const{signatures:t}=this,n=[];Yr(n,t.length);const i=n.length+t.length*64+e.length,s=ve.Buffer.alloc(i);return Ve(t.length<256),ve.Buffer.from(n).copy(s,0),t.forEach(({signature:o},a)=>{o!==null&&(Ve(o.length===64,"signature has invalid length"),ve.Buffer.from(o).copy(s,n.length+a*64))}),e.copy(s,n.length+t.length*64),Ve(s.length<=ki,`Transaction too large: ${s.length} > ${ki}`),s}get keys(){return Ve(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Ve(this.instructions.length===1),this.instructions[0].programId}get data(){return Ve(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const n=Ur(t);let i=[];for(let s=0;s<n;s++){const o=t.slice(0,uo);t=t.slice(uo),i.push(mr.encode(ve.Buffer.from(o)))}return Xe.populate(An.from(t),i)}static populate(e,t=[]){const n=new Xe;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),t.forEach((i,s)=>{const o={signature:i==mr.encode(I3)?null:mr.decode(i),publicKey:e.accountKeys[s]};n.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:n.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});n.instructions.push(new nt({keys:s,programId:e.accountKeys[i.programIdIndex],data:mr.decode(i.data)}))}),n._message=e,n._json=n.toJSON(),n}}class p0{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:n,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=n,f=o-a;Ve(f>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;Ve(l>=0,"Message header is invalid");const h=e.getAccountKeys(t),w=h.get(0);if(w===void 0)throw new Error("Failed to decompile message because no account keys were found");const b=[];for(const m of i){const k=[];for(const A of m.accountKeyIndexes){const O=h.get(A);if(O===void 0)throw new Error(`Failed to find key for account key index ${A}`);const R=A<o;let B;R?B=A<f:A<h.staticAccountKeys.length?B=A-o<l:B=A-h.staticAccountKeys.length<h.accountKeysFromLookups.writable.length,k.push({pubkey:O,isSigner:A<n.numRequiredSignatures,isWritable:B})}const S=h.get(m.programIdIndex);if(S===void 0)throw new Error(`Failed to find program id for program id index ${m.programIdIndex}`);b.push(new nt({programId:S,data:Oe(m.data),keys:k}))}return new p0({payerKey:w,instructions:b,recentBlockhash:s})}compileToLegacyMessage(){return An.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return Qi.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class x0{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)Ve(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(uo));this.signatures=n}this.message=e}serialize(){const e=this.message.serialize(),t=Array();Yr(t,this.signatures.length);const n=he([ut(t.length,"encodedSignaturesLength"),_r(_3(),this.signatures.length,"signatures"),ut(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=n.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let t=[...e];const n=[],i=Ur(t);for(let o=0;o<i;o++)n.push(new Uint8Array(t.splice(0,uo)));const s=h0.deserialize(new Uint8Array(t));return new x0(s,n)}sign(e){const t=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const s=n.findIndex(o=>o.equals(i.publicKey));Ve(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=f0(t,i.secretKey)}}addSignature(e,t){Ve(t.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));Ve(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=t}}const Bn=new ne("SysvarC1ock11111111111111111111111111111111"),R3=new ne("SysvarEpochSchedu1e111111111111111111111111"),T3=new ne("Sysvar1nstructions1111111111111111111111111"),Za=new ne("SysvarRecentB1ockHashes11111111111111111111"),lo=new ne("SysvarRent111111111111111111111111111111111"),N3=new ne("SysvarRewards111111111111111111111111111111"),P3=new ne("SysvarS1otHashes111111111111111111111111111"),B3=new ne("SysvarS1otHistory11111111111111111111111111"),Xa=new ne("SysvarStakeHistory1111111111111111111111111");async function Qa(r,e,t,n){const i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},s=await r.sendTransaction(e,t,i);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await r.confirmTransaction({abortSignal:n==null?void 0:n.abortSignal,signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await r.confirmTransaction({abortSignal:n==null?void 0:n.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:s},n&&n.commitment)).value}else(n==null?void 0:n.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await r.confirmTransaction(s,n&&n.commitment)).value;if(o.err)throw new Error(`Transaction ${s} failed (${JSON.stringify(o)})`);return s}function Di(r){return new Promise(e=>setTimeout(e,r))}function ze(r,e){const t=r.layout.span>=0?r.layout.span:Kg(r,e),n=ve.Buffer.alloc(t),i=Object.assign({instruction:r.index},e);return r.layout.encode(i,n),n}function Ze(r,e){let t;try{t=r.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(t.instruction!==r.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${r.index}`);return t}const Wg=pr("lamportsPerSignature"),Hg=he([de("version"),de("state"),Ue("authorizedPubkey"),Ue("nonce"),he([Wg],"feeCalculator")]),ul=Hg.span;class bf{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=Hg.decode(Oe(e),0);return new bf({authorizedPubkey:new ne(t.authorizedPubkey),nonce:new ne(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const O3=r=>{const e=r.decode.bind(r),t=r.encode.bind(r);return{decode:e,encode:t}},C3=r=>e=>{const t=ut(r,e),{encode:n,decode:i}=O3(t),s=t;return s.decode=(o,a)=>{const c=i(o,a);return fv(ve.Buffer.from(c))},s.encode=(o,a,c)=>{const f=kg(o,r);return n(f,a,c)},s},ho=C3(8);class M3{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=de("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(st))if(o.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:n,programId:i}=Ze(st.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:n,programId:new ne(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=Ze(st.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:n,programId:i}=Ze(st.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:n,programId:new ne(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=Ze(st.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:n,space:i,programId:s}=Ze(st.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ne(t),seed:n,space:i,programId:new ne(s)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=Ze(st.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new ne(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:n,programId:i}=Ze(st.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ne(t),seed:n,programId:new ne(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:n,lamports:i,space:s,programId:o}=Ze(st.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new ne(t),seed:n,lamports:i,space:s,programId:new ne(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=Ze(st.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new ne(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Ze(st.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Ze(st.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=Ze(st.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new ne(t)}}static checkProgramId(e){if(!e.equals(kr.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const st=Object.freeze({Create:{index:0,layout:he([de("instruction"),jr("lamports"),jr("space"),Ue("programId")])},Assign:{index:1,layout:he([de("instruction"),Ue("programId")])},Transfer:{index:2,layout:he([de("instruction"),ho("lamports")])},CreateWithSeed:{index:3,layout:he([de("instruction"),Ue("base"),zi("seed"),jr("lamports"),jr("space"),Ue("programId")])},AdvanceNonceAccount:{index:4,layout:he([de("instruction")])},WithdrawNonceAccount:{index:5,layout:he([de("instruction"),jr("lamports")])},InitializeNonceAccount:{index:6,layout:he([de("instruction"),Ue("authorized")])},AuthorizeNonceAccount:{index:7,layout:he([de("instruction"),Ue("authorized")])},Allocate:{index:8,layout:he([de("instruction"),jr("space")])},AllocateWithSeed:{index:9,layout:he([de("instruction"),Ue("base"),zi("seed"),jr("space"),Ue("programId")])},AssignWithSeed:{index:10,layout:he([de("instruction"),Ue("base"),zi("seed"),Ue("programId")])},TransferWithSeed:{index:11,layout:he([de("instruction"),ho("lamports"),zi("seed"),Ue("programId")])},UpgradeNonceAccount:{index:12,layout:he([de("instruction")])}});class kr{constructor(){}static createAccount(e){const t=st.Create,n=ze(t,{lamports:e.lamports,space:e.space,programId:Oe(e.programId.toBuffer())});return new nt({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let t,n;if("basePubkey"in e){const i=st.TransferWithSeed;t=ze(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Oe(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=st.Transfer;t=ze(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new nt({keys:n,programId:this.programId,data:t})}static assign(e){let t,n;if("basePubkey"in e){const i=st.AssignWithSeed;t=ze(i,{base:Oe(e.basePubkey.toBuffer()),seed:e.seed,programId:Oe(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=st.Assign;t=ze(i,{programId:Oe(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new nt({keys:n,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=st.CreateWithSeed,n=ze(t,{base:Oe(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Oe(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new nt({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){const t=new Xe;"basePubkey"in e&&"seed"in e?t.add(kr.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:ul,programId:this.programId})):t.add(kr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:ul,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(n)),t}static nonceInitialize(e){const t=st.InitializeNonceAccount,n=ze(t,{authorized:Oe(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Za,isSigner:!1,isWritable:!1},{pubkey:lo,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new nt(i)}static nonceAdvance(e){const t=st.AdvanceNonceAccount,n=ze(t),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Za,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new nt(i)}static nonceWithdraw(e){const t=st.WithdrawNonceAccount,n=ze(t,{lamports:e.lamports});return new nt({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Za,isSigner:!1,isWritable:!1},{pubkey:lo,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){const t=st.AuthorizeNonceAccount,n=ze(t,{authorized:Oe(e.newAuthorizedPubkey.toBuffer())});return new nt({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let t,n;if("basePubkey"in e){const i=st.AllocateWithSeed;t=ze(i,{base:Oe(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Oe(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=st.Allocate;t=ze(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new nt({keys:n,programId:this.programId,data:t})}}kr.programId=new ne("11111111111111111111111111111111");const U3=ki-300;class es{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/es.chunkSize)+1+1)}static async load(e,t,n,i,s){{const h=await e.getMinimumBalanceForRentExemption(s.length),w=await e.getAccountInfo(n.publicKey,"confirmed");let b=null;if(w!==null){if(w.executable)return console.error("Program load failed, account is already executable"),!1;w.data.length!==s.length&&(b=b||new Xe,b.add(kr.allocate({accountPubkey:n.publicKey,space:s.length}))),w.owner.equals(i)||(b=b||new Xe,b.add(kr.assign({accountPubkey:n.publicKey,programId:i}))),w.lamports<h&&(b=b||new Xe,b.add(kr.transfer({fromPubkey:t.publicKey,toPubkey:n.publicKey,lamports:h-w.lamports})))}else b=new Xe().add(kr.createAccount({fromPubkey:t.publicKey,newAccountPubkey:n.publicKey,lamports:h>0?h:1,space:s.length,programId:i}));b!==null&&await Qa(e,b,[t,n],{commitment:"confirmed"})}const o=he([de("instruction"),de("offset"),de("bytesLength"),de("bytesLengthPadding"),_r(We("byte"),vi(de(),-8),"bytes")]),a=es.chunkSize;let c=0,f=s,l=[];for(;f.length>0;){const h=f.slice(0,a),w=ve.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:h,bytesLength:0,bytesLengthPadding:0},w);const b=new Xe().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:w});l.push(Qa(e,b,[t,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await Di(1e3/4),c+=a,f=f.slice(a)}await Promise.all(l);{const h=he([de("instruction")]),w=ve.Buffer.alloc(h.span);h.encode({instruction:1},w);const b=new Xe().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:lo,isSigner:!1,isWritable:!1}],programId:i,data:w});await Qa(e,b,[t,n],{commitment:"confirmed"})}return!0}}es.chunkSize=U3;const L3=new ne("BPFLoader2111111111111111111111111111111111");class F3{static getMinNumSignatures(e){return es.getMinNumSignatures(e)}static load(e,t,n,i,s){return es.load(e,t,n,s,i)}}var D3=Object.prototype.toString,$3=Object.keys||function(r){var e=[];for(var t in r)e.push(t);return e};function Oo(r,e){var t,n,i,s,o,a,c;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return Oo(r.toJSON(),e);if(c=D3.call(r),c==="[object Array]"){for(i="[",n=r.length-1,t=0;t<n;t++)i+=Oo(r[t],!0)+",";return n>-1&&(i+=Oo(r[t],!0)),i+"]"}else if(c==="[object Object]"){for(s=$3(r).sort(),n=s.length,i="",t=0;t<n;)o=s[t],a=Oo(r[o],!1),a!==void 0&&(i&&(i+=","),i+=JSON.stringify(o)+":"+a),t++;return"{"+i+"}"}else return JSON.stringify(r);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}var z3=function(r){var e=Oo(r,!1);if(e!==void 0)return""+e},fh=z3;const To=32;function _u(r){let e=0;for(;r>1;)r/=2,e++;return e}function K3(r){return r===0?1:(r--,r|=r>>1,r|=r>>2,r|=r>>4,r|=r>>8,r|=r>>16,r|=r>>32,r+1)}class Gg{constructor(e,t,n,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=_u(K3(e+To+1))-_u(To)-1,n=this.getSlotsInEpoch(t),i=e-(n-To);return[t,i]}else{const t=e-this.firstNormalSlot,n=Math.floor(t/this.slotsPerEpoch),i=this.firstNormalEpoch+n,s=t%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*To:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+_u(To)):this.slotsPerEpoch}}class ll extends Error{constructor(e,t){super(e),this.logs=void 0,this.logs=t}}const W3={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class xe extends Error{constructor({code:e,message:t,data:n},i){super(i!=null?`${i}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}}var H3=globalThis.fetch;class G3 extends p3{constructor(e,t,n){const i=s=>{const o=x3(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(i,e,t,n),this.underlyingSocket=void 0}call(...e){var n;const t=(n=this.underlyingSocket)==null?void 0:n.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var n;const t=(n=this.underlyingSocket)==null?void 0:n.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}const q3=160,V3=64,j3=q3/V3,Y3=1e3/j3;function J3(r,e){let t;try{t=r.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(t.typeIndex!==r.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${r.index}`);return t}const uh=56;class dl{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=J3(Z3,e),n=e.length-uh;Ve(n>=0,"lookup table is invalid"),Ve(n%32===0,"lookup table is invalid");const i=n/32,{addresses:s}=he([_r(Ue(),i,"addresses")]).decode(e.slice(uh));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new ne(t.authority[0]):void 0,addresses:s.map(o=>new ne(o))}}}const Z3={index:1,layout:he([de("typeIndex"),ho("deactivationSlot"),pr("lastExtendedSlot"),We("lastExtendedStartIndex"),We(),_r(Ue(),vi(We(),-1),"authority")])},X3=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function Q3(r){const e=r.match(X3);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${r}\``);const[t,n,i,s]=e,o=r.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${n}${c}${s}`}const Qt=wa(a0(ne),ie(),r=>new ne(r)),qg=c0([ie(),mt("base64")]),g0=wa(a0(ve.Buffer),qg,r=>ve.Buffer.from(r[0],"base64")),Vg=30*1e3;function e6(r){if(/^https?:/.test(r)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return r}function yt(r){let e,t;if(typeof r=="string")e=r;else if(r){const{commitment:n,...i}=r;e=n,t=i}return{commitment:e,config:t}}function jg(r){return zr([Q({jsonrpc:mt("2.0"),id:ie(),result:r}),Q({jsonrpc:mt("2.0"),id:ie(),error:Q({code:ma(),message:ie(),data:ke(yv())})})])}const t6=jg(ma());function Be(r){return wa(jg(r),t6,e=>"error"in e?e:{...e,result:se(e.result,r)})}function Xt(r){return Be(Q({context:Q({slot:G()}),value:r}))}function yf(r){return Q({context:Q({slot:G()}),value:r})}function ku(r,e){return r===0?new Qi({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new ne(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:mr.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new An(e)}const r6=Q({foundation:G(),foundationTerm:G(),initial:G(),taper:G(),terminal:G()}),n6=Be(ce(fe(Q({epoch:G(),effectiveSlot:G(),amount:G(),postBalance:G(),commission:ke(fe(G()))})))),i6=ce(Q({slot:G(),prioritizationFee:G()})),s6=Q({total:G(),validator:G(),foundation:G(),epoch:G()}),o6=Q({epoch:G(),slotIndex:G(),slotsInEpoch:G(),absoluteSlot:G(),blockHeight:ke(G()),transactionCount:ke(G())}),a6=Q({slotsPerEpoch:G(),leaderScheduleSlotOffset:G(),warmup:ni(),firstNormalEpoch:G(),firstNormalSlot:G()}),c6=Ag(ie(),ce(G())),is=fe(zr([Q({}),ie()])),f6=Q({err:is}),u6=mt("receivedSignature"),l6=Q({"solana-core":ie(),"feature-set":ke(G())}),lh=Xt(Q({err:fe(zr([Q({}),ie()])),logs:fe(ce(ie())),accounts:ke(fe(ce(fe(Q({executable:ni(),owner:ie(),lamports:G(),data:ce(ie()),rentEpoch:ke(G())}))))),unitsConsumed:ke(G()),returnData:ke(fe(Q({programId:ie(),data:c0([ie(),mt("base64")])})))})),d6=Xt(Q({byIdentity:Ag(ie(),ce(G())),range:Q({firstSlot:G(),lastSlot:G()})}));function h6(r,e,t,n,i,s){const o=t||H3;let a;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return n&&(c=async(l,h)=>{const w=await new Promise((b,m)=>{try{n(l,h,(k,S)=>b([k,S]))}catch(k){m(k)}});return await o(...w)}),new qv(async(l,h)=>{const w={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},h8)};try{let b=5,m,k=500;for(;c?m=await c(r,w):m=await o(r,w),!(m.status!==429||i===!0||(b-=1,b===0));)console.log(`Server responded with ${m.status} ${m.statusText}.  Retrying after ${k}ms delay...`),await Di(k),k*=2;const S=await m.text();m.ok?h(null,S):h(new Error(`${m.status} ${m.statusText}: ${S}`))}catch(b){b instanceof Error&&h(b)}},{})}function p6(r){return(e,t)=>new Promise((n,i)=>{r.request(e,t,(s,o)=>{if(s){i(s);return}n(o)})})}function x6(r){return e=>new Promise((t,n)=>{e.length===0&&t([]);const i=e.map(s=>r.request(s.methodName,s.args));r.request(i,(s,o)=>{if(s){n(s);return}t(o)})})}const g6=Be(r6),b6=Be(s6),y6=Be(i6),m6=Be(o6),w6=Be(a6),v6=Be(c6),_6=Be(G()),k6=Xt(Q({total:G(),circulating:G(),nonCirculating:G(),nonCirculatingAccounts:ce(Qt)})),hl=Q({amount:ie(),uiAmount:fe(G()),decimals:G(),uiAmountString:ke(ie())}),E6=Xt(ce(Q({address:Qt,amount:ie(),uiAmount:fe(G()),decimals:G(),uiAmountString:ke(ie())}))),S6=Xt(ce(Q({pubkey:Qt,account:Q({executable:ni(),owner:Qt,lamports:G(),data:g0,rentEpoch:G()})}))),pl=Q({program:ie(),parsed:ma(),space:G()}),A6=Xt(ce(Q({pubkey:Qt,account:Q({executable:ni(),owner:Qt,lamports:G(),data:pl,rentEpoch:G()})}))),I6=Xt(ce(Q({lamports:G(),address:Qt}))),na=Q({executable:ni(),owner:Qt,lamports:G(),data:g0,rentEpoch:G()}),R6=Q({pubkey:Qt,account:na}),T6=wa(zr([a0(ve.Buffer),pl]),zr([qg,pl]),r=>Array.isArray(r)?se(r,g0):r),xl=Q({executable:ni(),owner:Qt,lamports:G(),data:T6,rentEpoch:G()}),N6=Q({pubkey:Qt,account:xl}),P6=Q({state:zr([mt("active"),mt("inactive"),mt("activating"),mt("deactivating")]),active:G(),inactive:G()}),B6=Be(ce(Q({signature:ie(),slot:G(),err:is,memo:fe(ie()),blockTime:ke(fe(G()))}))),O6=Be(ce(Q({signature:ie(),slot:G(),err:is,memo:fe(ie()),blockTime:ke(fe(G()))}))),C6=Q({subscription:G(),result:yf(na)}),M6=Q({pubkey:Qt,account:na}),U6=Q({subscription:G(),result:yf(M6)}),L6=Q({parent:G(),slot:G(),root:G()}),F6=Q({subscription:G(),result:L6}),D6=zr([Q({type:zr([mt("firstShredReceived"),mt("completed"),mt("optimisticConfirmation"),mt("root")]),slot:G(),timestamp:G()}),Q({type:mt("createdBank"),parent:G(),slot:G(),timestamp:G()}),Q({type:mt("frozen"),slot:G(),timestamp:G(),stats:Q({numTransactionEntries:G(),numSuccessfulTransactions:G(),numFailedTransactions:G(),maxTransactionsPerEntry:G()})}),Q({type:mt("dead"),slot:G(),timestamp:G(),err:ie()})]),$6=Q({subscription:G(),result:D6}),z6=Q({subscription:G(),result:yf(zr([f6,u6]))}),K6=Q({subscription:G(),result:G()}),W6=Q({pubkey:ie(),gossip:fe(ie()),tpu:fe(ie()),rpc:fe(ie()),version:fe(ie())}),dh=Q({votePubkey:ie(),nodePubkey:ie(),activatedStake:G(),epochVoteAccount:ni(),epochCredits:ce(c0([G(),G(),G()])),commission:G(),lastVote:G(),rootSlot:fe(G())}),H6=Be(Q({current:ce(dh),delinquent:ce(dh)})),G6=zr([mt("processed"),mt("confirmed"),mt("finalized")]),q6=Q({slot:G(),confirmations:fe(G()),err:is,confirmationStatus:ke(G6)}),V6=Xt(ce(fe(q6))),j6=Be(G()),Yg=Q({accountKey:Qt,writableIndexes:ce(G()),readonlyIndexes:ce(G())}),b0=Q({signatures:ce(ie()),message:Q({accountKeys:ce(ie()),header:Q({numRequiredSignatures:G(),numReadonlySignedAccounts:G(),numReadonlyUnsignedAccounts:G()}),instructions:ce(Q({accounts:ce(G()),data:ie(),programIdIndex:G()})),recentBlockhash:ie(),addressTableLookups:ke(ce(Yg))})}),Jg=Q({pubkey:Qt,signer:ni(),writable:ni(),source:ke(zr([mt("transaction"),mt("lookupTable")]))}),Zg=Q({accountKeys:ce(Jg),signatures:ce(ie())}),Xg=Q({parsed:ma(),program:ie(),programId:Qt}),Qg=Q({accounts:ce(Qt),data:ie(),programId:Qt}),Y6=zr([Qg,Xg]),J6=zr([Q({parsed:ma(),program:ie(),programId:ie()}),Q({accounts:ce(ie()),data:ie(),programId:ie()})]),eb=wa(Y6,J6,r=>"accounts"in r?se(r,Qg):se(r,Xg)),tb=Q({signatures:ce(ie()),message:Q({accountKeys:ce(Jg),instructions:ce(eb),recentBlockhash:ie(),addressTableLookups:ke(fe(ce(Yg)))})}),Hc=Q({accountIndex:G(),mint:ie(),owner:ke(ie()),uiTokenAmount:hl}),rb=Q({writable:ce(Qt),readonly:ce(Qt)}),mf=Q({err:is,fee:G(),innerInstructions:ke(fe(ce(Q({index:G(),instructions:ce(Q({accounts:ce(G()),data:ie(),programIdIndex:G()}))})))),preBalances:ce(G()),postBalances:ce(G()),logMessages:ke(fe(ce(ie()))),preTokenBalances:ke(fe(ce(Hc))),postTokenBalances:ke(fe(ce(Hc))),loadedAddresses:ke(rb),computeUnitsConsumed:ke(G())}),y0=Q({err:is,fee:G(),innerInstructions:ke(fe(ce(Q({index:G(),instructions:ce(eb)})))),preBalances:ce(G()),postBalances:ce(G()),logMessages:ke(fe(ce(ie()))),preTokenBalances:ke(fe(ce(Hc))),postTokenBalances:ke(fe(ce(Hc))),loadedAddresses:ke(rb),computeUnitsConsumed:ke(G())}),vo=zr([mt(0),mt("legacy")]),ss=Q({pubkey:ie(),lamports:G(),postBalance:fe(G()),rewardType:fe(ie()),commission:ke(fe(G()))}),Z6=Be(fe(Q({blockhash:ie(),previousBlockhash:ie(),parentSlot:G(),transactions:ce(Q({transaction:b0,meta:fe(mf),version:ke(vo)})),rewards:ke(ce(ss)),blockTime:fe(G()),blockHeight:fe(G())}))),X6=Be(fe(Q({blockhash:ie(),previousBlockhash:ie(),parentSlot:G(),rewards:ke(ce(ss)),blockTime:fe(G()),blockHeight:fe(G())}))),Q6=Be(fe(Q({blockhash:ie(),previousBlockhash:ie(),parentSlot:G(),transactions:ce(Q({transaction:Zg,meta:fe(mf),version:ke(vo)})),rewards:ke(ce(ss)),blockTime:fe(G()),blockHeight:fe(G())}))),e8=Be(fe(Q({blockhash:ie(),previousBlockhash:ie(),parentSlot:G(),transactions:ce(Q({transaction:tb,meta:fe(y0),version:ke(vo)})),rewards:ke(ce(ss)),blockTime:fe(G()),blockHeight:fe(G())}))),t8=Be(fe(Q({blockhash:ie(),previousBlockhash:ie(),parentSlot:G(),transactions:ce(Q({transaction:Zg,meta:fe(y0),version:ke(vo)})),rewards:ke(ce(ss)),blockTime:fe(G()),blockHeight:fe(G())}))),r8=Be(fe(Q({blockhash:ie(),previousBlockhash:ie(),parentSlot:G(),rewards:ke(ce(ss)),blockTime:fe(G()),blockHeight:fe(G())}))),n8=Be(fe(Q({blockhash:ie(),previousBlockhash:ie(),parentSlot:G(),transactions:ce(Q({transaction:b0,meta:fe(mf)})),rewards:ke(ce(ss)),blockTime:fe(G())}))),hh=Be(fe(Q({blockhash:ie(),previousBlockhash:ie(),parentSlot:G(),signatures:ce(ie()),blockTime:fe(G())}))),Eu=Be(fe(Q({slot:G(),meta:mf,blockTime:ke(fe(G())),transaction:b0,version:ke(vo)}))),za=Be(fe(Q({slot:G(),transaction:tb,meta:fe(y0),blockTime:ke(fe(G())),version:ke(vo)}))),i8=Xt(Q({blockhash:ie(),feeCalculator:Q({lamportsPerSignature:G()})})),s8=Xt(Q({blockhash:ie(),lastValidBlockHeight:G()})),o8=Q({slot:G(),numTransactions:G(),numSlots:G(),samplePeriodSecs:G()}),a8=Be(ce(o8)),c8=Xt(fe(Q({feeCalculator:Q({lamportsPerSignature:G()})}))),f8=Be(ie()),u8=Be(ie()),l8=Q({err:is,logs:ce(ie()),signature:ie()}),d8=Q({result:yf(l8),subscription:G()}),h8={"solana-client":"js/0.0.0-development"};class nb{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const f={};return async l=>{const{commitment:h,config:w}=yt(l),b=this._buildArgs([],h,void 0,w),m=fh(b);return f[m]=f[m]??(async()=>{try{const k=await this._rpcRequest("getBlockHeight",b),S=se(k,Be(G()));if("error"in S)throw new xe(S.error,"failed to get block height information");return S.result}finally{delete f[m]}})(),await f[m]}})();let n,i,s,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,n=t.wsEndpoint,i=t.httpHeaders,s=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=e6(e),this._rpcWsEndpoint=n||Q3(e),this._rpcClient=h6(e,i,s,o,a,c),this._rpcRequest=p6(this._rpcClient),this._rpcBatchRequest=x6(this._rpcClient),this._rpcWebSocket=new G3(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:n,config:i}=yt(t),s=this._buildArgs([e.toBase58()],n,void 0,i),o=await this._rpcRequest("getBalance",s),a=se(o,Xt(G()));if("error"in a)throw new xe(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),n=se(t,Be(fe(G())));if("error"in n)throw new xe(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=se(e,Be(G()));if("error"in t)throw new xe(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=se(e,_6);if("error"in t)throw new xe(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const n=await this._rpcRequest("getSupply",[t]),i=se(n,k6);if("error"in i)throw new xe(i.error,"failed to get supply");return i.result}async getTokenSupply(e,t){const n=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenSupply",n),s=se(i,Xt(hl));if("error"in s)throw new xe(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,t){const n=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenAccountBalance",n),s=se(i,Xt(hl));if("error"in s)throw new xe(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,t,n){const{commitment:i,config:s}=yt(n);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,i,"base64",s),c=await this._rpcRequest("getTokenAccountsByOwner",a),f=se(c,S6);if("error"in f)throw new xe(f.error,`failed to get token accounts owned by account ${e.toBase58()}`);return f.result}async getParsedTokenAccountsByOwner(e,t,n){let i=[e.toBase58()];"mint"in t?i.push({mint:t.mint.toBase58()}):i.push({programId:t.programId.toBase58()});const s=this._buildArgs(i,n,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",s),a=se(o,A6);if("error"in a)throw new xe(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},n=t.filter||t.commitment?[t]:[],i=await this._rpcRequest("getLargestAccounts",n),s=se(i,I6);if("error"in s)throw new xe(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,t){const n=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenLargestAccounts",n),s=se(i,E6);if("error"in s)throw new xe(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,t){const{commitment:n,config:i}=yt(t),s=this._buildArgs([e.toBase58()],n,"base64",i),o=await this._rpcRequest("getAccountInfo",s),a=se(o,Xt(fe(na)));if("error"in a)throw new xe(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:n,config:i}=yt(t),s=this._buildArgs([e.toBase58()],n,"jsonParsed",i),o=await this._rpcRequest("getAccountInfo",s),a=se(o,Xt(fe(xl)));if("error"in a)throw new xe(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,t){const{commitment:n,config:i}=yt(t),s=e.map(f=>f.toBase58()),o=this._buildArgs([s],n,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",o),c=se(a,Xt(ce(fe(xl))));if("error"in c)throw new xe(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:n,config:i}=yt(t),s=e.map(f=>f.toBase58()),o=this._buildArgs([s],n,"base64",i),a=await this._rpcRequest("getMultipleAccounts",o),c=se(a,Xt(ce(fe(na))));if("error"in c)throw new xe(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,n){const{commitment:i,config:s}=yt(t),o=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:n??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=se(a,Be(P6));if("error"in c)throw new xe(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:n,config:i}=yt(t),{encoding:s,...o}=i||{},a=this._buildArgs([e.toBase58()],n,s||"base64",o),c=await this._rpcRequest("getProgramAccounts",a),f=se(c,Be(ce(R6)));if("error"in f)throw new xe(f.error,`failed to get accounts owned by program ${e.toBase58()}`);return f.result}async getParsedProgramAccounts(e,t){const{commitment:n,config:i}=yt(t),s=this._buildArgs([e.toBase58()],n,"jsonParsed",i),o=await this._rpcRequest("getProgramAccounts",s),a=se(o,Be(ce(N6)));if("error"in a)throw new xe(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var s;let n;if(typeof e=="string")n=e;else{const o=e;if((s=o.abortSignal)!=null&&s.aborted)return Promise.reject(o.abortSignal.reason);n=o.signature}let i;try{i=mr.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return Ve(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,n)=>{e!=null&&(e.aborted?n(e.reason):e.addEventListener("abort",()=>{n(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let n,i,s=!1;const o=new Promise((c,f)=>{try{n=this.onSignature(t,(h,w)=>{n=void 0;const b={context:w,value:h};c({__type:bn.PROCESSED,response:b})},e);const l=new Promise(h=>{n==null?h():i=this._onSubscriptionStateChange(n,w=>{w==="subscribed"&&h()})});(async()=>{if(await l,s)return;const h=await this.getSignatureStatus(t);if(s||h==null)return;const{context:w,value:b}=h;if(b!=null)if(b!=null&&b.err)f(b.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(b.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(b.confirmationStatus==="processed"||b.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,c({__type:bn.PROCESSED,response:{context:w,value:b}})}})()}catch(l){f(l)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:n,signature:i}}){let s=!1;const o=new Promise(h=>{const w=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let b=await w();if(!s){for(;b<=n;)if(await Di(1e3),s||(b=await w(),s))return;h({__type:bn.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),f=this.getCancellationPromise(t);let l;try{const h=await Promise.race([f,c,o]);if(h.__type===bn.PROCESSED)l=h.response;else throw new l0(i)}finally{s=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:n,nonceAccountPubkey:i,nonceValue:s,signature:o}}){let a=!1;const c=new Promise(b=>{let m=s,k=null;const S=async()=>{try{const{context:A,value:O}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:n});return k=A.slot,O==null?void 0:O.nonce}catch{return m}};(async()=>{if(m=await S(),!a)for(;;){if(s!==m){b({__type:bn.NONCE_INVALID,slotInWhichNonceDidAdvance:k});return}if(await Di(2e3),a||(m=await S(),a))return}})()}),{abortConfirmation:f,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),h=this.getCancellationPromise(t);let w;try{const b=await Promise.race([h,l,c]);if(b.__type===bn.PROCESSED)w=b.response;else{let m;for(;;){const k=await this.getSignatureStatus(o);if(k==null)break;if(k.context.slot<(b.slotInWhichNonceDidAdvance??n)){await Di(400);continue}m=k;break}if(m!=null&&m.value){const k=e||"finalized",{confirmationStatus:S}=m.value;switch(k){case"processed":case"recent":if(S!=="processed"&&S!=="confirmed"&&S!=="finalized")throw new ws(o);break;case"confirmed":case"single":case"singleGossip":if(S!=="confirmed"&&S!=="finalized")throw new ws(o);break;case"finalized":case"max":case"root":if(S!=="finalized")throw new ws(o);break;default:(A=>{})(k)}w={context:m.context,value:{err:m.value.err}}}else throw new ws(o)}}finally{a=!0,f()}return w}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let n;const i=new Promise(c=>{let f=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{f=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>c({__type:bn.TIMED_OUT,timeoutMs:f}),f)}),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,i]);if(c.__type===bn.PROCESSED)a=c.response;else throw new d0(t,c.timeoutMs/1e3)}finally{clearTimeout(n),s()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=se(e,Be(ce(W6)));if("error"in t)throw new xe(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",t),i=se(n,H6);if("error"in i)throw new xe(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:t,config:n}=yt(e),i=this._buildArgs([],t,void 0,n),s=await this._rpcRequest("getSlot",i),o=se(s,Be(G()));if("error"in o)throw new xe(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:n}=yt(e),i=this._buildArgs([],t,void 0,n),s=await this._rpcRequest("getSlotLeader",i),o=se(s,Be(ie()));if("error"in o)throw new xe(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const n=[e,t],i=await this._rpcRequest("getSlotLeaders",n),s=se(i,Be(ce(Qt)));if("error"in s)throw new xe(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,t){const{context:n,value:i}=await this.getSignatureStatuses([e],t);Ve(i.length===1);const s=i[0];return{context:n,value:s}}async getSignatureStatuses(e,t){const n=[e];t&&n.push(t);const i=await this._rpcRequest("getSignatureStatuses",n),s=se(i,V6);if("error"in s)throw new xe(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:t,config:n}=yt(e),i=this._buildArgs([],t,void 0,n),s=await this._rpcRequest("getTransactionCount",i),o=se(s,Be(G()));if("error"in o)throw new xe(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",t),i=se(n,g6);if("error"in i)throw new xe(i.error,"failed to get inflation");return i.result}async getInflationReward(e,t,n){const{commitment:i,config:s}=yt(n),o=this._buildArgs([e.map(f=>f.toBase58())],i,void 0,{...s,epoch:t??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=se(a,n6);if("error"in c)throw new xe(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=se(e,b6);if("error"in t)throw new xe(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:n}=yt(e),i=this._buildArgs([],t,void 0,n),s=await this._rpcRequest("getEpochInfo",i),o=se(s,m6);if("error"in o)throw new xe(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=se(e,w6);if("error"in t)throw new xe(t.error,"failed to get epoch schedule");const n=t.result;return new Gg(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=se(e,v6);if("error"in t)throw new xe(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const n=this._buildArgs([e],t),i=await this._rpcRequest("getMinimumBalanceForRentExemption",n),s=se(i,j6);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getRecentBlockhash",t),i=se(n,i8);if("error"in i)throw new xe(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=se(t,a8);if("error"in n)throw new xe(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,t){const n=this._buildArgs([e],t),i=await this._rpcRequest("getFeeCalculatorForBlockhash",n),s=se(i,c8);if("error"in s)throw new xe(s.error,"failed to get fee calculator");const{context:o,value:a}=s.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const n=Oe(e.serialize()).toString("base64"),i=this._buildArgs([n],t),s=await this._rpcRequest("getFeeForMessage",i),o=se(s,Xt(fe(G())));if("error"in o)throw new xe(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),n=this._buildArgs(t!=null&&t.length?[t]:[]),i=await this._rpcRequest("getRecentPrioritizationFees",n),s=se(i,y6);if("error"in s)throw new xe(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:n}=yt(e),i=this._buildArgs([],t,void 0,n),s=await this._rpcRequest("getLatestBlockhash",i),o=se(s,s8);if("error"in o)throw new xe(o.error,"failed to get latest blockhash");return o.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=se(e,Be(l6));if("error"in t)throw new xe(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=se(e,Be(ie()));if("error"in t)throw new xe(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:n,config:i}=yt(t),s=this._buildArgsAtLeastConfirmed([e],n,void 0,i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=se(o,Q6);if("error"in a)throw a.error;return a.result}case"none":{const a=se(o,X6);if("error"in a)throw a.error;return a.result}default:{const a=se(o,Z6);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:f,meta:l,version:h})=>({meta:l,transaction:{...f,message:ku(h,f.message)},version:h}))}:null}}}catch(a){throw new xe(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:n,config:i}=yt(t),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=se(o,t8);if("error"in a)throw a.error;return a.result}case"none":{const a=se(o,r8);if("error"in a)throw a.error;return a.result}default:{const a=se(o,e8);if("error"in a)throw a.error;return a.result}}}catch(a){throw new xe(a,"failed to get block")}}async getBlockProduction(e){let t,n;if(typeof e=="string")n=e;else if(e){const{commitment:a,...c}=e;n=a,t=c}const i=this._buildArgs([],n,"base64",t),s=await this._rpcRequest("getBlockProduction",i),o=se(s,d6);if("error"in o)throw new xe(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:n,config:i}=yt(t),s=this._buildArgsAtLeastConfirmed([e],n,void 0,i),o=await this._rpcRequest("getTransaction",s),a=se(o,Eu);if("error"in a)throw new xe(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:ku(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:n,config:i}=yt(t),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),o=await this._rpcRequest("getTransaction",s),a=se(o,za);if("error"in a)throw new xe(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:n,config:i}=yt(t),s=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(c=>{const f=se(c,za);if("error"in f)throw new xe(f.error,"failed to get transactions");return f.result})}async getTransactions(e,t){const{commitment:n,config:i}=yt(t),s=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,void 0,i)}));return(await this._rpcBatchRequest(s)).map(c=>{const f=se(c,Eu);if("error"in f)throw new xe(f.error,"failed to get transactions");const l=f.result;return l&&{...l,transaction:{...l.transaction,message:ku(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const n=this._buildArgsAtLeastConfirmed([e],t),i=await this._rpcRequest("getConfirmedBlock",n),s=se(i,n8);if("error"in s)throw new xe(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:f})=>{const l=new An(c.message);return{meta:f,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:f})=>({meta:f,transaction:Xe.populate(c.message,c.signatures)}))}}async getBlocks(e,t,n){const i=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],n),s=await this._rpcRequest("getBlocks",i),o=se(s,Be(ce(G())));if("error"in o)throw new xe(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),s=se(i,hh);if("error"in s)throw new xe(s.error,"failed to get block");const o=s.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",n),s=se(i,hh);if("error"in s)throw new xe(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t),i=await this._rpcRequest("getConfirmedTransaction",n),s=se(i,Eu);if("error"in s)throw new xe(s.error,"failed to get transaction");const o=s.result;if(!o)return o;const a=new An(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:Xe.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",n),s=se(i,za);if("error"in s)throw new xe(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,t){const n=e.map(o=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([o],t,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(o=>{const a=se(o,za);if("error"in a)throw new xe(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,n){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(t--,!(t<=0||t<s));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(i.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in i)&&(n++,!(n>o));)try{const c=await this.getConfirmedBlockSignatures(n);c.signatures.length>0&&(i.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,n){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),o=se(s,B6);if("error"in o)throw new xe(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,n){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),s=await this._rpcRequest("getSignaturesForAddress",i),o=se(s,O6);if("error"in o)throw new xe(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:n,value:i}=await this.getAccountInfoAndContext(e,t);let s=null;return i!==null&&(s=new dl({key:e,state:dl.deserialize(i.data)})),{context:n,value:s}}async getNonceAndContext(e,t){const{context:n,value:i}=await this.getAccountInfoAndContext(e,t);let s=null;return i!==null&&(s=bf.fromAccountData(i.data)),{context:n,value:s}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,t){const n=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),i=se(n,f8);if("error"in i)throw new xe(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Di(100);const n=Date.now()-this._blockhashInfo.lastFetch>=Vg;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,n=t?t.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(n!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await Di(Y3/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:n}=yt(e),i=this._buildArgs([],t,"base64",n),s=await this._rpcRequest("getStakeMinimumDelegation",i),o=se(s,Xt(G()));if("error"in o)throw new xe(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,n){if("message"in e){const k=e.serialize(),S=ve.Buffer.from(k).toString("base64");if(Array.isArray(t)||n!==void 0)throw new Error("Invalid arguments");const A=t||{};A.encoding="base64","commitment"in A||(A.commitment=this.commitment);const O=[S,A],R=await this._rpcRequest("simulateTransaction",O),B=se(R,lh);if("error"in B)throw new Error("failed to simulate transaction: "+B.error.message);return B.result}let i;if(e instanceof Xe){let m=e;i=new Xe,i.feePayer=m.feePayer,i.instructions=e.instructions,i.nonceInfo=m.nonceInfo,i.signatures=m.signatures}else i=Xe.populate(e),i._message=i._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(i.nonceInfo&&s)i.sign(...s);else{let m=this._disableBlockhashCaching;for(;;){const k=await this._blockhashWithExpiryBlockHeight(m);if(i.lastValidBlockHeight=k.lastValidBlockHeight,i.recentBlockhash=k.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const S=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(S)&&!this._blockhashInfo.transactionSignatures.includes(S)){this._blockhashInfo.simulatedSignatures.push(S);break}else m=!0}}const o=i._compile(),a=o.serialize(),f=i._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(n){const m=(Array.isArray(n)?n:o.nonProgramIds()).map(k=>k.toBase58());l.accounts={encoding:"base64",addresses:m}}s&&(l.sigVerify=!0);const h=[f,l],w=await this._rpcRequest("simulateTransaction",h),b=se(w,lh);if("error"in b){let m;if("data"in b.error&&(m=b.error.data.logs,m&&Array.isArray(m))){const k=`
    `,S=k+m.join(k);console.error(b.error.message,S)}throw new ll("failed to simulate transaction: "+b.error.message,m)}return b.result}async sendTransaction(e,t,n){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(e.nonceInfo)e.sign(...i);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const s=e.serialize();return await this.sendRawTransaction(s,n)}async sendRawTransaction(e,t){const n=Oe(e).toString("base64");return await this.sendEncodedTransaction(n,t)}async sendEncodedTransaction(e,t){const n={encoding:"base64"},i=t&&t.skipPreflight,s=t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(n.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(n.minContextSlot=t.minContextSlot),i&&(n.skipPreflight=i),s&&(n.preflightCommitment=s);const o=[e,n],a=await this._rpcRequest("sendTransaction",o),c=se(a,u8);if("error"in c){let f;throw"data"in c.error&&(f=c.error.data.logs),new ll("failed to send transaction: "+c.error.message,f)}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,n])=>{this._setSubscription(t,{...n,state:"pending"})})}_setSubscription(e,t){var i;const n=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=t,n!==t.state){const s=this._subscriptionStateChangeCallbacksByHash[e];s&&s.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){var n;const i=this._subscriptionHashByClientSubscriptionId[e];if(i==null)return()=>{};const s=(n=this._subscriptionStateChangeCallbacksByHash)[i]||(n[i]=new Set);return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[i]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{const i=this._subscriptionsByHash[n];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[n],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:o}=i;try{this._setSubscription(n,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(o,s);this._setSubscription(n,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${o} error for argument`,s,a.message),!t())return;this._setSubscription(n,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:o}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(n,{...i,state:"unsubscribing"}),this._setSubscription(n,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[s])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(n,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(i=>{try{i(...t)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){const{result:t,subscription:n}=se(e,C6);this._handleServerNotification(n,[t.value,t.context])}_makeSubscription(e,t){const n=this._nextClientSubscriptionId++,i=fh([e.method,t]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const o=this._subscriptionsByHash[i];Ve(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,t,n){const i=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64");return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:n}=se(e,U6);this._handleServerNotification(n,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,n,i){const s=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},s)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,n){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:n}=se(e,d8);this._handleServerNotification(n,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:n}=se(e,F6);this._handleServerNotification(n,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:n}=se(e,$6);this._handleServerNotification(n,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,n,i){const s=t||this._commitment;if(s||n||i){let o={};n&&(o.encoding=n),s&&(o.commitment=s),i&&(o=Object.assign(o,i)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,n,i){const s=t||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,n,i)}_wsOnSignatureNotification(e){const{result:t,subscription:n}=se(e,z6);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,n){const i=this._buildArgs([e],n||this._commitment||"finalized"),s=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,t,n){const{commitment:i,...s}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},o=this._buildArgs([e],i,void 0,s),a=this._makeSubscription({callback:(c,f)=>{t(c,f);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:n}=se(e,K6);this._handleServerNotification(n,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Ei{constructor(e){this._keypair=void 0,this._keypair=e??oh()}static generate(){return new Ei(oh())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const n=e.slice(32,64);if(!t||!t.skipValidation){const i=e.slice(0,32),s=Wc(i);for(let o=0;o<32;o++)if(n[o]!==s[o])throw new Error("provided secretKey is invalid")}return new Ei({publicKey:n,secretKey:e})}static fromSeed(e){const t=Wc(e),n=new Uint8Array(64);return n.set(e),n.set(t,32),new Ei({publicKey:t,secretKey:n})}get publicKey(){return new ne(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Qn=Object.freeze({CreateLookupTable:{index:0,layout:he([de("instruction"),ho("recentSlot"),We("bumpSeed")])},FreezeLookupTable:{index:1,layout:he([de("instruction")])},ExtendLookupTable:{index:2,layout:he([de("instruction"),ho(),_r(Ue(),vi(de(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:he([de("instruction")])},CloseLookupTable:{index:4,layout:he([de("instruction")])}});class p8{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=de("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Qn))if(o.index==n){i=s;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=Ze(Qn.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=Ze(Qn.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(n=>new ne(n))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(m0.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class m0{constructor(){}static createLookupTable(e){const[t,n]=ne.findProgramAddressSync([e.authority.toBuffer(),kg(BigInt(e.recentSlot),8)],this.programId),i=Qn.CreateLookupTable,s=ze(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:kr.programId,isSigner:!1,isWritable:!1}];return[new nt({programId:this.programId,keys:o,data:s}),t]}static freezeLookupTable(e){const t=Qn.FreezeLookupTable,n=ze(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new nt({programId:this.programId,keys:i,data:n})}static extendLookupTable(e){const t=Qn.ExtendLookupTable,n=ze(t,{addresses:e.addresses.map(s=>s.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:kr.programId,isSigner:!1,isWritable:!1}),new nt({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(e){const t=Qn.DeactivateLookupTable,n=ze(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new nt({programId:this.programId,keys:i,data:n})}static closeLookupTable(e){const t=Qn.CloseLookupTable,n=ze(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new nt({programId:this.programId,keys:i,data:n})}}m0.programId=new ne("AddressLookupTab1e1111111111111111111111111");class x8{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=We("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Mn))if(o.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:n}=Ze(Mn.RequestUnits,e.data);return{units:t,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=Ze(Mn.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=Ze(Mn.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=Ze(Mn.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(w0.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Mn=Object.freeze({RequestUnits:{index:0,layout:he([We("instruction"),de("units"),de("additionalFee")])},RequestHeapFrame:{index:1,layout:he([We("instruction"),de("bytes")])},SetComputeUnitLimit:{index:2,layout:he([We("instruction"),de("units")])},SetComputeUnitPrice:{index:3,layout:he([We("instruction"),ho("microLamports")])}});class w0{constructor(){}static requestUnits(e){const t=Mn.RequestUnits,n=ze(t,e);return new nt({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){const t=Mn.RequestHeapFrame,n=ze(t,e);return new nt({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){const t=Mn.SetComputeUnitLimit,n=ze(t,e);return new nt({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){const t=Mn.SetComputeUnitPrice,n=ze(t,{microLamports:BigInt(e.microLamports)});return new nt({keys:[],programId:this.programId,data:n})}}w0.programId=new ne("ComputeBudget111111111111111111111111111111");const ph=64,xh=32,gh=64,bh=he([We("numSignatures"),We("padding"),fn("signatureOffset"),fn("signatureInstructionIndex"),fn("publicKeyOffset"),fn("publicKeyInstructionIndex"),fn("messageDataOffset"),fn("messageDataSize"),fn("messageInstructionIndex")]);class wf{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:n,signature:i,instructionIndex:s}=e;Ve(t.length===xh,`Public Key must be ${xh} bytes but received ${t.length} bytes`),Ve(i.length===gh,`Signature must be ${gh} bytes but received ${i.length} bytes`);const o=bh.span,a=o+t.length,c=a+i.length,f=1,l=ve.Buffer.alloc(c+n.length),h=s??65535;return bh.encode({numSignatures:f,padding:0,signatureOffset:a,signatureInstructionIndex:h,publicKeyOffset:o,publicKeyInstructionIndex:h,messageDataOffset:c,messageDataSize:n.length,messageInstructionIndex:h},l),l.fill(t,o),l.fill(i,a),l.fill(n,c),new nt({keys:[],programId:wf.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:n,instructionIndex:i}=e;Ve(t.length===ph,`Private key must be ${ph} bytes but received ${t.length} bytes`);try{const s=Ei.fromSecretKey(t),o=s.publicKey.toBytes(),a=f0(n,s.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:n,signature:a,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}}wf.programId=new ne("Ed25519SigVerify111111111111111111111111111");Un.hmacSha256Sync=(r,...e)=>{const t=ef.create(Ri,r);return e.forEach(n=>t.update(n)),t.digest()};const g8=(r,e)=>S1(r,e,{der:!1,recovered:!0});Un.isValidPrivateKey;const b8=_1,yh=32,Su=20,mh=64,y8=11,Au=he([We("numSignatures"),fn("signatureOffset"),We("signatureInstructionIndex"),fn("ethAddressOffset"),We("ethAddressInstructionIndex"),fn("messageDataOffset"),fn("messageDataSize"),We("messageInstructionIndex"),ut(20,"ethAddress"),ut(64,"signature"),We("recoveryId")]);class Bs{constructor(){}static publicKeyToEthAddress(e){Ve(e.length===mh,`Public key must be ${mh} bytes but received ${e.length} bytes`);try{return ve.Buffer.from(el(Oe(e))).slice(-Su)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:n,signature:i,recoveryId:s,instructionIndex:o}=e;return Bs.createInstructionWithEthAddress({ethAddress:Bs.publicKeyToEthAddress(t),message:n,signature:i,recoveryId:s,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:n,signature:i,recoveryId:s,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=ve.Buffer.from(t.substr(2),"hex"):a=ve.Buffer.from(t,"hex"):a=t,Ve(a.length===Su,`Address must be ${Su} bytes but received ${a.length} bytes`);const c=1+y8,f=c,l=c+a.length,h=l+i.length+1,w=1,b=ve.Buffer.alloc(Au.span+n.length);return Au.encode({numSignatures:w,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:f,ethAddressInstructionIndex:o,messageDataOffset:h,messageDataSize:n.length,messageInstructionIndex:o,signature:Oe(i),ethAddress:Oe(a),recoveryId:s},b),b.fill(Oe(n),Au.span),new nt({keys:[],programId:Bs.programId,data:b})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:n,instructionIndex:i}=e;Ve(t.length===yh,`Private key must be ${yh} bytes but received ${t.length} bytes`);try{const s=Oe(t),o=b8(s,!1).slice(1),a=ve.Buffer.from(el(Oe(n))),[c,f]=g8(a,s);return this.createInstructionWithPublicKey({publicKey:o,message:n,signature:c,recoveryId:f,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}}Bs.programId=new ne("KeccakSecp256k11111111111111111111111111111");const ib=new ne("StakeConfig11111111111111111111111111111111");class sb{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class ia{constructor(e,t,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=n}}ia.default=new ia(0,0,ne.default);class m8{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=de("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(sr))if(o.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:n}=Ze(sr.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new sb(new ne(t.staker),new ne(t.withdrawer)),lockup:new ia(n.unixTimestamp,n.epoch,new ne(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),Ze(sr.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:n}=Ze(sr.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ne(t),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:n,authoritySeed:i,authorityOwner:s}=Ze(sr.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new ne(s),newAuthorizedPubkey:new ne(t),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Ze(sr.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Ze(sr.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Ze(sr.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Ze(sr.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(vf.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const sr=Object.freeze({Initialize:{index:0,layout:he([de("instruction"),k3(),E3()])},Authorize:{index:1,layout:he([de("instruction"),Ue("newAuthorized"),de("stakeAuthorizationType")])},Delegate:{index:2,layout:he([de("instruction")])},Split:{index:3,layout:he([de("instruction"),jr("lamports")])},Withdraw:{index:4,layout:he([de("instruction"),jr("lamports")])},Deactivate:{index:5,layout:he([de("instruction")])},Merge:{index:7,layout:he([de("instruction")])},AuthorizeWithSeed:{index:8,layout:he([de("instruction"),Ue("newAuthorized"),de("stakeAuthorizationType"),zi("authoritySeed"),Ue("authorityOwner")])}}),w8=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class vf{constructor(){}static initialize(e){const{stakePubkey:t,authorized:n,lockup:i}=e,s=i||ia.default,o=sr.Initialize,a=ze(o,{authorized:{staker:Oe(n.staker.toBuffer()),withdrawer:Oe(n.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:Oe(s.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:lo,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new nt(c)}static createAccountWithSeed(e){const t=new Xe;t.add(kr.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:i,lockup:s}=e;return t.add(this.initialize({stakePubkey:n,authorized:i,lockup:s}))}static createAccount(e){const t=new Xe;t.add(kr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:i,lockup:s}=e;return t.add(this.initialize({stakePubkey:n,authorized:i,lockup:s}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:n,votePubkey:i}=e,s=sr.Delegate,o=ze(s);return new Xe().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:Bn,isSigner:!1,isWritable:!1},{pubkey:Xa,isSigner:!1,isWritable:!1},{pubkey:ib,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:i,stakeAuthorizationType:s,custodianPubkey:o}=e,a=sr.Authorize,c=ze(a,{newAuthorized:Oe(i.toBuffer()),stakeAuthorizationType:s.index}),f=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Bn,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&f.push({pubkey:o,isSigner:!1,isWritable:!1}),new Xe().add({keys:f,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:n,authoritySeed:i,authorityOwner:s,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,f=sr.AuthorizeWithSeed,l=ze(f,{newAuthorized:Oe(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:Oe(s.toBuffer())}),h=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:Bn,isSigner:!1,isWritable:!1}];return c&&h.push({pubkey:c,isSigner:!1,isWritable:!1}),new Xe().add({keys:h,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:n,splitStakePubkey:i,lamports:s}=e,o=sr.Split,a=ze(o,{lamports:s});return new nt({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e){const t=new Xe;return t.add(kr.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),t.add(this.splitInstruction(e))}static splitWithSeed(e){const{stakePubkey:t,authorizedPubkey:n,splitStakePubkey:i,basePubkey:s,seed:o,lamports:a}=e,c=new Xe;return c.add(kr.allocate({accountPubkey:i,basePubkey:s,seed:o,space:this.space,programId:this.programId})),c.add(this.splitInstruction({stakePubkey:t,authorizedPubkey:n,splitStakePubkey:i,lamports:a}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:n,authorizedPubkey:i}=e,s=sr.Merge,o=ze(s);return new Xe().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Bn,isSigner:!1,isWritable:!1},{pubkey:Xa,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:n,toPubkey:i,lamports:s,custodianPubkey:o}=e,a=sr.Withdraw,c=ze(a,{lamports:s}),f=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Bn,isSigner:!1,isWritable:!1},{pubkey:Xa,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&f.push({pubkey:o,isSigner:!1,isWritable:!1}),new Xe().add({keys:f,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:n}=e,i=sr.Deactivate,s=ze(i);return new Xe().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Bn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}}vf.programId=new ne("Stake11111111111111111111111111111111111111");vf.space=200;class ob{constructor(e,t,n,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=n,this.commission=i}}class v8{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=de("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(ei))if(o.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=Ze(ei.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new ob(new ne(t.nodePubkey),new ne(t.authorizedVoter),new ne(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:n}=Ze(ei.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ne(t),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:n,newAuthorized:i,voteAuthorizationType:s}}=Ze(ei.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new ne(t),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new ne(i),voteAuthorizationType:{index:s},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Ze(ei.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(_o.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const ei=Object.freeze({InitializeAccount:{index:0,layout:he([de("instruction"),S3()])},Authorize:{index:1,layout:he([de("instruction"),Ue("newAuthorized"),de("voteAuthorizationType")])},Withdraw:{index:3,layout:he([de("instruction"),jr("lamports")])},AuthorizeWithSeed:{index:10,layout:he([de("instruction"),A3()])}}),_8=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class _o{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:n,voteInit:i}=e,s=ei.InitializeAccount,o=ze(s,{voteInit:{nodePubkey:Oe(i.nodePubkey.toBuffer()),authorizedVoter:Oe(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Oe(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:lo,isSigner:!1,isWritable:!1},{pubkey:Bn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new nt(a)}static createAccount(e){const t=new Xe;return t.add(kr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:i,voteAuthorizationType:s}=e,o=ei.Authorize,a=ze(o,{newAuthorized:Oe(i.toBuffer()),voteAuthorizationType:s.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Bn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Xe().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:s,voteAuthorizationType:o,votePubkey:a}=e,c=ei.AuthorizeWithSeed,f=ze(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Oe(n.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Oe(s.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Bn,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new Xe().add({keys:l,programId:this.programId,data:f})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:n,lamports:i,toPubkey:s}=e,o=ei.Withdraw,a=ze(o,{lamports:i}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new Xe().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,n){if(e.lamports>t-n)throw new Error("Withdraw will leave vote account with insuffcient funds.");return _o.withdraw(e)}}_o.programId=new ne("Vote111111111111111111111111111111111111111");_o.space=3731;const ab=new ne("Va1idator1nfo111111111111111111111111111111"),k8=Q({name:ie(),website:ke(ie()),details:ke(ie()),keybaseUsername:ke(ie())});class v0{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(Ur(t)!==2)return null;const i=[];for(let s=0;s<2;s++){const o=new ne(t.slice(0,Zr));t=t.slice(Zr);const a=t.slice(0,1)[0]===1;t=t.slice(1),i.push({publicKey:o,isSigner:a})}if(i[0].publicKey.equals(ab)&&i[1].isSigner){const s=zi().decode(ve.Buffer.from(t)),o=JSON.parse(s);return Eg(o,k8),new v0(i[1].publicKey,o)}return null}}const E8=new ne("Vote111111111111111111111111111111111111111"),S8=he([Ue("nodePubkey"),Ue("authorizedWithdrawer"),We("commission"),pr(),_r(he([pr("slot"),de("confirmationCount")]),vi(de(),-8),"votes"),We("rootSlotValid"),pr("rootSlot"),pr(),_r(he([pr("epoch"),Ue("authorizedVoter")]),vi(de(),-8),"authorizedVoters"),he([_r(he([Ue("authorizedPubkey"),pr("epochOfLastAuthorizedSwitch"),pr("targetEpoch")]),32,"buf"),pr("idx"),We("isEmpty")],"priorVoters"),pr(),_r(he([pr("epoch"),pr("credits"),pr("prevCredits")]),vi(de(),-8),"epochCredits"),he([pr("slot"),pr("timestamp")],"lastTimestamp")]);class _0{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const n=S8.decode(Oe(e),4);let i=n.rootSlot;return n.rootSlotValid||(i=null),new _0({nodePubkey:new ne(n.nodePubkey),authorizedWithdrawer:new ne(n.authorizedWithdrawer),commission:n.commission,votes:n.votes,rootSlot:i,authorizedVoters:n.authorizedVoters.map(A8),priorVoters:I8(n.priorVoters),epochCredits:n.epochCredits,lastTimestamp:n.lastTimestamp})}}function A8({authorizedVoter:r,epoch:e}){return{epoch:e,authorizedVoter:new ne(r)}}function wh({authorizedPubkey:r,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new ne(r),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function I8({buf:r,idx:e,isEmpty:t}){return t?[]:[...r.slice(e+1).map(wh),...r.slice(0,e).map(wh)]}const vh={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function R8(r,e){const t=e===!1?"http":"https";if(!r)return vh[t].devnet;const n=vh[t][r];if(!n)throw new Error(`Unknown ${t} cluster: ${r}`);return n}async function T8(r,e,t,n){let i,s;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(i=t,s=n):s=t;const o=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment,minContextSlot:s.minContextSlot},a=await r.sendRawTransaction(e,o),c=s&&s.commitment,l=(await(i?r.confirmTransaction(i,c):r.confirmTransaction(a,c))).value;if(l.err)throw new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const N8=1e9,P8=Object.freeze(Object.defineProperty({__proto__:null,Account:w3,AddressLookupTableAccount:dl,AddressLookupTableInstruction:p8,AddressLookupTableProgram:m0,Authorized:sb,BLOCKHASH_CACHE_TIMEOUT_MS:Vg,BPF_LOADER_DEPRECATED_PROGRAM_ID:v3,BPF_LOADER_PROGRAM_ID:L3,BpfLoader:F3,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Mn,ComputeBudgetInstruction:x8,ComputeBudgetProgram:w0,Connection:nb,Ed25519Program:wf,Enum:y3,EpochSchedule:Gg,FeeCalculatorLayout:Wg,Keypair:Ei,LAMPORTS_PER_SOL:N8,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Qn,Loader:es,Lockup:ia,MAX_SEED_LENGTH:zg,Message:An,MessageAccountKeys:ra,MessageV0:Qi,NONCE_ACCOUNT_LENGTH:ul,NonceAccount:bf,PACKET_DATA_SIZE:ki,PUBLIC_KEY_LENGTH:Zr,PublicKey:ne,SIGNATURE_LENGTH_IN_BYTES:uo,SOLANA_SCHEMA:zo,STAKE_CONFIG_ID:ib,STAKE_INSTRUCTION_LAYOUTS:sr,SYSTEM_INSTRUCTION_LAYOUTS:st,SYSVAR_CLOCK_PUBKEY:Bn,SYSVAR_EPOCH_SCHEDULE_PUBKEY:R3,SYSVAR_INSTRUCTIONS_PUBKEY:T3,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:Za,SYSVAR_RENT_PUBKEY:lo,SYSVAR_REWARDS_PUBKEY:N3,SYSVAR_SLOT_HASHES_PUBKEY:P3,SYSVAR_SLOT_HISTORY_PUBKEY:B3,SYSVAR_STAKE_HISTORY_PUBKEY:Xa,Secp256k1Program:Bs,SendTransactionError:ll,SolanaJSONRPCError:xe,SolanaJSONRPCErrorCode:W3,StakeAuthorizationLayout:w8,StakeInstruction:m8,StakeProgram:vf,Struct:u0,SystemInstruction:M3,SystemProgram:kr,Transaction:Xe,TransactionExpiredBlockheightExceededError:l0,TransactionExpiredNonceInvalidError:ws,TransactionExpiredTimeoutError:d0,TransactionInstruction:nt,TransactionMessage:p0,get TransactionStatus(){return bn},VALIDATOR_INFO_KEY:ab,VERSION_PREFIX_MASK:xf,VOTE_PROGRAM_ID:E8,ValidatorInfo:v0,VersionedMessage:h0,VersionedTransaction:x0,VoteAccount:_0,VoteAuthorizationLayout:_8,VoteInit:ob,VoteInstruction:v8,VoteProgram:_o,clusterApiUrl:R8,sendAndConfirmRawTransaction:T8,sendAndConfirmTransaction:Qa},Symbol.toStringTag,{value:"Module"}));function cb(r,e){if(console.log(r,e),e==="Ethereum")new(void 0).InfuraProvider("mainnet","b5f32cd516e94d3395a90e5ed9c59400").getBalance(r).then(n=>{const i=(void 0).formatEther(n);console.log(`balance: ${i} ETH`),fc.set(i)});else if(e==="Solana"){fc.set("0"),console.log("solana");const t=new nb("https://solana-mainnet.g.alchemy.com/v2/z6xl9s4lV7hVIrau-CNy5jtQLCg6hLm2"),n=new ne(r);t.getBalance(n).then(i=>{const s=i/1e9;Nx.set(s.toString()),console.log(`Balance of ${n.toBase58()}: ${i/10**9} SOL`)}).catch(i=>{console.error(i)})}}function _h(r,e,t){const n=r.slice();return n[12]=e[t],n}function kh(r){let e,t,n,i,s,o,a=r[12].walletName+"",c,f,l,h,w=r[12].address.slice(0,6)+"",b,m,k=r[12].address.slice(-4)+"",S,A,O,R;function B(){return r[5](r[12])}function N(){return r[6](r[12])}return{c(){e=H("button"),t=H("div"),n=H("img"),s=ee(),o=H("div"),c=Se(a),f=ee(),l=H("br"),h=ee(),b=Se(w),m=Se("..."),S=Se(k),A=ee(),Xr(n.src,i="../assets/"+r[12].chain+"-logo.svg")||F(n,"src",i),F(n,"alt","ethereum"),F(n,"width","30"),F(n,"height","30"),F(n,"class","svelte-1efozfa"),F(t,"class","connectedWalletsChainImage svelte-1efozfa"),F(l,"class","svelte-1efozfa"),F(o,"class","svelte-1efozfa"),F(e,"class","btn btn-primary walletButtons svelte-1efozfa")},m(L,$){ae(L,e,$),U(e,t),U(t,n),U(e,s),U(e,o),U(o,c),U(o,f),U(o,l),U(o,h),U(o,b),U(o,m),U(o,S),U(e,A),O||(R=[_e(e,"click",B),_e(e,"click",N),_e(e,"click",r[7]),_e(e,"click",r[8])],O=!0)},p(L,$){r=L,$&1&&!Xr(n.src,i="../assets/"+r[12].chain+"-logo.svg")&&F(n,"src",i),$&1&&a!==(a=r[12].walletName+"")&&xt(c,a),$&1&&w!==(w=r[12].address.slice(0,6)+"")&&xt(b,w),$&1&&k!==(k=r[12].address.slice(-4)+"")&&xt(S,k)},d(L){L&&oe(e),O=!1,nr(R)}}}function B8(r){let e,t,n,i,s,o,a,c,f,l,h,w,b,m,k,S,A,O,R=r[0],B=[];for(let N=0;N<R.length;N+=1)B[N]=kh(_h(r,R,N));return{c(){e=H("div"),t=H("div"),n=H("div"),n.textContent="Wallets",i=ee(),s=H("div"),o=H("button"),o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="svelte-1efozfa"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" class="svelte-1efozfa"></path></svg>',a=ee(),c=H("div"),f=H("button"),f.textContent="Clear Storage",l=ee();for(let N=0;N<B.length;N+=1)B[N].c();h=ee(),w=H("button"),w.textContent="Generate New Wallet",b=ee(),m=H("button"),m.textContent="Check Storage",F(n,"id","sliderHeader"),F(n,"class","svelte-1efozfa"),_t(o,"height","50px"),_t(o,"width","50px"),F(o,"class","btn btn-square btn-sm svelte-1efozfa"),_t(s,"height","50px"),F(s,"class","card-actions justify-start svelte-1efozfa"),F(t,"class","appHeader svelte-1efozfa"),F(f,"class","svelte-1efozfa"),F(c,"id","wallets"),F(c,"class","svelte-1efozfa"),F(w,"class","btn btn-secondary svelte-1efozfa"),F(m,"class","svelte-1efozfa"),F(e,"class","slideUpDiv svelte-1efozfa")},m(N,L){ae(N,e,L),U(e,t),U(t,n),U(t,i),U(t,s),U(s,o),U(e,a),U(e,c),U(c,f),U(c,l);for(let $=0;$<B.length;$+=1)B[$]&&B[$].m(c,null);U(e,h),U(e,w),U(e,b),U(e,m),S=!0,A||(O=[_e(o,"click",r[2]),_e(f,"click",r[3]),_e(f,"click",r[4]),_e(w,"click",r[9]),_e(w,"click",r[10]),_e(m,"click",r[11])],A=!0)},p(N,[L]){if(L&3){R=N[0];let $;for($=0;$<R.length;$+=1){const K=_h(N,R,$);B[$]?B[$].p(K,L):(B[$]=kh(K),B[$].c(),B[$].m(c,null))}for(;$<B.length;$+=1)B[$].d(1);B.length=R.length}},i(N){S||(Si(()=>{S&&(k||(k=Ai(e,Ii,{y:600,duration:200},!0)),k.run(1))}),S=!0)},o(N){k||(k=Ai(e,Ii,{y:600,duration:200},!1)),k.run(0),S=!1},d(N){N&&oe(e),Ln(B,N),N&&k&&k.end(),A=!1,nr(O)}}}function O8(r,e,t){let n,i;return tt(r,ln,k=>t(0,n=k)),tt(r,to,k=>t(1,i=k)),console.log(n),[n,i,()=>Ss.set(!1),()=>localStorage.clear(),()=>ln.set([]),k=>console.log(k),k=>to.set(k),()=>cb(i.address,i.chain),()=>Ss.set(!1),()=>Ss.set(!1),()=>cc.set(!0),()=>console.log(localStorage.wallets)]}class C8 extends lr{constructor(e){super(),ur(this,e,O8,B8,ir,{})}}let Eh=["Address Book","Import Wallet","General Settings","Security & Privacy","Connected Sites","Developer Settings","Lock Wallet"];function Sh(r){let e,t,n,i,s,o,a;return{c(){e=H("button"),t=H("img"),i=ee(),s=H("div"),o=Se("Ethereum: "),a=Se(r[2]),Xr(t.src,n="../assets/ethereum-logo.svg")||F(t,"src",n),F(t,"alt","ethereum"),F(t,"width","30"),F(t,"height","30"),F(t,"class","svelte-1u1oflt"),F(s,"class","svelte-1u1oflt"),F(e,"class","balanceButton svelte-1u1oflt")},m(c,f){ae(c,e,f),U(e,t),U(e,i),U(e,s),U(s,o),U(s,a)},p(c,f){f&4&&xt(a,c[2])},d(c){c&&oe(e)}}}function Ah(r){let e,t,n,i,s,o,a;return{c(){e=H("button"),t=H("img"),i=ee(),s=H("div"),o=Se("Solana: "),a=Se(r[3]),Xr(t.src,n="../assets/ethereum-logo.svg")||F(t,"src",n),F(t,"alt","ethereum"),F(t,"width","30"),F(t,"height","30"),F(t,"class","svelte-1u1oflt"),F(s,"class","svelte-1u1oflt"),F(e,"class","balanceButton svelte-1u1oflt")},m(c,f){ae(c,e,f),U(e,t),U(e,i),U(e,s),U(s,o),U(s,a)},p(c,f){f&8&&xt(a,c[3])},d(c){c&&oe(e)}}}function M8(r){let e,t,n,i,s,o,a,c,f,l,h,w=r[0].chain==="Ethereum"&&Sh(r),b=r[0].chain==="Solana"&&Ah(r);return{c(){e=H("div"),t=H("div"),n=H("div"),i=Se("$"),s=Se(r[1]),o=ee(),a=H("div"),a.innerHTML=`<button class="btn svelte-1u1oflt">Move</button> 
        <button class="btn svelte-1u1oflt">Send</button> 
        <button class="btn svelte-1u1oflt">Deposit</button> 
        <button class="btn svelte-1u1oflt">Withdraw</button>`,c=ee(),w&&w.c(),f=ee(),b&&b.c(),l=ee(),h=H("div"),F(n,"class","fiatBalanceAmount svelte-1u1oflt"),F(t,"class","fiatBalance svelte-1u1oflt"),F(a,"class","btn-group svelte-1u1oflt"),F(h,"class","walletBalance svelte-1u1oflt"),F(e,"class","walletMenu svelte-1u1oflt")},m(m,k){ae(m,e,k),U(e,t),U(t,n),U(n,i),U(n,s),U(e,o),U(e,a),U(e,c),w&&w.m(e,null),U(e,f),b&&b.m(e,null),U(e,l),U(e,h)},p(m,[k]){k&2&&xt(s,m[1]),m[0].chain==="Ethereum"?w?w.p(m,k):(w=Sh(m),w.c(),w.m(e,f)):w&&(w.d(1),w=null),m[0].chain==="Solana"?b?b.p(m,k):(b=Ah(m),b.c(),b.m(e,l)):b&&(b.d(1),b=null)},i:Te,o:Te,d(m){m&&oe(e),w&&w.d(),b&&b.d()}}}function U8(r,e,t){let n,i,s,o;return tt(r,to,c=>t(0,n=c)),tt(r,vy,c=>t(1,i=c)),tt(r,fc,c=>t(2,s=c)),tt(r,Nx,c=>t(3,o=c)),new(void 0).InfuraProvider("mainnet","b5f32cd516e94d3395a90e5ed9c59400").getBalance(n.address).then(c=>{const f=(void 0).formatEther(c);console.log(`balance: ${f} ETH`),fc.set(f)}),cb(n.address,n.chain),[n,i,s,o]}class L8 extends lr{constructor(e){super(),ur(this,e,U8,M8,ir,{})}}function F8(r){let e;return{c(){e=Se("No Wallet Connected")},m(t,n){ae(t,e,n)},p:Te,d(t){t&&oe(e)}}}function D8(r){let e=r[0].walletName+"",t,n,i=r[0].address.slice(0,5)+"..."+r[0].address.slice(-4),s;return{c(){t=Se(e),n=ee(),s=Se(i)},m(o,a){ae(o,t,a),ae(o,n,a),ae(o,s,a)},p(o,a){a&1&&e!==(e=o[0].walletName+"")&&xt(t,e),a&1&&i!==(i=o[0].address.slice(0,5)+"..."+o[0].address.slice(-4))&&xt(s,i)},d(o){o&&oe(t),o&&oe(n),o&&oe(s)}}}function $8(r){let e,t,n,i,s,o,a,c,f,l,h,w,b,m,k,S,A;function O(N,L){return N[0]?D8:F8}let R=O(r),B=R(r);return{c(){e=H("div"),t=H("label"),n=H("button"),n.textContent="settings",i=ee(),s=H("div"),o=H("button"),B.c(),a=ee(),c=H("br"),f=ee(),l=H("label"),h=H("button"),w=Se("Network"),b=H("br"),m=ee(),k=Se(r[1]),F(n,"class","btn btn-primary svelte-fwixc1"),F(t,"class","svelte-fwixc1"),F(o,"class","btn svelte-fwixc1"),F(c,"class","svelte-fwixc1"),F(s,"class","svelte-fwixc1"),F(b,"class","svelte-fwixc1"),F(h,"class","btn btn-primary svelte-fwixc1"),F(l,"class","svelte-fwixc1"),F(e,"class","drawer-content appHeader svelte-fwixc1")},m(N,L){ae(N,e,L),U(e,t),U(t,n),U(e,i),U(e,s),U(s,o),B.m(o,null),U(s,a),U(s,c),U(e,f),U(e,l),U(l,h),U(h,w),U(h,b),U(h,m),U(h,k),S||(A=[_e(n,"click",r[2]),_e(o,"click",r[3]),_e(h,"click",r[4])],S=!0)},p(N,[L]){R===(R=O(N))&&B?B.p(N,L):(B.d(1),B=R(N),B&&(B.c(),B.m(o,null))),L&2&&xt(k,N[1])},i:Te,o:Te,d(N){N&&oe(e),B.d(),S=!1,nr(A)}}}function z8(r,e,t){let n,i;return tt(r,to,c=>t(0,n=c)),tt(r,Mo,c=>t(1,i=c)),[n,i,()=>eo.set(!0),()=>Ss.set(!0),()=>bs.set(!0)]}class K8 extends lr{constructor(e){super(),ur(this,e,z8,$8,ir,{})}}function Ih(r,e,t){const n=r.slice();return n[7]=e[t],n}function Rh(r,e,t){const n=r.slice();return n[7]=e[t],n}function Th(r,e,t){const n=r.slice();return n[7]=e[t],n}function Nh(r){let e,t,n,i,s,o,a=r[7]+"",c,f,l;function h(){return r[1](r[7])}return{c(){e=H("button"),t=H("div"),n=H("img"),s=ee(),o=H("div"),c=Se(a),Xr(n.src,i="../assets/"+r[7]+"-logo.svg")||F(n,"src",i),F(n,"alt","ethereum"),F(n,"width","30"),F(n,"height","30"),F(n,"class","svelte-fwixc1"),F(t,"class","svelte-fwixc1"),F(o,"class","svelte-fwixc1"),F(e,"class","btn btn-primary networkButton svelte-fwixc1")},m(w,b){ae(w,e,b),U(e,t),U(t,n),U(e,s),U(e,o),U(o,c),f||(l=[_e(e,"click",h),_e(e,"click",r[2])],f=!0)},p(w,b){r=w},d(w){w&&oe(e),f=!1,nr(l)}}}function Ph(r){let e,t=r[7]+"",n,i,s;function o(){return r[3](r[7])}return{c(){e=H("button"),n=Se(t),F(e,"class","btn btn-secondary networkButton svelte-fwixc1")},m(a,c){ae(a,e,c),U(e,n),i||(s=[_e(e,"click",o),_e(e,"click",r[4])],i=!0)},p(a,c){r=a},d(a){a&&oe(e),i=!1,nr(s)}}}function Bh(r){let e,t=r[7]+"",n,i,s,o;function a(){return r[5](r[7])}return{c(){e=H("button"),n=Se(t),i=ee(),F(e,"class","btn btn-secondary networkButton svelte-fwixc1")},m(c,f){ae(c,e,f),U(e,n),U(e,i),s||(o=[_e(e,"click",a),_e(e,"click",r[6])],s=!0)},p(c,f){r=c},d(c){c&&oe(e),s=!1,nr(o)}}}function W8(r){let e,t,n,i,s,o,a,c,f,l,h,w,b,m,k,S,A,O,R,B,N=Yu,L=[];for(let q=0;q<N.length;q+=1)L[q]=Nh(Th(r,N,q));let $=j0,K=[];for(let q=0;q<$.length;q+=1)K[q]=Ph(Rh(r,$,q));let Y=Y0,J=[];for(let q=0;q<Y.length;q+=1)J[q]=Bh(Ih(r,Y,q));return{c(){e=H("div"),t=H("div"),n=H("div"),n.textContent="Networks",i=ee(),s=H("div"),o=H("button"),o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="svelte-fwixc1"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" class="svelte-fwixc1"></path></svg>',a=ee(),c=H("div");for(let q=0;q<L.length;q+=1)L[q].c();f=ee(),l=H("h1"),l.textContent="Alt Networks",h=ee();for(let q=0;q<K.length;q+=1)K[q].c();w=ee(),b=H("h1"),b.textContent="Test Networks",m=ee();for(let q=0;q<J.length;q+=1)J[q].c();k=ee(),S=H("button"),S.textContent="Add Network",F(n,"id","sliderHeader"),F(n,"class","svelte-fwixc1"),_t(o,"height","50px"),_t(o,"width","50px"),F(o,"class","btn btn-square btn-sm networkButtons svelte-fwixc1"),_t(s,"height","50px"),F(s,"class","card-actions justify-start svelte-fwixc1"),F(t,"class","appHeader svelte-fwixc1"),F(l,"class","svelte-fwixc1"),F(b,"class","svelte-fwixc1"),F(c,"id","networks"),F(c,"class","svelte-fwixc1"),F(S,"class","btn btn-accent svelte-fwixc1"),F(e,"class","slideUpDiv svelte-fwixc1")},m(q,re){ae(q,e,re),U(e,t),U(t,n),U(t,i),U(t,s),U(s,o),U(e,a),U(e,c);for(let v=0;v<L.length;v+=1)L[v]&&L[v].m(c,null);U(c,f),U(c,l),U(c,h);for(let v=0;v<K.length;v+=1)K[v]&&K[v].m(c,null);U(c,w),U(c,b),U(c,m);for(let v=0;v<J.length;v+=1)J[v]&&J[v].m(c,null);U(e,k),U(e,S),O=!0,R||(B=_e(o,"click",r[0]),R=!0)},p(q,[re]){if(re&0){N=Yu;let v;for(v=0;v<N.length;v+=1){const u=Th(q,N,v);L[v]?L[v].p(u,re):(L[v]=Nh(u),L[v].c(),L[v].m(c,f))}for(;v<L.length;v+=1)L[v].d(1);L.length=N.length}if(re&0){$=j0;let v;for(v=0;v<$.length;v+=1){const u=Rh(q,$,v);K[v]?K[v].p(u,re):(K[v]=Ph(u),K[v].c(),K[v].m(c,w))}for(;v<K.length;v+=1)K[v].d(1);K.length=$.length}if(re&0){Y=Y0;let v;for(v=0;v<Y.length;v+=1){const u=Ih(q,Y,v);J[v]?J[v].p(u,re):(J[v]=Bh(u),J[v].c(),J[v].m(c,null))}for(;v<J.length;v+=1)J[v].d(1);J.length=Y.length}},i(q){O||(Si(()=>{O&&(A||(A=Ai(e,Ii,{y:600,duration:100},!0)),A.run(1))}),O=!0)},o(q){A||(A=Ai(e,Ii,{y:600,duration:100},!1)),A.run(0),O=!1},d(q){q&&oe(e),Ln(L,q),Ln(K,q),Ln(J,q),q&&A&&A.end(),R=!1,B()}}}function H8(r){return[()=>bs.set(!1),c=>Mo.set(c),()=>bs.set(!1),c=>Mo.set(c),()=>bs.set(!1),c=>Mo.set(c),()=>bs.set(!1)]}class G8 extends lr{constructor(e){super(),ur(this,e,H8,W8,ir,{})}}function Oh(r,e,t){const n=r.slice();return n[5]=e[t],n}function Ch(r){let e,t,n=r[5]+"",i,s,o,a;function c(){return r[4](r[5])}return{c(){e=H("button"),t=H("div"),i=Se(n),s=ee(),F(t,"class","svelte-19awwwp"),F(e,"class","btn btn-primary settingButton svelte-19awwwp")},m(f,l){ae(f,e,l),U(e,t),U(t,i),U(e,s),o||(a=[_e(e,"click",r[1]),_e(e,"click",r[2]),_e(e,"click",r[3]),_e(e,"click",c)],o=!0)},p(f,l){r=f},d(f){f&&oe(e),o=!1,nr(a)}}}function q8(r){let e,t,n,i,s,o,a,c,f,l,h,w,b=Eh,m=[];for(let k=0;k<b.length;k+=1)m[k]=Ch(Oh(r,b,k));return{c(){e=H("div"),t=H("div"),n=H("div"),n.textContent="Settings",i=ee(),s=H("div"),o=H("button"),o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="svelte-19awwwp"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" class="svelte-19awwwp"></path></svg>',a=ee(),c=H("div");for(let k=0;k<m.length;k+=1)m[k].c();F(n,"id","sliderHeader"),F(n,"class","svelte-19awwwp"),_t(o,"height","50px"),_t(o,"width","50px"),F(o,"class","btn btn-square btn-sm svelte-19awwwp"),_t(s,"height","50px"),F(s,"class","card-actions justify-start svelte-19awwwp"),F(t,"class","appHeader svelte-19awwwp"),F(c,"id","settings"),F(c,"class","svelte-19awwwp"),F(e,"class","slideUpDiv svelte-19awwwp")},m(k,S){ae(k,e,S),U(e,t),U(t,n),U(t,i),U(t,s),U(s,o),U(e,a),U(e,c);for(let A=0;A<m.length;A+=1)m[A]&&m[A].m(c,null);l=!0,h||(w=_e(o,"click",r[0]),h=!0)},p(k,[S]){if(S&0){b=Eh;let A;for(A=0;A<b.length;A+=1){const O=Oh(k,b,A);m[A]?m[A].p(O,S):(m[A]=Ch(O),m[A].c(),m[A].m(c,null))}for(;A<m.length;A+=1)m[A].d(1);m.length=b.length}},i(k){l||(Si(()=>{l&&(f||(f=Ai(e,Ii,{y:600,duration:200},!0)),f.run(1))}),l=!0)},o(k){f||(f=Ai(e,Ii,{y:600,duration:200},!1)),f.run(0),l=!1},d(k){k&&oe(e),Ln(m,k),k&&f&&f.end(),h=!1,w()}}}function V8(r){return[()=>eo.set(!1),()=>eo.set(!1),()=>Vo.set(5),()=>Qs.set(!0),o=>Tx.set(o)]}class j8 extends lr{constructor(e){super(),ur(this,e,V8,q8,ir,{})}}const Y8=et([{addressName:"address1",address:"0x1234hghfhhgh56789",chain:"Ethereum",isOwn:!1},{addressName:"address2",address:"By123456789sdffsddsffds",chain:"Solana",isOwn:!0},{addressName:"address3",address:"Gm1234ewfdfdsfdsf5fds6789",chain:"Solana",isOwn:!0},{addressName:"address4",address:"0x1234fggffdgdf56789",chain:"Ethereum",isOwn:!1}]);function Mh(r,e,t){const n=r.slice();return n[2]=e[t],n}function Uh(r){let e,t,n=r[2].addressName+"",i,s,o,a=r[2].address+"",c,f;return{c(){e=H("div"),t=H("div"),i=Se(n),s=ee(),o=H("div"),c=Se(a),f=ee(),F(t,"class","addressName svelte-1tf472u"),F(o,"class","addressValue svelte-1tf472u"),F(e,"class","address svelte-1tf472u")},m(l,h){ae(l,e,h),U(e,t),U(t,i),U(e,s),U(e,o),U(o,c),U(e,f)},p(l,h){h&1&&n!==(n=l[2].addressName+"")&&xt(i,n),h&1&&a!==(a=l[2].address+"")&&xt(c,a)},d(l){l&&oe(e)}}}function J8(r){let e,t=r[0],n=[];for(let i=0;i<t.length;i+=1)n[i]=Uh(Mh(r,t,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=po()},m(i,s){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(i,s);ae(i,e,s)},p(i,[s]){if(s&1){t=i[0];let o;for(o=0;o<t.length;o+=1){const a=Mh(i,t,o);n[o]?n[o].p(a,s):(n[o]=Uh(a),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},i:Te,o:Te,d(i){Ln(n,i),i&&oe(e)}}}function Z8(r,e,t){let n,i;return tt(r,Qs,s=>t(1,n=s)),tt(r,Y8,s=>t(0,i=s)),console.log(n),[i]}class X8 extends lr{constructor(e){super(),ur(this,e,Z8,J8,ir,{})}}const Q8="123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ";[...Q8].reduce((r,e,t)=>(r[e]=t,r),{});function e4(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var n=0;n<r.length;n++){var i=r.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var o=r.length,a=r.charAt(0),c=Math.log(o)/Math.log(256),f=Math.log(256)/Math.log(o);function l(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var m=0,k=0,S=0,A=b.length;S!==A&&b[S]===0;)S++,m++;for(var O=(A-S)*f+1>>>0,R=new Uint8Array(O);S!==A;){for(var B=b[S],N=0,L=O-1;(B!==0||N<k)&&L!==-1;L--,N++)B+=256*R[L]>>>0,R[L]=B%o>>>0,B=B/o>>>0;if(B!==0)throw new Error("Non-zero carry");k=N,S++}for(var $=O-k;$!==O&&R[$]===0;)$++;for(var K=a.repeat(m);$<O;++$)K+=r.charAt(R[$]);return K}function h(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;for(var m=0,k=0,S=0;b[m]===a;)k++,m++;for(var A=(b.length-m)*c+1>>>0,O=new Uint8Array(A);b[m];){var R=e[b.charCodeAt(m)];if(R===255)return;for(var B=0,N=A-1;(R!==0||B<S)&&N!==-1;N--,B++)R+=o*O[N]>>>0,O[N]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");S=B,m++}for(var L=A-S;L!==A&&O[L]===0;)L++;for(var $=new Uint8Array(k+(A-L)),K=k;L!==A;)$[K++]=O[L++];return $}function w(b){var m=h(b);if(m)return m;throw new Error("Non-base"+o+" character")}return{encode:l,decodeUnsafe:h,decode:w}}var t4=e4;const r4=t4,n4="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var fb=r4(n4);function Lh(r,e,t){const n=r.slice();return n[18]=e[t],n}function Fh(r,e,t){const n=r.slice();return n[21]=e[t],n[23]=t,n}function Dh(r){let e,t=r[21]+"",n,i,s,o;function a(){return r[12](r[23])}return{c(){e=H("a"),n=Se(t),i=ee(),F(e,"class","tab tab-bordered svelte-kdflem"),sc(e,"tab-active",r[0]==r[23])},m(c,f){ae(c,e,f),U(e,n),U(e,i),s||(o=_e(e,"click",a),s=!0)},p(c,f){r=c,f&1&&sc(e,"tab-active",r[0]==r[23])},d(c){c&&oe(e),s=!1,o()}}}function $h(r){let e,t,n,i,s,o,a,c,f,l,h,w,b,m,k,S,A,O,R,B,N,L,$,K;return{c(){e=H("div"),t=H("div"),n=H("label"),i=ee(),s=H("label"),o=H("span"),o.textContent="Address",a=ee(),c=H("input"),f=ee(),l=H("div"),h=H("label"),w=ee(),b=H("label"),m=H("span"),m.textContent="Private Key",k=ee(),S=H("input"),A=ee(),O=H("div"),R=H("label"),B=ee(),N=H("label"),L=H("button"),L.textContent="Import Wallet",F(n,"class","label svelte-kdflem"),F(o,"class","svelte-kdflem"),F(c,"type","text"),F(c,"placeholder","Address"),F(c,"class","input input-bordered svelte-kdflem"),F(s,"class","input-group svelte-kdflem"),F(t,"class","form-control svelte-kdflem"),F(e,"class","svelte-kdflem"),F(h,"class","label svelte-kdflem"),F(m,"class","svelte-kdflem"),F(S,"type","text"),F(S,"placeholder","Private Key"),F(S,"class","input input-bordered svelte-kdflem"),F(b,"class","input-group svelte-kdflem"),F(l,"class","form-control svelte-kdflem"),F(R,"class","label svelte-kdflem"),_t(L,"z-index","10000"),F(L,"class","btn btn-accent svelte-kdflem"),F(N,"class","input-group svelte-kdflem"),F(O,"class","form-control svelte-kdflem")},m(Y,J){ae(Y,e,J),U(e,t),U(t,n),U(t,i),U(t,s),U(s,o),U(s,a),U(s,c),xi(c,r[3]),ae(Y,f,J),ae(Y,l,J),U(l,h),U(l,w),U(l,b),U(b,m),U(b,k),U(b,S),xi(S,r[2]),ae(Y,A,J),ae(Y,O,J),U(O,R),U(O,B),U(O,N),U(N,L),$||(K=[_e(c,"input",r[13]),_e(S,"input",r[14]),_e(L,"click",r[7])],$=!0)},p(Y,J){J&8&&c.value!==Y[3]&&xi(c,Y[3]),J&4&&S.value!==Y[2]&&xi(S,Y[2])},d(Y){Y&&oe(e),Y&&oe(f),Y&&oe(l),Y&&oe(A),Y&&oe(O),$=!1,nr(K)}}}function zh(r){let e,t,n,i,s,o,a,c,f,l,h,w,b,m,k,S;return{c(){e=H("div"),t=H("div"),n=H("label"),i=ee(),s=H("label"),o=H("span"),o.textContent="Secret Recovery Phrase",a=ee(),c=H("input"),f=ee(),l=H("div"),h=H("label"),w=ee(),b=H("label"),m=H("button"),m.textContent="Import Wallet",F(n,"class","label svelte-kdflem"),F(o,"class","svelte-kdflem"),F(c,"type","text"),F(c,"placeholder","Secret Recovery Phrase"),F(c,"class","input input-bordered svelte-kdflem"),F(s,"class","input-group svelte-kdflem"),F(t,"class","form-control svelte-kdflem"),F(e,"class","svelte-kdflem"),F(h,"class","label svelte-kdflem"),_t(m,"z-index","10000"),F(m,"class","btn btn-accent svelte-kdflem"),F(b,"class","input-group svelte-kdflem"),F(l,"class","form-control svelte-kdflem")},m(A,O){ae(A,e,O),U(e,t),U(t,n),U(t,i),U(t,s),U(s,o),U(s,a),U(s,c),xi(c,r[1]),ae(A,f,O),ae(A,l,O),U(l,h),U(l,w),U(l,b),U(b,m),k||(S=[_e(c,"input",r[15]),_e(m,"click",r[8])],k=!0)},p(A,O){O&2&&c.value!==A[1]&&xi(c,A[1])},d(A){A&&oe(e),A&&oe(f),A&&oe(l),k=!1,nr(S)}}}function Kh(r){let e,t=r[5],n=[];for(let i=0;i<t.length;i+=1)n[i]=Wh(Lh(r,t,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=po()},m(i,s){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(i,s);ae(i,e,s)},p(i,s){if(s&32){t=i[5];let o;for(o=0;o<t.length;o+=1){const a=Lh(i,t,o);n[o]?n[o].p(a,s):(n[o]=Wh(a),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(i){Ln(n,i),i&&oe(e)}}}function Wh(r){let e,t,n=r[18].walletName+"",i,s,o,a=r[18].address+"",c,f;return{c(){e=H("div"),t=H("div"),i=Se(n),s=ee(),o=H("div"),c=Se(a),f=ee(),F(t,"class","addressName svelte-kdflem"),F(o,"class","addressValue svelte-kdflem"),F(e,"class","address svelte-kdflem")},m(l,h){ae(l,e,h),U(e,t),U(t,i),U(e,s),U(e,o),U(o,c),U(e,f)},p(l,h){h&32&&n!==(n=l[18].walletName+"")&&xt(i,n),h&32&&a!==(a=l[18].address+"")&&xt(c,a)},d(l){l&&oe(e)}}}function i4(r){let e,t,n,i,s,o,a,c,f,l,h,w,b,m,k=r[6],S=[];for(let B=0;B<k.length;B+=1)S[B]=Dh(Fh(r,k,B));let A=r[0]==0&&$h(r),O=r[0]==1&&zh(r),R=r[5]&&r[5].length&&Kh(r);return w=Ix(r[10][0]),{c(){e=H("div"),t=Se("Ethereum:"),n=H("input"),i=Se(`
    Solana:`),s=H("input"),o=ee(),a=H("div");for(let B=0;B<S.length;B+=1)S[B].c();c=ee(),A&&A.c(),f=ee(),O&&O.c(),l=ee(),R&&R.c(),h=po(),F(n,"type","radio"),F(n,"name","importChain"),F(n,"class","radio radio-accent svelte-kdflem"),n.__value="Ethereum",n.value=n.__value,_t(n,"z-index","10000"),n.checked=!0,F(s,"type","radio"),F(s,"name","importChain"),F(s,"class","radio radio-accent svelte-kdflem"),_t(s,"z-index","10000"),s.__value="Solana",s.value=s.__value,_t(e,"position","relative"),F(e,"class","svelte-kdflem"),F(a,"class","tabs svelte-kdflem"),w.p(n,s)},m(B,N){ae(B,e,N),U(e,t),U(e,n),n.checked=n.__value===r[4],U(e,i),U(e,s),s.checked=s.__value===r[4],ae(B,o,N),ae(B,a,N);for(let L=0;L<S.length;L+=1)S[L]&&S[L].m(a,null);ae(B,c,N),A&&A.m(B,N),ae(B,f,N),O&&O.m(B,N),ae(B,l,N),R&&R.m(B,N),ae(B,h,N),b||(m=[_e(n,"change",r[9]),_e(s,"change",r[11])],b=!0)},p(B,[N]){if(N&16&&(n.checked=n.__value===B[4]),N&16&&(s.checked=s.__value===B[4]),N&65){k=B[6];let L;for(L=0;L<k.length;L+=1){const $=Fh(B,k,L);S[L]?S[L].p($,N):(S[L]=Dh($),S[L].c(),S[L].m(a,null))}for(;L<S.length;L+=1)S[L].d(1);S.length=k.length}B[0]==0?A?A.p(B,N):(A=$h(B),A.c(),A.m(f.parentNode,f)):A&&(A.d(1),A=null),B[0]==1?O?O.p(B,N):(O=zh(B),O.c(),O.m(l.parentNode,l)):O&&(O.d(1),O=null),B[5]&&B[5].length?R?R.p(B,N):(R=Kh(B),R.c(),R.m(h.parentNode,h)):R&&(R.d(1),R=null)},i:Te,o:Te,d(B){B&&oe(e),B&&oe(o),B&&oe(a),Ln(S,B),B&&oe(c),A&&A.d(B),B&&oe(f),O&&O.d(B),B&&oe(l),R&&R.d(B),B&&oe(h),w.r(),b=!1,nr(m)}}}function s4(r,e,t){let n,i;tt(r,Qs,N=>t(16,n=N)),tt(r,my,N=>t(5,i=N)),console.log(n);let s=["Private Key","Secret Recovery Phrase"],o=1,a,c,f,l;localStorage.getItem("wallets")?l="Account"+(JSON.parse(localStorage.getItem("wallets")).length+1):l="Account1";let h="Ethereum";async function w(){console.log(l),console.log(a),console.log(f),console.log(h),console.log(c);const N=localStorage.getItem("wallets"),L=JSON.parse(N);console.log(L);const $=f;if(h==="Ethereum"){const K=new Ps($);if(console.log(K),localStorage.getItem("wallets")){console.log(K);const Y={walletName:l,chain:h,address:K.address,privateKey:K.privateKey,mnemonicPhrase:"",isImported:!1};console.log(Y),L?(L.push(Y),localStorage.setItem("wallets",JSON.stringify(L)),ln.set(L)):(localStorage.setItem("wallets",JSON.stringify([Y])),ln.set([Y]))}}else if(h==="Solana"){console.log(h);const K=new Uint8Array(Object.values($));console.log(K);const Y=fb.decode($);console.log(Y);const J=Ei.fromSecretKey(Y);console.log(J);const q={walletName:l,address:J.publicKey.toBase58(),privateKey:J.secretKey,chain:h,mnemonicPhrase:"",isImported:!0};console.log(q),L?(L.push(q),localStorage.setItem("wallets",JSON.stringify(L)),ln.set(L)):(localStorage.setItem("wallets",JSON.stringify([q])),ln.set([q]))}}async function b(){console.log(a),console.log(f),console.log(h),console.log(c);const N=localStorage.getItem("wallets"),L=JSON.parse(N);console.log(L);const $=c;if(h==="Ethereum"){const K=Ps.fromPhrase($);console.log(K),K.address,K.privateKey}else h==="Solana"&&(console.log(h),console.log(f))}const m=[[]];function k(){h=this.__value,t(4,h)}function S(){h=this.__value,t(4,h)}const A=N=>t(0,o=N);function O(){l=this.value,t(3,l)}function R(){f=this.value,t(2,f)}function B(){c=this.value,t(1,c)}return[o,c,f,l,h,i,s,w,b,k,m,S,A,O,R,B]}class o4 extends lr{constructor(e){super(),ur(this,e,s4,i4,ir,{})}}const sa=et({primaryCurrency:"USD",language:"English",theme:"Light",isDarkMode:!1,isAdvancedMode:!1,profilePicture:"https://i.pinimg.com/originals/0f/6d/9a/0f6d9a4e2b5e1e1e0f0f0f0f0f0f0f0f.jpg",isWalletLocked:!1});localStorage.getItem("generalSettings")===null?localStorage.setItem("generalSettings",JSON.stringify(sa)):sa.set(JSON.parse(localStorage.getItem("generalSettings")));function a4(r){let e,t,n,i=r[0].primaryCurrency+"",s,o,a,c,f=r[0].language+"",l,h,w,b,m,k,S,A,O,R,B,N,L,$,K,Y;return{c(){e=H("ul"),t=H("li"),n=Se("PrimaryCurreny: "),s=Se(i),o=ee(),a=H("li"),c=Se("Language: "),l=Se(f),h=ee(),w=H("div"),b=H("label"),b.textContent="Change Theme",m=ee(),k=H("ul"),S=H("li"),S.innerHTML='<a class="svelte-1e1iv4z">Theme 1</a>',A=ee(),O=H("li"),O.innerHTML='<a class="svelte-1e1iv4z">Theme 2</a>',R=ee(),B=H("li"),B.innerHTML='<a class="svelte-1e1iv4z">Theme 3</a>',N=Se(`
Profile Picture: `),L=H("img"),F(t,"class","svelte-1e1iv4z"),F(a,"class","svelte-1e1iv4z"),F(b,"tabindex","0"),F(b,"class","btn m-1 svelte-1e1iv4z"),F(S,"class","svelte-1e1iv4z"),F(O,"class","svelte-1e1iv4z"),F(B,"class","svelte-1e1iv4z"),F(k,"tabindex","0"),F(k,"class","dropdown-content menu p-2 shadow bg-base-100 rounded-box w-52 svelte-1e1iv4z"),F(w,"class","dropdown dropdown-bottom svelte-1e1iv4z"),F(e,"class","svelte-1e1iv4z"),Xr(L.src,$=r[0].profilePicture)||F(L,"src",$),F(L,"alt","Profile Picture"),F(L,"class","svelte-1e1iv4z")},m(J,q){ae(J,e,q),U(e,t),U(t,n),U(t,s),U(e,o),U(e,a),U(a,c),U(a,l),U(e,h),U(e,w),U(w,b),U(w,m),U(w,k),U(k,S),U(k,A),U(k,O),U(k,R),U(k,B),ae(J,N,q),ae(J,L,q),K||(Y=[_e(S,"click",r[2]),_e(O,"click",r[3]),_e(B,"click",r[4])],K=!0)},p(J,[q]){q&1&&i!==(i=J[0].primaryCurrency+"")&&xt(s,i),q&1&&f!==(f=J[0].language+"")&&xt(l,f),q&1&&!Xr(L.src,$=J[0].profilePicture)&&F(L,"src",$)},i:Te,o:Te,d(J){J&&oe(e),J&&oe(N),J&&oe(L),K=!1,nr(Y)}}}function c4(r,e,t){let n;tt(r,sa,c=>t(0,n=c));function i(c,f){c==="theme"&&kx(sa,n.theme=f,n),localStorage.setItem("generalSettings",JSON.stringify(n));const l=localStorage.getItem("generalSettings");console.log(l)}return console.log(n),[n,i,()=>i("theme","Theme 1"),()=>i("theme","Theme 2"),()=>i("theme","Theme 3")]}class f4 extends lr{constructor(e){super(),ur(this,e,c4,a4,ir,{})}}function u4(r){let e;return{c(){e=H("div"),e.innerHTML=`<h1>Security</h1> 
    <p>Reveal Secret Secuirty Phrase</p> 
    <button>Reveal Secret Recovery Phrase</button>`},m(t,n){ae(t,e,n)},p:Te,i:Te,o:Te,d(t){t&&oe(e)}}}class l4 extends lr{constructor(e){super(),ur(this,e,null,u4,ir,{})}}const d4=["http://localhost:3000","http://localhost:3001","http://localhost:3002","GameStore"],h4=et(d4);function p4(r){let e,t,n,i;return{c(){e=H("div"),t=H("h1"),t.textContent="Connected Sites",n=ee(),i=Se(r[0])},m(s,o){ae(s,e,o),U(e,t),U(e,n),U(e,i)},p(s,[o]){o&1&&xt(i,s[0])},i:Te,o:Te,d(s){s&&oe(e)}}}function x4(r,e,t){let n;return tt(r,h4,i=>t(0,n=i)),[n]}class g4 extends lr{constructor(e){super(),ur(this,e,x4,p4,ir,{})}}const b4=et({isDeveloperMode:!1,testNetsOn:!1});function y4(r){let e,t,n,i=r[0].isDeveloperMode+"",s,o,a=r[0].testNetsOn+"",c,f,l;return{c(){e=H("div"),t=H("h1"),t.textContent="Developer Settings",n=Se(`
        Developer Mode: `),s=Se(i),o=Se(`
        Show Test Nets: `),c=Se(a),f=ee(),l=H("button"),l.textContent="Reveal Secret Recovery Phrase"},m(h,w){ae(h,e,w),U(e,t),U(e,n),U(e,s),U(e,o),U(e,c),U(e,f),U(e,l)},p(h,[w]){w&1&&i!==(i=h[0].isDeveloperMode+"")&&xt(s,i),w&1&&a!==(a=h[0].testNetsOn+"")&&xt(c,a)},i:Te,o:Te,d(h){h&&oe(e)}}}function m4(r,e,t){let n;return tt(r,b4,i=>t(0,n=i)),[n]}class w4 extends lr{constructor(e){super(),ur(this,e,m4,y4,ir,{})}}function v4(r){let e,t,n,i,s=r[0].isWalletLocked+"",o,a,c;return{c(){e=H("div"),t=H("h1"),t.textContent="Lock Wallet",n=ee(),i=H("p"),o=Se(s),a=ee(),c=H("button"),c.textContent="Reveal Secret Recovery Phrase"},m(f,l){ae(f,e,l),U(e,t),U(e,n),U(e,i),U(i,o),U(e,a),U(e,c)},p(f,[l]){l&1&&s!==(s=f[0].isWalletLocked+"")&&xt(o,s)},i:Te,o:Te,d(f){f&&oe(e)}}}function _4(r,e,t){let n;return tt(r,sa,i=>t(0,n=i)),[n]}class k4 extends lr{constructor(e){super(),ur(this,e,_4,v4,ir,{})}}function Hh(r){let e,t;return e=new X8({}),{c(){Sr(e.$$.fragment)},m(n,i){cr(e,n,i),t=!0},i(n){t||(ue(e.$$.fragment,n),t=!0)},o(n){we(e.$$.fragment,n),t=!1},d(n){fr(e,n)}}}function Gh(r){let e,t;return e=new o4({}),{c(){Sr(e.$$.fragment)},m(n,i){cr(e,n,i),t=!0},i(n){t||(ue(e.$$.fragment,n),t=!0)},o(n){we(e.$$.fragment,n),t=!1},d(n){fr(e,n)}}}function qh(r){let e,t;return e=new f4({}),{c(){Sr(e.$$.fragment)},m(n,i){cr(e,n,i),t=!0},i(n){t||(ue(e.$$.fragment,n),t=!0)},o(n){we(e.$$.fragment,n),t=!1},d(n){fr(e,n)}}}function Vh(r){let e,t;return e=new l4({}),{c(){Sr(e.$$.fragment)},m(n,i){cr(e,n,i),t=!0},i(n){t||(ue(e.$$.fragment,n),t=!0)},o(n){we(e.$$.fragment,n),t=!1},d(n){fr(e,n)}}}function jh(r){let e,t;return e=new g4({}),{c(){Sr(e.$$.fragment)},m(n,i){cr(e,n,i),t=!0},i(n){t||(ue(e.$$.fragment,n),t=!0)},o(n){we(e.$$.fragment,n),t=!1},d(n){fr(e,n)}}}function Yh(r){let e,t;return e=new w4({}),{c(){Sr(e.$$.fragment)},m(n,i){cr(e,n,i),t=!0},i(n){t||(ue(e.$$.fragment,n),t=!0)},o(n){we(e.$$.fragment,n),t=!1},d(n){fr(e,n)}}}function Jh(r){let e,t;return e=new k4({}),{c(){Sr(e.$$.fragment)},m(n,i){cr(e,n,i),t=!0},i(n){t||(ue(e.$$.fragment,n),t=!0)},o(n){we(e.$$.fragment,n),t=!1},d(n){fr(e,n)}}}function E4(r){let e,t,n,i,s,o,a,c,f,l,h,w,b,m,k,S,A,O,R,B,N,L,$,K=r[0]==="Address Book"&&Hh(),Y=r[0]==="Import Wallet"&&Gh(),J=r[0]==="General Settings"&&qh(),q=r[0]==="Security & Privacy"&&Vh(),re=r[0]==="Connected Sites"&&jh(),v=r[0]==="Developer Settings"&&Yh(),u=r[0]==="Lock Wallet"&&Jh();return{c(){e=H("div"),t=H("div"),n=H("button"),n.textContent="",i=ee(),s=H("div"),o=Se(`Settings
            `),a=H("br"),c=ee(),f=Se(r[0]),l=ee(),h=H("div"),w=H("button"),w.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="svelte-1mssxnl"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" class="svelte-1mssxnl"></path></svg>',b=ee(),m=H("div"),K&&K.c(),k=ee(),Y&&Y.c(),S=ee(),J&&J.c(),A=ee(),q&&q.c(),O=ee(),re&&re.c(),R=ee(),v&&v.c(),B=ee(),u&&u.c(),F(n,"class","btn btn-circle svelte-1mssxnl"),F(a,"class","svelte-1mssxnl"),F(s,"class","svelte-1mssxnl"),_t(w,"height","50px"),_t(w,"width","50px"),F(w,"class","btn btn-square btn-sm svelte-1mssxnl"),F(h,"id","closeButtonRight"),_t(h,"height","50px"),F(h,"class","card-actions svelte-1mssxnl"),F(t,"id","settingsHeader"),F(t,"class","svelte-1mssxnl"),F(e,"class","settingsSubMenu svelte-1mssxnl"),_t(m,"color","black"),F(m,"class","svelte-1mssxnl")},m(x,y){ae(x,e,y),U(e,t),U(t,n),U(t,i),U(t,s),U(s,o),U(s,a),U(s,c),U(s,f),U(t,l),U(t,h),U(h,w),ae(x,b,y),ae(x,m,y),K&&K.m(m,null),U(m,k),Y&&Y.m(m,null),U(m,S),J&&J.m(m,null),U(m,A),q&&q.m(m,null),U(m,O),re&&re.m(m,null),U(m,R),v&&v.m(m,null),U(m,B),u&&u.m(m,null),N=!0,L||($=[_e(n,"click",r[1]),_e(n,"click",r[2]),_e(n,"click",r[3]),_e(w,"click",r[4]),_e(w,"click",r[5]),_e(w,"click",r[6])],L=!0)},p(x,[y]){(!N||y&1)&&xt(f,x[0]),x[0]==="Address Book"?K?y&1&&ue(K,1):(K=Hh(),K.c(),ue(K,1),K.m(m,k)):K&&(or(),we(K,1,1,()=>{K=null}),ar()),x[0]==="Import Wallet"?Y?y&1&&ue(Y,1):(Y=Gh(),Y.c(),ue(Y,1),Y.m(m,S)):Y&&(or(),we(Y,1,1,()=>{Y=null}),ar()),x[0]==="General Settings"?J?y&1&&ue(J,1):(J=qh(),J.c(),ue(J,1),J.m(m,A)):J&&(or(),we(J,1,1,()=>{J=null}),ar()),x[0]==="Security & Privacy"?q?y&1&&ue(q,1):(q=Vh(),q.c(),ue(q,1),q.m(m,O)):q&&(or(),we(q,1,1,()=>{q=null}),ar()),x[0]==="Connected Sites"?re?y&1&&ue(re,1):(re=jh(),re.c(),ue(re,1),re.m(m,R)):re&&(or(),we(re,1,1,()=>{re=null}),ar()),x[0]==="Developer Settings"?v?y&1&&ue(v,1):(v=Yh(),v.c(),ue(v,1),v.m(m,B)):v&&(or(),we(v,1,1,()=>{v=null}),ar()),x[0]==="Lock Wallet"?u?y&1&&ue(u,1):(u=Jh(),u.c(),ue(u,1),u.m(m,null)):u&&(or(),we(u,1,1,()=>{u=null}),ar())},i(x){N||(ue(K),ue(Y),ue(J),ue(q),ue(re),ue(v),ue(u),N=!0)},o(x){we(K),we(Y),we(J),we(q),we(re),we(v),we(u),N=!1},d(x){x&&oe(e),x&&oe(b),x&&oe(m),K&&K.d(),Y&&Y.d(),J&&J.d(),q&&q.d(),re&&re.d(),v&&v.d(),u&&u.d(),L=!1,nr($)}}}function S4(r,e,t){let n;return tt(r,Tx,l=>t(0,n=l)),[n,()=>Vo.set(0),()=>eo.set(!0),()=>Qs.set(!1),()=>Vo.set(0),()=>Qs.set(!1),()=>eo.set(!0)]}class A4 extends lr{constructor(e){super(),ur(this,e,S4,E4,ir,{})}}function I4(r){let e,t,n,i,s,o,a,c,f,l,h,w,b,m,k,S,A,O,R,B,N,L,$,K,Y,J,q,re,v,u;return re=Ix(r[7][0]),{c(){e=H("div"),t=H("div"),n=H("button"),n.textContent="",i=ee(),s=H("div"),s.textContent="Wallets",o=ee(),a=H("div"),c=H("button"),c.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="svelte-1if0ud"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" class="svelte-1if0ud"></path></svg>',f=ee(),l=H("div"),h=H("h1"),h.textContent="Generate New Wallet",w=ee(),b=H("p"),m=Se(r[1]),k=ee(),S=H("p"),A=Se(r[0]),O=Se(`
        Ethereum:`),R=H("input"),B=Se(`
        Solana:`),N=H("input"),L=ee(),$=H("input"),K=ee(),Y=H("button"),Y.textContent="Generate",F(n,"class","btn btn-circle svelte-1if0ud"),F(s,"id","sliderHeader"),F(s,"class","svelte-1if0ud"),_t(c,"height","50px"),_t(c,"width","50px"),F(c,"class","btn btn-square btn-sm svelte-1if0ud"),_t(a,"height","50px"),F(a,"class","card-actions justify-start svelte-1if0ud"),F(t,"class","appHeader svelte-1if0ud"),F(h,"class","svelte-1if0ud"),F(b,"class","svelte-1if0ud"),F(S,"class","svelte-1if0ud"),F(R,"type","radio"),F(R,"name","radio-2"),F(R,"class","radio radio-primary svelte-1if0ud"),R.__value="Ethereum",R.value=R.__value,R.checked=!0,F(N,"type","radio"),F(N,"name","radio-2"),F(N,"class","radio radio-primary svelte-1if0ud"),N.__value="Solana",N.value=N.__value,F($,"type","text"),F($,"placeholder",r[0]),F($,"class","input input-bordered w-full max-w-xs svelte-1if0ud"),F(Y,"class","btn btn-secondary svelte-1if0ud"),F(l,"class","newWallet svelte-1if0ud"),F(e,"class","slideUpDiv svelte-1if0ud"),re.p(R,N)},m(x,y){ae(x,e,y),U(e,t),U(t,n),U(t,i),U(t,s),U(t,o),U(t,a),U(a,c),U(e,f),U(e,l),U(l,h),U(l,w),U(l,b),U(b,m),U(l,k),U(l,S),U(S,A),U(l,O),U(l,R),R.checked=R.__value===r[1],U(l,B),U(l,N),N.checked=N.__value===r[1],U(l,L),U(l,$),xi($,r[0]),U(l,K),U(l,Y),q=!0,v||(u=[_e(n,"click",r[3]),_e(n,"click",r[4]),_e(c,"click",r[5]),_e(R,"change",r[6]),_e(N,"change",r[8]),_e($,"input",r[9]),_e(Y,"click",r[10])],v=!0)},p(x,[y]){(!q||y&2)&&xt(m,x[1]),(!q||y&1)&&xt(A,x[0]),y&2&&(R.checked=R.__value===x[1]),y&2&&(N.checked=N.__value===x[1]),(!q||y&1)&&F($,"placeholder",x[0]),y&1&&$.value!==x[0]&&xi($,x[0])},i(x){q||(Si(()=>{q&&(J||(J=Ai(e,Ii,{y:600,duration:200},!0)),J.run(1))}),q=!0)},o(x){J||(J=Ai(e,Ii,{y:600,duration:200},!1)),J.run(0),q=!1},d(x){x&&oe(e),x&&J&&J.end(),re.r(),v=!1,nr(u)}}}function R4(r,e,t){let n;tt(r,ln,k=>t(11,n=k));let i="Account"+(n.length+1).toString(),s="Ethereum";async function o(k,S){if(k=="Ethereum"){let O;const R=Ps.createRandom();console.log(R),console.log(R.path),console.log(R.path),localStorage.getItem("wallets"),console.log(O);const B={walletName:S,chain:s,address:O.address,privateKey:O.privateKey,mnemonicPhrase:O.mnemonic,isImported:!1};console.log("new wallet:",B);var A=JSON.parse(localStorage.getItem("wallets"));if(A){A.push(B),console.log(A),localStorage.setItem("wallets",JSON.stringify(A));const N=localStorage.getItem("wallets");ln.set(JSON.parse(N))}else localStorage.setItem("wallets",JSON.stringify([B])),ln.set([B])}else if(k=="Solana"){console.log(P8);let O=Ei.generate();console.log(O),console.log(O.publicKey.toBase58()),console.log(fb.encode(O.secretKey));const R={walletName:S,chain:s,address:O.publicKey.toBase58(),privateKey:O.secretKey,mnemonicPhrase:"Solana does not use a mnemonic phrase",isImported:!1};console.log("new wallet:",R);var A=JSON.parse(localStorage.getItem("wallets"));if(A){A.push(R),console.log(A),localStorage.setItem("wallets",JSON.stringify(A));const N=localStorage.getItem("wallets");ln.set(JSON.parse(N))}else localStorage.setItem("wallets",JSON.stringify([R])),ln.set([R])}}const a=[[]],c=()=>Ss.set(!0),f=()=>cc.set(!1),l=()=>cc.set(!1);function h(){s=this.__value,t(1,s)}function w(){s=this.__value,t(1,s)}function b(){i=this.value,t(0,i)}return[i,s,o,c,f,l,h,a,w,b,()=>o(s,i)]}class T4 extends lr{constructor(e){super(),ur(this,e,R4,I4,ir,{})}}var ub=(r=>(r[r.Ethereum=0]="Ethereum",r[r.IMX=1]="IMX",r[r.Solana=2]="Solana",r[r.Loopring=3]="Loopring",r[r.Cantos=4]="Cantos",r))(ub||{});const N4="logger/5.7.0";let Zh=!1,Xh=!1;const ec={debug:1,default:2,info:2,warning:3,error:4,off:5};let Qh=ec.default,Iu=null;function P4(){try{const r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{r.push(e)}}),r.length)throw new Error("missing "+r.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(r){return r.message}return null}const ep=P4();var gl;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})(gl||(gl={}));var yn;(function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED",r.ACTION_REJECTED="ACTION_REJECTED"})(yn||(yn={}));const tp="0123456789abcdef";let Dr=class rr{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const n=e.toLowerCase();ec[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(Qh>ec[n])&&console.log.apply(console,t)}debug(...e){this._log(rr.levels.DEBUG,e)}info(...e){this._log(rr.levels.INFO,e)}warn(...e){this._log(rr.levels.WARNING,e)}makeError(e,t,n){if(Xh)return this.makeError("censored error",t,{});t||(t=rr.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let h=0;h<f.length;h++)l+=tp[f[h]>>4],l+=tp[f[h]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${t}`),i.push(`version=${this.version}`);const s=e;let o="";switch(t){case yn.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case yn.CALL_EXCEPTION:case yn.INSUFFICIENT_FUNDS:case yn.MISSING_NEW:case yn.NONCE_EXPIRED:case yn.REPLACEMENT_UNDERPRICED:case yn.TRANSACTION_REPLACED:case yn.UNPREDICTABLE_GAS_LIMIT:o=t;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=t,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,rr.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,i){e||this.throwError(t,n,i)}assertArgument(e,t,n,i){e||this.throwArgumentError(t,n,i)}checkNormalize(e){ep&&this.throwError("platform missing String.prototype.normalize",rr.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:ep})}checkSafeUint53(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,rr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,rr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n?n=": "+n:n="",e<t&&this.throwError("missing argument"+n,rr.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,rr.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||e==null)&&this.throwError("missing new",rr.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",rr.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",rr.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return Iu||(Iu=new rr(N4)),Iu}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",rr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Zh){if(!e)return;this.globalLogger().throwError("error censorship permanent",rr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Xh=!!e,Zh=!!t}static setLogLevel(e){const t=ec[e.toLowerCase()];if(t==null){rr.globalLogger().warn("invalid log level - "+e);return}Qh=t}static from(e){return new rr(e)}};Dr.errors=yn;Dr.levels=gl;const B4="bytes/5.7.0",Tt=new Dr(B4);function lb(r){return!!r.toHexString}function Os(r){return r.slice||(r.slice=function(){const e=Array.prototype.slice.call(arguments);return Os(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function O4(r){return $r(r)&&!(r.length%2)||ko(r)}function rp(r){return typeof r=="number"&&r==r&&r%1===0}function ko(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!rp(r.length)||r.length<0)return!1;for(let e=0;e<r.length;e++){const t=r[e];if(!rp(t)||t<0||t>=256)return!1}return!0}function Vi(r,e){if(e||(e={}),typeof r=="number"){Tt.checkSafeUint53(r,"invalid arrayify value");const t=[];for(;r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),Os(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),lb(r)&&(r=r.toHexString()),$r(r)){let t=r.substring(2);t.length%2&&(e.hexPad==="left"?t="0"+t:e.hexPad==="right"?t+="0":Tt.throwArgumentError("hex data is odd-length","value",r));const n=[];for(let i=0;i<t.length;i+=2)n.push(parseInt(t.substring(i,i+2),16));return Os(new Uint8Array(n))}return ko(r)?Os(new Uint8Array(r)):Tt.throwArgumentError("invalid arrayify value","value",r)}function Xk(r){const e=r.map(i=>Vi(i)),t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),Os(n)}function Qk(r){let e=Vi(r);if(e.length===0)return e;let t=0;for(;t<e.length&&e[t]===0;)t++;return t&&(e=e.slice(t)),e}function C4(r,e){r=Vi(r),r.length>e&&Tt.throwArgumentError("value out of range","value",arguments[0]);const t=new Uint8Array(e);return t.set(r,e-r.length),Os(t)}function $r(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}const Ru="0123456789abcdef";function Pr(r,e){if(e||(e={}),typeof r=="number"){Tt.checkSafeUint53(r,"invalid hexlify value");let t="";for(;r;)t=Ru[r&15]+t,r=Math.floor(r/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),lb(r))return r.toHexString();if($r(r))return r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":Tt.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(ko(r)){let t="0x";for(let n=0;n<r.length;n++){let i=r[n];t+=Ru[(i&240)>>4]+Ru[i&15]}return t}return Tt.throwArgumentError("invalid hexlify value","value",r)}function eE(r){if(typeof r!="string")r=Pr(r);else if(!$r(r)||r.length%2)return null;return(r.length-2)/2}function tE(r,e,t){return typeof r!="string"?r=Pr(r):(!$r(r)||r.length%2)&&Tt.throwArgumentError("invalid hexData","value",r),e=2+2*e,t!=null?"0x"+r.substring(e,2+2*t):"0x"+r.substring(e)}function rE(r){let e="0x";return r.forEach(t=>{e+=Pr(t).substring(2)}),e}function M4(r){const e=db(Pr(r,{hexPad:"left"}));return e==="0x"?"0x0":e}function db(r){typeof r!="string"&&(r=Pr(r)),$r(r)||Tt.throwArgumentError("invalid hex string","value",r),r=r.substring(2);let e=0;for(;e<r.length&&r[e]==="0";)e++;return"0x"+r.substring(e)}function Ko(r,e){for(typeof r!="string"?r=Pr(r):$r(r)||Tt.throwArgumentError("invalid hex string","value",r),r.length>2*e+2&&Tt.throwArgumentError("value out of range","value",arguments[1]);r.length<2*e+2;)r="0x0"+r.substring(2);return r}function nE(r){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(O4(r)){let t=Vi(r);t.length===64?(e.v=27+(t[32]>>7),t[32]&=127,e.r=Pr(t.slice(0,32)),e.s=Pr(t.slice(32,64))):t.length===65?(e.r=Pr(t.slice(0,32)),e.s=Pr(t.slice(32,64)),e.v=t[64]):Tt.throwArgumentError("invalid signature string","signature",r),e.v<27&&(e.v===0||e.v===1?e.v+=27:Tt.throwArgumentError("signature invalid v byte","signature",r)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=Pr(t.slice(32,64))}else{if(e.r=r.r,e.s=r.s,e.v=r.v,e.recoveryParam=r.recoveryParam,e._vs=r._vs,e._vs!=null){const i=C4(Vi(e._vs),32);e._vs=Pr(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&Tt.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),i[0]&=127;const o=Pr(i);e.s==null?e.s=o:e.s!==o&&Tt.throwArgumentError("signature v mismatch _vs","signature",r)}if(e.recoveryParam==null)e.v==null?Tt.throwArgumentError("signature missing v and recoveryParam","signature",r):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&Tt.throwArgumentError("signature recoveryParam mismatch v","signature",r)}e.r==null||!$r(e.r)?Tt.throwArgumentError("signature missing or invalid r","signature",r):e.r=Ko(e.r,32),e.s==null||!$r(e.s)?Tt.throwArgumentError("signature missing or invalid s","signature",r):e.s=Ko(e.s,32);const t=Vi(e.s);t[0]>=128&&Tt.throwArgumentError("signature s out of range","signature",r),e.recoveryParam&&(t[0]|=128);const n=Pr(t);e._vs&&($r(e._vs)||Tt.throwArgumentError("signature invalid _vs","signature",r),e._vs=Ko(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&Tt.throwArgumentError("signature _vs mismatch v and s","signature",r)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}const hb="bignumber/5.7.0";var Gc=co.BN;const Vn=new Dr(hb),Tu={},np=9007199254740991;function U4(r){return r!=null&&(Ce.isBigNumber(r)||typeof r=="number"&&r%1===0||typeof r=="string"&&!!r.match(/^-?[0-9]+$/)||$r(r)||typeof r=="bigint"||ko(r))}let ip=!1;class Ce{constructor(e,t){e!==Tu&&Vn.throwError("cannot call constructor directly; use BigNumber.from",Dr.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Mr(Le(this).fromTwos(e))}toTwos(e){return Mr(Le(this).toTwos(e))}abs(){return this._hex[0]==="-"?Ce.from(this._hex.substring(1)):this}add(e){return Mr(Le(this).add(Le(e)))}sub(e){return Mr(Le(this).sub(Le(e)))}div(e){return Ce.from(e).isZero()&&nn("division-by-zero","div"),Mr(Le(this).div(Le(e)))}mul(e){return Mr(Le(this).mul(Le(e)))}mod(e){const t=Le(e);return t.isNeg()&&nn("division-by-zero","mod"),Mr(Le(this).umod(t))}pow(e){const t=Le(e);return t.isNeg()&&nn("negative-power","pow"),Mr(Le(this).pow(t))}and(e){const t=Le(e);return(this.isNegative()||t.isNeg())&&nn("unbound-bitwise-result","and"),Mr(Le(this).and(t))}or(e){const t=Le(e);return(this.isNegative()||t.isNeg())&&nn("unbound-bitwise-result","or"),Mr(Le(this).or(t))}xor(e){const t=Le(e);return(this.isNegative()||t.isNeg())&&nn("unbound-bitwise-result","xor"),Mr(Le(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&nn("negative-width","mask"),Mr(Le(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&nn("negative-width","shl"),Mr(Le(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&nn("negative-width","shr"),Mr(Le(this).shrn(e))}eq(e){return Le(this).eq(Le(e))}lt(e){return Le(this).lt(Le(e))}lte(e){return Le(this).lte(Le(e))}gt(e){return Le(this).gt(Le(e))}gte(e){return Le(this).gte(Le(e))}isNegative(){return this._hex[0]==="-"}isZero(){return Le(this).isZero()}toNumber(){try{return Le(this).toNumber()}catch{nn("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Vn.throwError("this platform does not support BigInt",Dr.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?ip||(ip=!0,Vn.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Vn.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Dr.errors.UNEXPECTED_ARGUMENT,{}):Vn.throwError("BigNumber.toString does not accept parameters",Dr.errors.UNEXPECTED_ARGUMENT,{})),Le(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Ce)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Ce(Tu,oa(e)):e.match(/^-?[0-9]+$/)?new Ce(Tu,oa(new Gc(e))):Vn.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&nn("underflow","BigNumber.from",e),(e>=np||e<=-np)&&nn("overflow","BigNumber.from",e),Ce.from(String(e));const t=e;if(typeof t=="bigint")return Ce.from(t.toString());if(ko(t))return Ce.from(Pr(t));if(t)if(t.toHexString){const n=t.toHexString();if(typeof n=="string")return Ce.from(n)}else{let n=t._hex;if(n==null&&t.type==="BigNumber"&&(n=t.hex),typeof n=="string"&&($r(n)||n[0]==="-"&&$r(n.substring(1))))return Ce.from(n)}return Vn.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function oa(r){if(typeof r!="string")return oa(r.toString(16));if(r[0]==="-")return r=r.substring(1),r[0]==="-"&&Vn.throwArgumentError("invalid hex","value",r),r=oa(r),r==="0x00"?r:"-"+r;if(r.substring(0,2)!=="0x"&&(r="0x"+r),r==="0x")return"0x00";for(r.length%2&&(r="0x0"+r.substring(2));r.length>4&&r.substring(0,4)==="0x00";)r="0x"+r.substring(4);return r}function Mr(r){return Ce.from(oa(r))}function Le(r){const e=Ce.from(r).toHexString();return e[0]==="-"?new Gc("-"+e.substring(3),16):new Gc(e.substring(2),16)}function nn(r,e,t){const n={fault:r,operation:e};return t!=null&&(n.value=t),Vn.throwError(r,Dr.errors.NUMERIC_FAULT,n)}function iE(r){return new Gc(r,36).toString(16)}const Or=new Dr(hb),Wo={},pb=Ce.from(0),xb=Ce.from(-1);function gb(r,e,t,n){const i={fault:e,operation:t};return n!==void 0&&(i.value=n),Or.throwError(r,Dr.errors.NUMERIC_FAULT,i)}let Ho="0";for(;Ho.length<256;)Ho+=Ho;function k0(r){if(typeof r!="number")try{r=Ce.from(r).toNumber()}catch{}return typeof r=="number"&&r>=0&&r<=256&&!(r%1)?"1"+Ho.substring(0,r):Or.throwArgumentError("invalid decimal size","decimals",r)}function tc(r,e){e==null&&(e=0);const t=k0(e);r=Ce.from(r);const n=r.lt(pb);n&&(r=r.mul(xb));let i=r.mod(t).toString();for(;i.length<t.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=r.div(t).toString();return t.length===1?r=s:r=s+"."+i,n&&(r="-"+r),r}function Gn(r,e){e==null&&(e=0);const t=k0(e);(typeof r!="string"||!r.match(/^-?[0-9.]+$/))&&Or.throwArgumentError("invalid decimal value","value",r);const n=r.substring(0,1)==="-";n&&(r=r.substring(1)),r==="."&&Or.throwArgumentError("missing value","value",r);const i=r.split(".");i.length>2&&Or.throwArgumentError("too many decimal points","value",r);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>t.length-1&&gb("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<t.length-1;)o+="0";const a=Ce.from(s),c=Ce.from(o);let f=a.mul(t).add(c);return n&&(f=f.mul(xb)),f}class Cs{constructor(e,t,n,i){e!==Wo&&Or.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Dr.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=n,this.decimals=i,this.name=(t?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=k0(i),Object.freeze(this)}static from(e){if(e instanceof Cs)return e;typeof e=="number"&&(e=`fixed128x${e}`);let t=!0,n=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")t=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||Or.throwArgumentError("invalid fixed format","format",e),t=s[1]!=="u",n=parseInt(s[2]),i=parseInt(s[3])}}else if(e){const s=(o,a,c)=>e[o]==null?c:(typeof e[o]!==a&&Or.throwArgumentError("invalid fixed format ("+o+" not "+a+")","format."+o,e[o]),e[o]);t=s("signed","boolean",t),n=s("width","number",n),i=s("decimals","number",i)}return n%8&&Or.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&Or.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new Cs(Wo,t,n,i)}}class xr{constructor(e,t,n,i){e!==Wo&&Or.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Dr.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=t,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&Or.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const t=Gn(this._value,this.format.decimals),n=Gn(e._value,e.format.decimals);return xr.fromValue(t.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const t=Gn(this._value,this.format.decimals),n=Gn(e._value,e.format.decimals);return xr.fromValue(t.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const t=Gn(this._value,this.format.decimals),n=Gn(e._value,e.format.decimals);return xr.fromValue(t.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const t=Gn(this._value,this.format.decimals),n=Gn(e._value,e.format.decimals);return xr.fromValue(t.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let t=xr.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(t=t.subUnsafe(sp.toFormat(t.format))),t}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let t=xr.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(t=t.addUnsafe(sp.toFormat(t.format))),t}round(e){e==null&&(e=0);const t=this.toString().split(".");if(t.length===1&&t.push("0"),(e<0||e>80||e%1)&&Or.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;const n=xr.from("1"+Ho.substring(0,e),this.format),i=L4.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&Or.throwArgumentError("invalid byte width","width",e);const t=Ce.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return Ko(t,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return xr.fromString(this._value,e)}static fromValue(e,t,n){return n==null&&t!=null&&!U4(t)&&(n=t,t=null),t==null&&(t=0),n==null&&(n="fixed"),xr.fromString(tc(e,t),Cs.from(n))}static fromString(e,t){t==null&&(t="fixed");const n=Cs.from(t),i=Gn(e,n.decimals);!n.signed&&i.lt(pb)&&gb("unsigned value cannot be negative","overflow","value",e);let s=null;n.signed?s=i.toTwos(n.width).toHexString():(s=i.toHexString(),s=Ko(s,n.width/8));const o=tc(i,n.decimals);return new xr(Wo,s,o,n)}static fromBytes(e,t){t==null&&(t="fixed");const n=Cs.from(t);if(Vi(e).length>n.width/8)throw new Error("overflow");let i=Ce.from(e);n.signed&&(i=i.fromTwos(n.width));const s=i.toTwos((n.signed?0:1)+n.width).toHexString(),o=tc(i,n.decimals);return new xr(Wo,s,o,n)}static from(e,t){if(typeof e=="string")return xr.fromString(e,t);if(ko(e))return xr.fromBytes(e,t);try{return xr.fromValue(e,0,t)}catch(n){if(n.code!==Dr.errors.INVALID_ARGUMENT)throw n}return Or.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const sp=xr.from(1),L4=xr.from("0.5"),F4=["wei","kwei","mwei","gwei","szabo","finney","ether"];function D4(r,e){if(typeof e=="string"){const t=F4.indexOf(e);t!==-1&&(e=3*t)}return tc(r,e??18)}const $4="modulepreload",z4=function(r){return"/"+r},op={},ap=function(e,t,n){if(!t||t.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(t.map(s=>{if(s=z4(s),s in op)return;op[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!n)for(let l=i.length-1;l>=0;l--){const h=i[l];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const f=document.createElement("link");if(f.rel=o?"stylesheet":$4,o||(f.as="script",f.crossOrigin=""),f.href=s,document.head.appendChild(f),o)return new Promise((l,h)=>{f.addEventListener("load",l),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e())};var bl={},K4={get exports(){return bl},set exports(r){bl=r}},qc={},W4={get exports(){return qc},set exports(r){qc=r}},bb=function(e,t){return function(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];return e.apply(t,i)}},H4=bb,Oi=Object.prototype.toString;function E0(r){return Array.isArray(r)}function yl(r){return typeof r>"u"}function G4(r){return r!==null&&!yl(r)&&r.constructor!==null&&!yl(r.constructor)&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function yb(r){return Oi.call(r)==="[object ArrayBuffer]"}function q4(r){return Oi.call(r)==="[object FormData]"}function V4(r){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&yb(r.buffer),e}function j4(r){return typeof r=="string"}function Y4(r){return typeof r=="number"}function mb(r){return r!==null&&typeof r=="object"}function rc(r){if(Oi.call(r)!=="[object Object]")return!1;var e=Object.getPrototypeOf(r);return e===null||e===Object.prototype}function J4(r){return Oi.call(r)==="[object Date]"}function Z4(r){return Oi.call(r)==="[object File]"}function X4(r){return Oi.call(r)==="[object Blob]"}function wb(r){return Oi.call(r)==="[object Function]"}function Q4(r){return mb(r)&&wb(r.pipe)}function e5(r){return Oi.call(r)==="[object URLSearchParams]"}function t5(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function r5(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function S0(r,e){if(!(r===null||typeof r>"u"))if(typeof r!="object"&&(r=[r]),E0(r))for(var t=0,n=r.length;t<n;t++)e.call(null,r[t],t,r);else for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.call(null,r[i],i,r)}function ml(){var r={};function e(i,s){rc(r[s])&&rc(i)?r[s]=ml(r[s],i):rc(i)?r[s]=ml({},i):E0(i)?r[s]=i.slice():r[s]=i}for(var t=0,n=arguments.length;t<n;t++)S0(arguments[t],e);return r}function n5(r,e,t){return S0(e,function(i,s){t&&typeof i=="function"?r[s]=H4(i,t):r[s]=i}),r}function i5(r){return r.charCodeAt(0)===65279&&(r=r.slice(1)),r}var Wr={isArray:E0,isArrayBuffer:yb,isBuffer:G4,isFormData:q4,isArrayBufferView:V4,isString:j4,isNumber:Y4,isObject:mb,isPlainObject:rc,isUndefined:yl,isDate:J4,isFile:Z4,isBlob:X4,isFunction:wb,isStream:Q4,isURLSearchParams:e5,isStandardBrowserEnv:r5,forEach:S0,merge:ml,extend:n5,trim:t5,stripBOM:i5},hs=Wr;function cp(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var vb=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(hs.isURLSearchParams(t))i=t.toString();else{var s=[];hs.forEach(t,function(c,f){c===null||typeof c>"u"||(hs.isArray(c)?f=f+"[]":c=[c],hs.forEach(c,function(h){hs.isDate(h)?h=h.toISOString():hs.isObject(h)&&(h=JSON.stringify(h)),s.push(cp(f)+"="+cp(h))}))}),i=s.join("&")}if(i){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},s5=Wr;function _f(){this.handlers=[]}_f.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};_f.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};_f.prototype.forEach=function(e){s5.forEach(this.handlers,function(n){n!==null&&e(n)})};var o5=_f,a5=Wr,c5=function(e,t){a5.forEach(e,function(i,s){s!==t&&s.toUpperCase()===t.toUpperCase()&&(e[t]=i,delete e[s])})},_b=function(e,t,n,i,s){return e.config=t,n&&(e.code=n),e.request=i,e.response=s,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},kb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Nu,fp;function Eb(){if(fp)return Nu;fp=1;var r=_b;return Nu=function(t,n,i,s,o){var a=new Error(t);return r(a,n,i,s,o)},Nu}var Pu,up;function f5(){if(up)return Pu;up=1;var r=Eb();return Pu=function(t,n,i){var s=i.config.validateStatus;!i.status||!s||s(i.status)?t(i):n(r("Request failed with status code "+i.status,i.config,null,i.request,i))},Pu}var Bu,lp;function u5(){if(lp)return Bu;lp=1;var r=Wr;return Bu=r.isStandardBrowserEnv()?function(){return{write:function(n,i,s,o,a,c){var f=[];f.push(n+"="+encodeURIComponent(i)),r.isNumber(s)&&f.push("expires="+new Date(s).toGMTString()),r.isString(o)&&f.push("path="+o),r.isString(a)&&f.push("domain="+a),c===!0&&f.push("secure"),document.cookie=f.join("; ")},read:function(n){var i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Bu}var Ou,dp;function l5(){return dp||(dp=1,Ou=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}),Ou}var Cu,hp;function d5(){return hp||(hp=1,Cu=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}),Cu}var Mu,pp;function h5(){if(pp)return Mu;pp=1;var r=l5(),e=d5();return Mu=function(n,i){return n&&!r(i)?e(n,i):i},Mu}var Uu,xp;function p5(){if(xp)return Uu;xp=1;var r=Wr,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Uu=function(n){var i={},s,o,a;return n&&r.forEach(n.split(`
`),function(f){if(a=f.indexOf(":"),s=r.trim(f.substr(0,a)).toLowerCase(),o=r.trim(f.substr(a+1)),s){if(i[s]&&e.indexOf(s)>=0)return;s==="set-cookie"?i[s]=(i[s]?i[s]:[]).concat([o]):i[s]=i[s]?i[s]+", "+o:o}}),i},Uu}var Lu,gp;function x5(){if(gp)return Lu;gp=1;var r=Wr;return Lu=r.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),i;function s(o){var a=o;return t&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=s(window.location.href),function(a){var c=r.isString(a)?s(a):a;return c.protocol===i.protocol&&c.host===i.host}}():function(){return function(){return!0}}(),Lu}var Fu,bp;function kf(){if(bp)return Fu;bp=1;function r(e){this.message=e}return r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,Fu=r,Fu}var Du,yp;function mp(){if(yp)return Du;yp=1;var r=Wr,e=f5(),t=u5(),n=vb,i=h5(),s=p5(),o=x5(),a=Eb(),c=kb,f=kf();return Du=function(h){return new Promise(function(b,m){var k=h.data,S=h.headers,A=h.responseType,O;function R(){h.cancelToken&&h.cancelToken.unsubscribe(O),h.signal&&h.signal.removeEventListener("abort",O)}r.isFormData(k)&&delete S["Content-Type"];var B=new XMLHttpRequest;if(h.auth){var N=h.auth.username||"",L=h.auth.password?unescape(encodeURIComponent(h.auth.password)):"";S.Authorization="Basic "+btoa(N+":"+L)}var $=i(h.baseURL,h.url);B.open(h.method.toUpperCase(),n($,h.params,h.paramsSerializer),!0),B.timeout=h.timeout;function K(){if(B){var J="getAllResponseHeaders"in B?s(B.getAllResponseHeaders()):null,q=!A||A==="text"||A==="json"?B.responseText:B.response,re={data:q,status:B.status,statusText:B.statusText,headers:J,config:h,request:B};e(function(u){b(u),R()},function(u){m(u),R()},re),B=null}}if("onloadend"in B?B.onloadend=K:B.onreadystatechange=function(){!B||B.readyState!==4||B.status===0&&!(B.responseURL&&B.responseURL.indexOf("file:")===0)||setTimeout(K)},B.onabort=function(){B&&(m(a("Request aborted",h,"ECONNABORTED",B)),B=null)},B.onerror=function(){m(a("Network Error",h,null,B)),B=null},B.ontimeout=function(){var q=h.timeout?"timeout of "+h.timeout+"ms exceeded":"timeout exceeded",re=h.transitional||c;h.timeoutErrorMessage&&(q=h.timeoutErrorMessage),m(a(q,h,re.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",B)),B=null},r.isStandardBrowserEnv()){var Y=(h.withCredentials||o($))&&h.xsrfCookieName?t.read(h.xsrfCookieName):void 0;Y&&(S[h.xsrfHeaderName]=Y)}"setRequestHeader"in B&&r.forEach(S,function(q,re){typeof k>"u"&&re.toLowerCase()==="content-type"?delete S[re]:B.setRequestHeader(re,q)}),r.isUndefined(h.withCredentials)||(B.withCredentials=!!h.withCredentials),A&&A!=="json"&&(B.responseType=h.responseType),typeof h.onDownloadProgress=="function"&&B.addEventListener("progress",h.onDownloadProgress),typeof h.onUploadProgress=="function"&&B.upload&&B.upload.addEventListener("progress",h.onUploadProgress),(h.cancelToken||h.signal)&&(O=function(J){B&&(m(!J||J&&J.type?new f("canceled"):J),B.abort(),B=null)},h.cancelToken&&h.cancelToken.subscribe(O),h.signal&&(h.signal.aborted?O():h.signal.addEventListener("abort",O))),k||(k=null),B.send(k)})},Du}var gr=Wr,wp=c5,g5=_b,b5=kb,y5={"Content-Type":"application/x-www-form-urlencoded"};function vp(r,e){!gr.isUndefined(r)&&gr.isUndefined(r["Content-Type"])&&(r["Content-Type"]=e)}function m5(){var r;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(r=mp()),r}function w5(r,e,t){if(gr.isString(r))try{return(e||JSON.parse)(r),gr.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(r)}var Ef={transitional:b5,adapter:m5(),transformRequest:[function(e,t){return wp(t,"Accept"),wp(t,"Content-Type"),gr.isFormData(e)||gr.isArrayBuffer(e)||gr.isBuffer(e)||gr.isStream(e)||gr.isFile(e)||gr.isBlob(e)?e:gr.isArrayBufferView(e)?e.buffer:gr.isURLSearchParams(e)?(vp(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):gr.isObject(e)||t&&t["Content-Type"]==="application/json"?(vp(t,"application/json"),w5(e)):e}],transformResponse:[function(e){var t=this.transitional||Ef.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,s=!n&&this.responseType==="json";if(s||i&&gr.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(s)throw o.name==="SyntaxError"?g5(o,this,"E_JSON_PARSE"):o}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};gr.forEach(["delete","get","head"],function(e){Ef.headers[e]={}});gr.forEach(["post","put","patch"],function(e){Ef.headers[e]=gr.merge(y5)});var A0=Ef,v5=Wr,_5=A0,k5=function(e,t,n){var i=this||_5;return v5.forEach(n,function(o){e=o.call(i,e,t)}),e},$u,_p;function Sb(){return _p||(_p=1,$u=function(e){return!!(e&&e.__CANCEL__)}),$u}var kp=Wr,zu=k5,E5=Sb(),S5=A0,A5=kf();function Ku(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new A5("canceled")}var I5=function(e){Ku(e),e.headers=e.headers||{},e.data=zu.call(e,e.data,e.headers,e.transformRequest),e.headers=kp.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),kp.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var t=e.adapter||S5.adapter;return t(e).then(function(i){return Ku(e),i.data=zu.call(e,i.data,i.headers,e.transformResponse),i},function(i){return E5(i)||(Ku(e),i&&i.response&&(i.response.data=zu.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},qr=Wr,Ab=function(e,t){t=t||{};var n={};function i(l,h){return qr.isPlainObject(l)&&qr.isPlainObject(h)?qr.merge(l,h):qr.isPlainObject(h)?qr.merge({},h):qr.isArray(h)?h.slice():h}function s(l){if(qr.isUndefined(t[l])){if(!qr.isUndefined(e[l]))return i(void 0,e[l])}else return i(e[l],t[l])}function o(l){if(!qr.isUndefined(t[l]))return i(void 0,t[l])}function a(l){if(qr.isUndefined(t[l])){if(!qr.isUndefined(e[l]))return i(void 0,e[l])}else return i(void 0,t[l])}function c(l){if(l in t)return i(e[l],t[l]);if(l in e)return i(void 0,e[l])}var f={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return qr.forEach(Object.keys(e).concat(Object.keys(t)),function(h){var w=f[h]||s,b=w(h);qr.isUndefined(b)&&w!==c||(n[h]=b)}),n},Wu,Ep;function Ib(){return Ep||(Ep=1,Wu={version:"0.26.1"}),Wu}var R5=Ib().version,I0={};["object","boolean","number","function","string","symbol"].forEach(function(r,e){I0[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});var Sp={};I0.transitional=function(e,t,n){function i(s,o){return"[Axios v"+R5+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return function(s,o,a){if(e===!1)throw new Error(i(o," has been removed"+(t?" in "+t:"")));return t&&!Sp[o]&&(Sp[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};function T5(r,e,t){if(typeof r!="object")throw new TypeError("options must be an object");for(var n=Object.keys(r),i=n.length;i-- >0;){var s=n[i],o=e[s];if(o){var a=r[s],c=a===void 0||o(a,s,r);if(c!==!0)throw new TypeError("option "+s+" must be "+c);continue}if(t!==!0)throw Error("Unknown option "+s)}}var N5={assertOptions:T5,validators:I0},Rb=Wr,P5=vb,Ap=o5,Ip=I5,Sf=Ab,Tb=N5,ps=Tb.validators;function _a(r){this.defaults=r,this.interceptors={request:new Ap,response:new Ap}}_a.prototype.request=function(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Sf(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;n!==void 0&&Tb.assertOptions(n,{silentJSONParsing:ps.transitional(ps.boolean),forcedJSONParsing:ps.transitional(ps.boolean),clarifyTimeoutError:ps.transitional(ps.boolean)},!1);var i=[],s=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(t)===!1||(s=s&&b.synchronous,i.unshift(b.fulfilled,b.rejected))});var o=[];this.interceptors.response.forEach(function(b){o.push(b.fulfilled,b.rejected)});var a;if(!s){var c=[Ip,void 0];for(Array.prototype.unshift.apply(c,i),c=c.concat(o),a=Promise.resolve(t);c.length;)a=a.then(c.shift(),c.shift());return a}for(var f=t;i.length;){var l=i.shift(),h=i.shift();try{f=l(f)}catch(w){h(w);break}}try{a=Ip(f)}catch(w){return Promise.reject(w)}for(;o.length;)a=a.then(o.shift(),o.shift());return a};_a.prototype.getUri=function(e){return e=Sf(this.defaults,e),P5(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};Rb.forEach(["delete","get","head","options"],function(e){_a.prototype[e]=function(t,n){return this.request(Sf(n||{},{method:e,url:t,data:(n||{}).data}))}});Rb.forEach(["post","put","patch"],function(e){_a.prototype[e]=function(t,n,i){return this.request(Sf(i||{},{method:e,url:t,data:n}))}});var B5=_a,Hu,Rp;function O5(){if(Rp)return Hu;Rp=1;var r=kf();function e(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(o){n=o});var i=this;this.promise.then(function(s){if(i._listeners){var o,a=i._listeners.length;for(o=0;o<a;o++)i._listeners[o](s);i._listeners=null}}),this.promise.then=function(s){var o,a=new Promise(function(c){i.subscribe(c),o=c}).then(s);return a.cancel=function(){i.unsubscribe(o)},a},t(function(o){i.reason||(i.reason=new r(o),n(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},e.prototype.unsubscribe=function(n){if(this._listeners){var i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var n,i=new e(function(o){n=o});return{token:i,cancel:n}},Hu=e,Hu}var Gu,Tp;function C5(){return Tp||(Tp=1,Gu=function(e){return function(n){return e.apply(null,n)}}),Gu}var qu,Np;function M5(){if(Np)return qu;Np=1;var r=Wr;return qu=function(t){return r.isObject(t)&&t.isAxiosError===!0},qu}var Pp=Wr,U5=bb,nc=B5,L5=Ab,F5=A0;function Nb(r){var e=new nc(r),t=U5(nc.prototype.request,e);return Pp.extend(t,nc.prototype,e),Pp.extend(t,e),t.create=function(i){return Nb(L5(r,i))},t}var Wn=Nb(F5);Wn.Axios=nc;Wn.Cancel=kf();Wn.CancelToken=O5();Wn.isCancel=Sb();Wn.VERSION=Ib().version;Wn.all=function(e){return Promise.all(e)};Wn.spread=C5();Wn.isAxiosError=M5();W4.exports=Wn;qc.default=Wn;(function(r){r.exports=qc})(K4);const Pb=Hl(bl);var De;(function(r){r.ETH_MAINNET="eth-mainnet",r.ETH_ROPSTEN="eth-ropsten",r.ETH_GOERLI="eth-goerli",r.ETH_KOVAN="eth-kovan",r.ETH_RINKEBY="eth-rinkeby",r.ETH_SEPOLIA="eth-sepolia",r.OPT_MAINNET="opt-mainnet",r.OPT_KOVAN="opt-kovan",r.OPT_GOERLI="opt-goerli",r.ARB_MAINNET="arb-mainnet",r.ARB_RINKEBY="arb-rinkeby",r.ARB_GOERLI="arb-goerli",r.MATIC_MAINNET="polygon-mainnet",r.MATIC_MUMBAI="polygon-mumbai",r.ASTAR_MAINNET="astar-mainnet",r.POLYGONZKEVM_MAINNET="polygonzkevm-mainnet",r.POLYGONZKEVM_TESTNET="polygonzkevm-testnet"})(De||(De={}));var Go;(function(r){r.DEFAULT_TOKENS="DEFAULT_TOKENS",r.ERC20="erc20"})(Go||(Go={}));var dn;(function(r){r.EXTERNAL="external",r.INTERNAL="internal",r.ERC20="erc20",r.ERC721="erc721",r.ERC1155="erc1155",r.SPECIALNFT="specialnft"})(dn||(dn={}));var Bp;(function(r){r.ASCENDING="asc",r.DESCENDING="desc"})(Bp||(Bp={}));var Jr;(function(r){r.ERC721="ERC721",r.ERC1155="ERC1155",r.NO_SUPPORTED_NFT_STANDARD="NO_SUPPORTED_NFT_STANDARD",r.NOT_A_CONTRACT="NOT_A_CONTRACT",r.UNKNOWN="UNKNOWN"})(Jr||(Jr={}));var Op;(function(r){r.Erc721TooManyOwners="Erc721TooManyOwners",r.Erc721TooManyTokens="Erc721TooManyTokens",r.Erc721DishonestTotalSupply="Erc721DishonestTotalSupply",r.MostlyHoneyPotOwners="MostlyHoneyPotOwners",r.OwnedByMostHoneyPots="OwnedByMostHoneyPots"})(Op||(Op={}));var Cp;(function(r){r.SPAM="SPAM",r.AIRDROPS="AIRDROPS"})(Cp||(Cp={}));var Mp;(function(r){r.SPAM="SPAM",r.AIRDROPS="AIRDROPS"})(Mp||(Mp={}));var Up;(function(r){r.TRANSFERTIME="TRANSFERTIME"})(Up||(Up={}));var wl;(function(r){r.TO="TO",r.FROM="FROM"})(wl||(wl={}));var Lp;(function(r){r.ASCENDING="asc",r.DESCENDING="desc"})(Lp||(Lp={}));var li;(function(r){r.SEAPORT="seaport",r.LOOKSRARE="looksrare",r.X2Y2="x2y2",r.WYVERN="wyvern",r.CRYPTOPUNKS="cryptopunks",r.UNKNOWN="unknown"})(li||(li={}));var Vc;(function(r){r.BUYER="buyer",r.SELLER="seller"})(Vc||(Vc={}));var di;(function(r){r.DOES_NOT_EXIST="does_not_exist",r.ALREADY_QUEUED="already_queued",r.IN_PROGRESS="in_progress",r.FINISHED="finished",r.QUEUED="queued",r.QUEUE_FAILED="queue_failed"})(di||(di={}));var vl;(function(r){r.VERIFIED="verified",r.APPROVED="approved",r.REQUESTED="requested",r.NOT_REQUESTED="not_requested"})(vl||(vl={}));var Ni;(function(r){r.PENDING_TRANSACTIONS="alchemy_pendingTransactions",r.MINED_TRANSACTIONS="alchemy_minedTransactions"})(Ni||(Ni={}));var Fp;(function(r){r.NATIVE="NATIVE",r.ERC20="ERC20",r.ERC721="ERC721",r.ERC1155="ERC1155",r.SPECIAL_NFT="SPECIAL_NFT"})(Fp||(Fp={}));var Dp;(function(r){r.APPROVE="APPROVE",r.TRANSFER="TRANSFER"})(Dp||(Dp={}));var $p;(function(r){r.ETHERSCAN="ETHERSCAN"})($p||($p={}));var zp;(function(r){r.CREATE="CREATE",r.CALL="CALL",r.STATICCALL="STATICCALL",r.DELEGATECALL="DELEGATECALL"})(zp||(zp={}));var Kp;(function(r){r.UNSPECIFIED="TRANSACTION_JOB_STATUS_UNSPECIFIED",r.IN_PROGRESS="IN_PROGRESS",r.COMPLETE="COMPLETE",r.ABANDONED="ABANDONED"})(Kp||(Kp={}));var Wp;(function(r){r.V1="V1",r.V2="V2"})(Wp||(Wp={}));var jn;(function(r){r.MINED_TRANSACTION="MINED_TRANSACTION",r.DROPPED_TRANSACTION="DROPPED_TRANSACTION",r.ADDRESS_ACTIVITY="ADDRESS_ACTIVITY",r.NFT_ACTIVITY="NFT_ACTIVITY",r.NFT_METADATA_UPDATE="NFT_METADATA_UPDATE",r.GRAPHQL="GRAPHQL"})(jn||(jn={}));var Hp;(function(r){r.PENDING="pending",r.LATEST="latest",r.SAFE="safe",r.FINALIZED="finalized",r.EARLIEST="earliest"})(Hp||(Hp={}));var Gp;(function(r){r.CALL_TRACER="callTracer",r.PRESTATE_TRACER="prestateTracer"})(Gp||(Gp={}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function te(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{f(n.next(l))}catch(h){o(h)}}function c(l){try{f(n.throw(l))}catch(h){o(h)}}function f(l){l.done?s(l.value):i(l.value).then(a,c)}f((n=n.apply(r,e||[])).next())})}function qp(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function _n(r){return this instanceof _n?(this.v=r,this):new _n(r)}function R0(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(w){n[w]&&(i[w]=function(b){return new Promise(function(m,k){s.push([w,b,m,k])>1||a(w,b)})})}function a(w,b){try{c(n[w](b))}catch(m){h(s[0][3],m)}}function c(w){w.value instanceof _n?Promise.resolve(w.value.v).then(f,l):h(s[0][2],w)}function f(w){a("next",w)}function l(w){a("throw",w)}function h(w,b){w(b),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Bb(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof qp=="function"?qp(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(s){t[s]=r[s]&&function(o){return new Promise(function(a,c){o=r[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(f){s({value:f,done:a})},o)}}const D5="demo",$5=De.ETH_MAINNET,z5=5,K5=0;function W5(r,e){return`https://${r}.g.alchemy.com/v2/${e}`}function H5(r,e){return`https://${r}.g.alchemy.com/nft/v2/${e}`}function sE(r,e){return`wss://${r}.g.alchemy.com/v2/${e}`}function G5(){return"https://dashboard.alchemy.com/api"}var ot;(function(r){r[r.BASE=0]="BASE",r[r.NFT=1]="NFT",r[r.WEBHOOK=2]="WEBHOOK"})(ot||(ot={}));const oE={[De.ETH_MAINNET]:"mainnet",[De.ETH_ROPSTEN]:"ropsten",[De.ETH_GOERLI]:"goerli",[De.ETH_KOVAN]:"kovan",[De.ETH_RINKEBY]:"rinkeby",[De.ETH_SEPOLIA]:"sepolia",[De.OPT_MAINNET]:"optimism",[De.OPT_KOVAN]:"optimism-kovan",[De.OPT_GOERLI]:"optimism-goerli",[De.ARB_MAINNET]:"arbitrum",[De.ARB_RINKEBY]:"arbitrum-rinkeby",[De.ARB_GOERLI]:"arbitrum-goerli",[De.MATIC_MAINNET]:"matic",[De.MATIC_MUMBAI]:"maticmum",[De.ASTAR_MAINNET]:"astar-mainnet",[De.POLYGONZKEVM_MAINNET]:"polygonzkevm-mainnet",[De.POLYGONZKEVM_TESTNET]:"polygonzkevm-testnet"},aE={"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"astar-mainnet":{chainId:592,name:"astar-mainnet"},sepolia:{chainId:11155111,name:"sepolia"},"polygonzkevm-mainnet":{chainId:1101,name:"polygonzkevm-mainnet"},"polygonzkevm-testnet":{chainId:1442,name:"polygonzkevm-testnet"}};function cE(){}const Ob="0x",q5="0x0000000000000000000000000000000000000000";class V5{constructor(e){this.apiKey=(e==null?void 0:e.apiKey)||D5,this.network=(e==null?void 0:e.network)||$5,this.maxRetries=(e==null?void 0:e.maxRetries)||z5,this.url=e==null?void 0:e.url,this.authToken=e==null?void 0:e.authToken,this.batchRequests=(e==null?void 0:e.batchRequests)||!1,this.requestTimeout=(e==null?void 0:e.requestTimeout)||K5}_getRequestUrl(e){return this.url!==void 0?this.url:e===ot.NFT?H5(this.network,this.apiKey):e===ot.WEBHOOK?G5():W5(this.network,this.apiKey)}getProvider(){return this._baseAlchemyProvider||(this._baseAlchemyProvider=(()=>te(this,void 0,void 0,function*(){const{AlchemyProvider:e}=yield ap(()=>import("./alchemy-provider-f7c978b3-c27add69.js").then(t=>t.a),[]);return new e(this)}))()),this._baseAlchemyProvider}getWebSocketProvider(){return this._baseAlchemyWssProvider||(this._baseAlchemyWssProvider=(()=>te(this,void 0,void 0,function*(){const{AlchemyWebSocketProvider:e}=yield ap(()=>import("./alchemy-websocket-provider-72e291d4-778f3895.js"),["assets/alchemy-websocket-provider-72e291d4-778f3895.js","assets/alchemy-provider-f7c978b3-c27add69.js"]);return new e(this)}))()),this._baseAlchemyWssProvider}}const j5="logger/5.7.0";let Vp=!1,jp=!1;const ic={debug:1,default:2,info:2,warning:3,error:4,off:5};let Yp=ic.default,Vu=null;function Y5(){try{const r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{r.push(e)}}),r.length)throw new Error("missing "+r.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(r){return r.message}return null}const Jp=Y5();var _l;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})(_l||(_l={}));var mn;(function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED",r.ACTION_REJECTED="ACTION_REJECTED"})(mn||(mn={}));const Zp="0123456789abcdef";class Rt{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const n=e.toLowerCase();ic[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(Yp>ic[n])&&console.log.apply(console,t)}debug(...e){this._log(Rt.levels.DEBUG,e)}info(...e){this._log(Rt.levels.INFO,e)}warn(...e){this._log(Rt.levels.WARNING,e)}makeError(e,t,n){if(jp)return this.makeError("censored error",t,{});t||(t=Rt.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let h=0;h<f.length;h++)l+=Zp[f[h]>>4],l+=Zp[f[h]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${t}`),i.push(`version=${this.version}`);const s=e;let o="";switch(t){case mn.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case mn.CALL_EXCEPTION:case mn.INSUFFICIENT_FUNDS:case mn.MISSING_NEW:case mn.NONCE_EXPIRED:case mn.REPLACEMENT_UNDERPRICED:case mn.TRANSACTION_REPLACED:case mn.UNPREDICTABLE_GAS_LIMIT:o=t;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=t,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,Rt.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,i){e||this.throwError(t,n,i)}assertArgument(e,t,n,i){e||this.throwArgumentError(t,n,i)}checkNormalize(e){Jp&&this.throwError("platform missing String.prototype.normalize",Rt.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Jp})}checkSafeUint53(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Rt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Rt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n?n=": "+n:n="",e<t&&this.throwError("missing argument"+n,Rt.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,Rt.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||e==null)&&this.throwError("missing new",Rt.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Rt.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Rt.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return Vu||(Vu=new Rt(j5)),Vu}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Rt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Vp){if(!e)return;this.globalLogger().throwError("error censorship permanent",Rt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}jp=!!e,Vp=!!t}static setLogLevel(e){const t=ic[e.toLowerCase()];if(t==null){Rt.globalLogger().warn("invalid log level - "+e);return}Yp=t}static from(e){return new Rt(e)}}Rt.errors=mn;Rt.levels=_l;const J5="properties/5.7.0";var Z5=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{f(n.next(l))}catch(h){o(h)}}function c(l){try{f(n.throw(l))}catch(h){o(h)}}function f(l){l.done?s(l.value):i(l.value).then(a,c)}f((n=n.apply(r,e||[])).next())})};const Cb=new Rt(J5);function X5(r,e,t){Object.defineProperty(r,e,{enumerable:!0,value:t,writable:!1})}function Mb(r){return Z5(this,void 0,void 0,function*(){const e=Object.keys(r).map(n=>{const i=r[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}const Q5={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Ub(r){if(r==null||Q5[typeof r])return!0;if(Array.isArray(r)||typeof r=="object"){if(!Object.isFrozen(r))return!1;const e=Object.keys(r);for(let t=0;t<e.length;t++){let n=null;try{n=r[e[t]]}catch{continue}if(!Ub(n))return!1}return!0}return Cb.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function e_(r){if(Ub(r))return r;if(Array.isArray(r))return Object.freeze(r.map(e=>Xp(e)));if(typeof r=="object"){const e={};for(const t in r){const n=r[t];n!==void 0&&X5(e,t,Xp(n))}return e}return Cb.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function Xp(r){return e_(r)}function t_(r){return Ce.from(r).toNumber()}function Af(r){return Ce.from(r).toHexString()}function Qp(r){return typeof r=="string"?r:Number.isInteger(r)?Af(r):r.toString()}function r_(r,e){return Object.values(e).includes(r)?r:void 0}function T0(r){return{address:r.address,name:r.contractMetadata.name,symbol:r.contractMetadata.symbol,totalSupply:r.contractMetadata.totalSupply,tokenType:If(r.contractMetadata.tokenType),openSea:N0(r.contractMetadata.openSea),contractDeployer:r.contractMetadata.contractDeployer,deployedBlockNumber:r.contractMetadata.deployedBlockNumber}}function Lb(r,e){var t;return{contract:e?{address:e}:r.contract,tokenId:Ce.from(r.id.tokenId).toString(),tokenType:If((t=r.id.tokenMetadata)===null||t===void 0?void 0:t.tokenType)}}function ka(r){var e,t,n,i,s,o,a;try{const c=If((e=r.id.tokenMetadata)===null||e===void 0?void 0:e.tokenType),f=f_(r.spamInfo);return{contract:{address:r.contract.address,name:(t=r.contractMetadata)===null||t===void 0?void 0:t.name,symbol:(n=r.contractMetadata)===null||n===void 0?void 0:n.symbol,totalSupply:(i=r.contractMetadata)===null||i===void 0?void 0:i.totalSupply,tokenType:c,openSea:N0((s=r.contractMetadata)===null||s===void 0?void 0:s.openSea),contractDeployer:(o=r.contractMetadata)===null||o===void 0?void 0:o.contractDeployer,deployedBlockNumber:(a=r.contractMetadata)===null||a===void 0?void 0:a.deployedBlockNumber},tokenId:c_(r.id.tokenId),tokenType:c,title:r.title,description:u_(r.description),timeLastUpdated:r.timeLastUpdated,metadataError:r.error,rawMetadata:r.metadata,tokenUri:Fb(r.tokenUri),media:l_(r.media),spamInfo:f}}catch(c){throw new Error("Error parsing the NFT response: "+c)}}function n_(r){return{pageKey:r==null?void 0:r.pageKey,nftSales:r.nftSales.map(e=>({marketplace:i_(e.marketplace),contractAddress:e.contractAddress,tokenId:e.tokenId,quantity:e.quantity,buyerAddress:e.buyerAddress,sellerAddress:e.sellerAddress,taker:s_(e.taker),sellerFee:e==null?void 0:e.sellerFee,marketplaceFee:e==null?void 0:e.protocolFee,protocolFee:e==null?void 0:e.protocolFee,royaltyFee:e==null?void 0:e.royaltyFee,blockNumber:e==null?void 0:e.blockNumber,logIndex:e.logIndex,bundleIndex:e.bundleIndex,transactionHash:e.transactionHash}))}}function i_(r){switch(r){case"looksrare":return li.LOOKSRARE;case"seaport":return li.SEAPORT;case"x2y2":return li.X2Y2;case"wyvern":return li.WYVERN;case"cryptopunks":return li.CRYPTOPUNKS;default:return li.UNKNOWN}}function s_(r){switch(r.toLowerCase()){case"buyer":return Vc.BUYER;case"seller":return Vc.SELLER;default:throw new Error(`Unsupported NftSaleTakerType ${r}`)}}function o_(r){return r.map(({prevalence:e,trait_type:t,value:n})=>({prevalence:e,traitType:t,value:n}))}function a_(r){return{pageKey:r==null?void 0:r.pageKey,totalCount:r.totalCount,contracts:r.contracts.map(e=>({address:e.address,totalSupply:e.totalSupply,isSpam:e.isSpam,media:e.media,numDistinctTokensOwned:e.numDistinctTokensOwned,tokenId:e.tokenId,totalBalance:e.totalBalance,name:e.name,title:e.title,openSea:N0(e==null?void 0:e.opensea),symbol:e==null?void 0:e.symbol,tokenType:If(e==null?void 0:e.tokenType),contractDeployer:e.contractDeployer,deployedBlockNumber:e.deployedBlockNumber}))}}function c_(r){return Ce.from(r).toString()}function If(r){switch(r){case"erc721":case"ERC721":return Jr.ERC721;case"erc1155":case"ERC1155":return Jr.ERC1155;case"no_supported_nft_standard":case"NO_SUPPORTED_NFT_STANDARD":return Jr.NO_SUPPORTED_NFT_STANDARD;case"not_a_contract":case"NOT_A_CONTRACT":return Jr.NOT_A_CONTRACT;default:return Jr.UNKNOWN}}function f_(r){if(!r)return;const{isSpam:e,classifications:t}=r;return{isSpam:e==="true",classifications:t}}function u_(r){return r===void 0?"":!Array.isArray(r)&&typeof r=="object"?JSON.stringify(r):typeof r=="string"?r:r.join(" ")}function Fb(r){if(!(r&&r.raw.length===0&&r.gateway.length==0))return r}function l_(r){return r===void 0?[]:r.filter(e=>Fb(e)!==void 0)}function N0(r){if(r!==void 0)return{floorPrice:r.floorPrice,collectionName:r.collectionName,safelistRequestStatus:r.safelistRequestStatus!==void 0?r_(r.safelistRequestStatus,vl):void 0,imageUrl:r.imageUrl,description:r.description,externalUrl:r.externalUrl,twitterUsername:r.twitterUsername,discordUrl:r.discordUrl,lastIngestedAt:r.lastIngestedAt}}const d_=typeof window<"u"&&window!==null;function vs(r){if(r!==null){if(typeof r=="object")for(const e in r)r[e]=vs(r[e]);return r}}function Rf(r,e,t="getAssetTransfers"){return te(this,void 0,void 0,function*(){const n=yield r.getProvider();return e.fromAddress&&(e.fromAddress=yield n._getAddress(e.fromAddress)),e.toAddress&&(e.toAddress=yield n._getAddress(e.toAddress)),n._send("alchemy_getAssetTransfers",[Object.assign(Object.assign({},e),{fromBlock:e.fromBlock!=null?Qp(e.fromBlock):void 0,toBlock:e.toBlock!=null?Qp(e.toBlock):void 0,maxCount:e.maxCount!=null?Af(e.maxCount):void 0})],t)})}function ex(r,e,t="getTransactionReceipts"){return te(this,void 0,void 0,function*(){return(yield r.getProvider())._send("alchemy_getTransactionReceipts",[e],t)})}function h_(r,e){return te(this,void 0,void 0,function*(){const t=yield r.getProvider();yield t.getNetwork();const n=yield Mb({filter:p_(r,e)}),i=yield t.send("eth_getLogs",[n.filter]);return i.forEach(s=>{s.removed==null&&(s.removed=!1)}),x_(t.formatter.filterLog.bind(t.formatter))(i)})}function p_(r,e){return te(this,void 0,void 0,function*(){const t=yield r.getProvider(),n=yield e;let i={};return["blockHash","topics"].forEach(s=>{n[s]!=null&&(i[s]=n[s])}),["fromBlock","toBlock"].forEach(s=>{n[s]!=null&&(i[s]=t._getBlockTag(n[s]))}),i=t.formatter.filter(yield Mb(i)),Array.isArray(n.address)?i.address=yield Promise.all(n.address.map(s=>te(this,void 0,void 0,function*(){return t._getAddress(s)}))):n.address!=null&&(i.address=yield t._getAddress(n.address)),i})}function x_(r){return function(e){if(!Array.isArray(e))throw new Error("not an array");const t=[];return e.forEach(n=>{t.push(r(n))}),t}}class g_{constructor(e){this.config=e}getBalance(e,t){return te(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getBalance(e,t)})}getCode(e,t){return te(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getCode(e,t)})}getStorageAt(e,t,n){return te(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getStorageAt(e,t,n)})}getTransactionCount(e,t){return te(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getTransactionCount(e,t)})}getBlock(e){return te(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getBlock(e)})}getBlockWithTransactions(e){return te(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getBlockWithTransactions(e)})}getNetwork(){return te(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getNetwork()})}getBlockNumber(){return te(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getBlockNumber()})}getGasPrice(){return te(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getGasPrice()})}getFeeData(){return te(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getFeeData()})}ready(){return te(this,void 0,void 0,function*(){return(yield this.config.getProvider()).ready})}call(e,t){return te(this,void 0,void 0,function*(){return(yield this.config.getProvider()).call(e,t)})}estimateGas(e){return te(this,void 0,void 0,function*(){return(yield this.config.getProvider()).estimateGas(e)})}getTransaction(e){return te(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getTransaction(e)})}getTransactionReceipt(e){return te(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getTransactionReceipt(e)})}sendTransaction(e){return te(this,void 0,void 0,function*(){return(yield this.config.getProvider()).sendTransaction(e)})}waitForTransaction(e,t,n){return te(this,void 0,void 0,function*(){return(yield this.config.getProvider()).waitForTransaction(e,t,n)})}getLogs(e){return te(this,void 0,void 0,function*(){return h_(this.config,e)})}send(e,t){return te(this,void 0,void 0,function*(){return(yield this.config.getProvider()).send(e,t)})}findContractDeployer(e){var t;return te(this,void 0,void 0,function*(){const n=yield this.config.getProvider(),i=yield n.getBlockNumber();if((yield n.getCode(e,i))===Ob)throw new Error(`Contract '${e}' does not exist`);const s=yield kl(0,i+1,e,this.config),a=(t=(yield ex(this.config,{blockNumber:Af(s)},"findContractDeployer")).receipts)===null||t===void 0?void 0:t.find(c=>c.contractAddress===e.toLowerCase());return{deployerAddress:a==null?void 0:a.from,blockNumber:s}})}getTokenBalances(e,t){return te(this,void 0,void 0,function*(){const n=yield this.config.getProvider(),i=yield n._getAddress(e);if(Array.isArray(t)){if(t.length>1500)throw new Error("You cannot pass in more than 1500 contract addresses to getTokenBalances()");if(t.length===0)throw new Error("getTokenBalances() requires at least one contractAddress when using an array");return n._send("alchemy_getTokenBalances",[i,t],"getTokenBalances")}else{const s=t===void 0?Go.ERC20:t.type,o=[i,s];return(t==null?void 0:t.type)===Go.ERC20&&t.pageKey&&o.push({pageKey:t.pageKey}),n._send("alchemy_getTokenBalances",o,"getTokenBalances")}})}getTokensForOwner(e,t){var n;return te(this,void 0,void 0,function*(){const i=yield this.config.getProvider(),o=[yield i._getAddress(e),(n=t==null?void 0:t.contractAddresses)!==null&&n!==void 0?n:Go.ERC20];t!=null&&t.pageKey&&o.push({pageKey:t.pageKey});const a=yield i._send("alchemy_getTokenBalances",o,"getTokensForOwner"),c=a.tokenBalances.map(h=>({contractAddress:h.contractAddress,rawBalance:Ce.from(h.tokenBalance).toString()})),f=yield Promise.all(a.tokenBalances.map(h=>i._send("alchemy_getTokenMetadata",[h.contractAddress],"getTokensForOwner",!0)));return{tokens:c.map((h,w)=>Object.assign(Object.assign(Object.assign({},h),f[w]),{balance:f[w].decimals!==null?D4(h.rawBalance,f[w].decimals):void 0})).map(vs),pageKey:a.pageKey}})}getTokenMetadata(e){return te(this,void 0,void 0,function*(){return(yield this.config.getProvider())._send("alchemy_getTokenMetadata",[e],"getTokenMetadata")})}getAssetTransfers(e){return te(this,void 0,void 0,function*(){return Rf(this.config,e)})}getTransactionReceipts(e){return te(this,void 0,void 0,function*(){return ex(this.config,e)})}resolveName(e){return te(this,void 0,void 0,function*(){return(yield this.config.getProvider()).resolveName(e)})}lookupAddress(e){return te(this,void 0,void 0,function*(){return(yield this.config.getProvider()).lookupAddress(e)})}}function kl(r,e,t,n){return te(this,void 0,void 0,function*(){if(r>=e)return e;const i=Math.floor((r+e)/2);return(yield(yield n.getProvider()).getCode(t,i))===Ob?kl(i+1,e,t,n):kl(r,i,t,n)})}class b_{constructor(e){this.config=e}traceCall(e,t,n){return te(this,void 0,void 0,function*(){const i=yield this.config.getProvider(),s=[e,t,Ka(n)];return i._send("debug_traceCall",s,"traceCall")})}traceTransaction(e,t,n){return te(this,void 0,void 0,function*(){const i=yield this.config.getProvider(),s=[e,Ka(t,n)];return i._send("debug_traceTransaction",s,"traceTransaction")})}traceBlock(e,t){return te(this,void 0,void 0,function*(){const n=yield this.config.getProvider();let i,s;return $r(e,32)?(i="debug_traceBlockByHash",s=[e,Ka(t)]):(i="debug_traceBlockByNumber",s=[typeof e=="number"?db(M4(e)):e,Ka(t)]),n._send(i,s,"traceBlock")})}}function Ka(r,e){return Object.assign({tracer:r.type},r.onlyTopCall!==void 0&&{tracerConfig:{onlyTopCall:r.onlyTopCall,timeout:e}})}function y_(r){if(r===Jr.ERC1155||r===Jr.ERC721)return r}var wr;(function(r){r[r.DEBUG=0]="DEBUG",r[r.INFO=1]="INFO",r[r.WARN=2]="WARN",r[r.ERROR=3]="ERROR",r[r.SILENT=4]="SILENT"})(wr||(wr={}));wr.DEBUG,wr.INFO,wr.WARN,wr.ERROR,wr.SILENT;const m_={[wr.DEBUG]:"log",[wr.INFO]:"info",[wr.WARN]:"warn",[wr.ERROR]:"error"},w_=wr.INFO;function Db(r,...e){P0.debug(r,e)}function tx(r,...e){P0.info(r,e)}function fE(r,...e){P0.warn(r,e)}class v_{constructor(){this._logLevel=w_}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in wr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}debug(...e){this._log(wr.DEBUG,...e)}info(...e){this._log(wr.INFO,...e)}warn(...e){this._log(wr.WARN,...e)}error(...e){this._log(wr.ERROR,...e)}_log(e,...t){if(e<this._logLevel)return;const n=new Date().toISOString(),i=m_[e];if(i)console[i](`[${n}] Alchemy:`,...t.map(__));else throw new Error(`Logger received an invalid logLevel (value: ${e})`)}}function __(r){if(typeof r=="string")return r;try{return JSON.stringify(r)}catch{return r}}const P0=new v_,k_="2.8.1";function E_(r,e,t,n,i){var s;const o=r+"/"+e,a=Object.assign(Object.assign({},i),{headers:Object.assign(Object.assign(Object.assign({},i==null?void 0:i.headers),!d_&&{"Accept-Encoding":"gzip"}),{"Alchemy-Ethers-Sdk-Version":k_,"Alchemy-Ethers-Sdk-Method":t}),method:(s=i==null?void 0:i.method)!==null&&s!==void 0?s:"GET",url:o,params:n});return Pb(a)}const S_=1e3,A_=1.5,I_=30*1e3,R_=5;class T_{constructor(e=R_){this.maxAttempts=e,this.initialDelayMs=S_,this.backoffMultiplier=A_,this.maxDelayMs=I_,this.numAttempts=0,this.currentDelayMs=0,this.isInBackoff=!1}backoff(){if(this.numAttempts>=this.maxAttempts)return Promise.reject(new Error(`Exceeded maximum number of attempts: ${this.maxAttempts}`));if(this.isInBackoff)return Promise.reject(new Error("A backoff operation is already in progress"));const e=this.withJitterMs(this.currentDelayMs);return e>0&&Db("ExponentialBackoff.backoff",`Backing off for ${e}ms`),this.currentDelayMs*=this.backoffMultiplier,this.currentDelayMs=Math.max(this.currentDelayMs,this.initialDelayMs),this.currentDelayMs=Math.min(this.currentDelayMs,this.maxDelayMs),this.numAttempts+=1,new Promise(t=>{this.isInBackoff=!0,setTimeout(()=>{this.isInBackoff=!1,t()},e)})}withJitterMs(e){return Math.min(e+(Math.random()-.5)*e,this.maxDelayMs)}}function er(r,e,t,n,i,s){return te(this,void 0,void 0,function*(){let o;const a=new T_(r.maxRetries);for(let c=0;c<r.maxRetries+1;c++)try{o!==void 0&&tx("requestHttp",`Retrying after error: ${o.message}`);try{yield a.backoff()}catch{break}const f=yield E_(r._getRequestUrl(e),t,n,i,Object.assign(Object.assign({},s),{timeout:r.requestTimeout}));if(f.status===200)return Db(t,`Successful request: ${t}`),f.data;tx(t,`Request failed: ${t}, ${f.status}, ${f.data}`),o=new Error(f.status+": "+f.data)}catch(f){if(!Pb.isAxiosError(f)||f.response===void 0)throw f;if(o=new Error(f.response.status+": "+f.response.data),!N_(f,e))break}return Promise.reject(o)})}function N_(r,e){const t=e===ot.WEBHOOK?[429,500]:[429];return r.response!==void 0&&t.includes(r.response.status)}function $b(r,e,t,n,i,s,o){return R0(this,arguments,function*(){let c=!0;const f=Object.assign({},o);for(;c;){const l=yield _n(er(r,e,t,n,f));yield yield _n(l),l[s]!==void 0?f[i]=l[s]:c=!1}})}function zb(r,e,t,n,i="getNftMetadata"){return te(this,void 0,void 0,function*(){const s=yield er(r,ot.NFT,"getNFTMetadata",i,{contractAddress:e,tokenId:Ce.from(t).toString(),tokenType:y_(n==null?void 0:n.tokenType),tokenUriTimeoutInMs:n==null?void 0:n.tokenUriTimeoutInMs,refreshCache:n==null?void 0:n.refreshCache});return ka(s)})}function Kb(r,e,t){return te(this,void 0,void 0,function*(){const n={tokens:e,tokenUriTimeoutInMs:t==null?void 0:t.tokenUriTimeoutInMs,refreshCache:t==null?void 0:t.refreshCache};return(yield er(r,ot.NFT,"getNFTMetadataBatch","getNftMetadataBatch",{},{method:"POST",data:n})).map(ka)})}function P_(r,e,t="getContractMetadata"){return te(this,void 0,void 0,function*(){const n=yield er(r,ot.NFT,"getContractMetadata",t,{contractAddress:e});return T0(n)})}function B_(r,e){return te(this,void 0,void 0,function*(){return(yield er(r,ot.NFT,"getContractMetadataBatch","getContractMetadataBatch",{},{method:"POST",data:{contractAddresses:e}})).map(T0)})}function O_(r,e,t,n="getNftsForOwnerIterator"){return R0(this,arguments,function*(){var s,o;const a=Tf(t==null?void 0:t.omitMetadata);try{for(var c=Bb($b(r,ot.NFT,"getNFTs",n,"pageKey","pageKey",{contractAddresses:t==null?void 0:t.contractAddresses,pageKey:t==null?void 0:t.pageKey,filters:t==null?void 0:t.excludeFilters,owner:e,withMetadata:a})),f;f=yield _n(c.next()),!f.done;){const l=f.value;for(const h of l.ownedNfts)yield yield _n(Object.assign(Object.assign({},Hb(h)),{balance:parseInt(h.balance)}))}}catch(l){s={error:l}}finally{try{f&&!f.done&&(o=c.return)&&(yield _n(o.call(c)))}finally{if(s)throw s.error}}})}function jc(r,e,t,n="getNftsForOwner"){return te(this,void 0,void 0,function*(){const i=Tf(t==null?void 0:t.omitMetadata),s=yield er(r,ot.NFT,"getNFTs",n,{contractAddresses:t==null?void 0:t.contractAddresses,pageKey:t==null?void 0:t.pageKey,filters:t==null?void 0:t.excludeFilters,excludeFilters:t==null?void 0:t.excludeFilters,includeFilters:t==null?void 0:t.includeFilters,owner:e,pageSize:t==null?void 0:t.pageSize,withMetadata:i,tokenUriTimeoutInMs:t==null?void 0:t.tokenUriTimeoutInMs,orderBy:t==null?void 0:t.orderBy});return{ownedNfts:s.ownedNfts.map(o=>Object.assign(Object.assign({},Hb(o)),{balance:parseInt(o.balance)})),pageKey:s.pageKey,totalCount:s.totalCount,blockHash:s.blockHash}})}function C_(r,e,t,n="getNftsForContract"){var i;return te(this,void 0,void 0,function*(){const s=Tf(t==null?void 0:t.omitMetadata),o=yield er(r,ot.NFT,"getNFTsForCollection",n,{contractAddress:e,startToken:t==null?void 0:t.pageKey,withMetadata:s,limit:(i=t==null?void 0:t.pageSize)!==null&&i!==void 0?i:void 0,tokenUriTimeoutInMs:t==null?void 0:t.tokenUriTimeoutInMs});return{nfts:o.nfts.map(a=>Gb(a,e)),pageKey:o.nextToken}})}function M_(r,e,t,n="getNftsForContractIterator"){return R0(this,arguments,function*(){var s,o;const a=Tf(t==null?void 0:t.omitMetadata);try{for(var c=Bb($b(r,ot.NFT,"getNFTsForCollection",n,"startToken","nextToken",{contractAddress:e,startToken:t==null?void 0:t.pageKey,withMetadata:a})),f;f=yield _n(c.next()),!f.done;){const l=f.value;for(const h of l.nfts)yield yield _n(Gb(h,e))}}catch(l){s={error:l}}finally{try{f&&!f.done&&(o=c.return)&&(yield _n(o.call(c)))}finally{if(s)throw s.error}}})}function U_(r,e,t,n="getOwnersForContract"){return te(this,void 0,void 0,function*(){const i=yield er(r,ot.NFT,"getOwnersForCollection",n,Object.assign(Object.assign({},t),{contractAddress:e}));return Object.assign({owners:i.ownerAddresses},i.pageKey!==void 0&&{pageKey:i.pageKey})})}function L_(r,e,t,n="getContractsForOwner"){return te(this,void 0,void 0,function*(){const i=yield er(r,ot.NFT,"getContractsForOwner",n,{owner:e,excludeFilters:t==null?void 0:t.excludeFilters,includeFilters:t==null?void 0:t.includeFilters,pageKey:t==null?void 0:t.pageKey,pageSize:t==null?void 0:t.pageSize,orderBy:t==null?void 0:t.orderBy});return a_(i)})}function F_(r,e,t,n,i="getOwnersForNft"){return te(this,void 0,void 0,function*(){return er(r,ot.NFT,"getOwnersForToken",i,Object.assign({contractAddress:e,tokenId:Ce.from(t).toString()},n))})}function D_(r,e,t){return te(this,void 0,void 0,function*(){const i=yield(yield r.getProvider())._getAddress(e),s=Wb(t==null?void 0:t.tokenType),o={fromBlock:"0x0",fromAddress:q5,toAddress:i,excludeZeroValue:!0,contractAddresses:t==null?void 0:t.contractAddresses,category:s,maxCount:100,pageKey:t==null?void 0:t.pageKey},a=yield Rf(r,o,"getMintedNfts");return B0(r,a)})}function $_(r,e,t,n){return te(this,void 0,void 0,function*(){const s=yield(yield r.getProvider())._getAddress(e),o=Wb(n==null?void 0:n.tokenType),a={fromBlock:"0x0",excludeZeroValue:!0,contractAddresses:n==null?void 0:n.contractAddresses,category:o,maxCount:100,pageKey:n==null?void 0:n.pageKey};t===wl.TO?a.toAddress=s:a.fromAddress=s;const c=yield Rf(r,a,"getTransfersForOwner");return B0(r,c)})}function z_(r,e,t){return te(this,void 0,void 0,function*(){const n=[dn.ERC721,dn.ERC1155,dn.SPECIALNFT],i=yield r.getProvider(),s=t!=null&&t.fromBlock?i.formatter.blockTag(yield i._getBlockTag(t.fromBlock)):"0x0",o=t!=null&&t.toBlock?i.formatter.blockTag(yield i._getBlockTag(t.toBlock)):void 0,a={fromBlock:s,toBlock:o,excludeZeroValue:!0,contractAddresses:[e],order:t==null?void 0:t.order,category:n,maxCount:100,pageKey:t==null?void 0:t.pageKey},c=yield Rf(r,a,"getTransfersForContract");return B0(r,c)})}function Wb(r){switch(r){case Jr.ERC721:return[dn.ERC721];case Jr.ERC1155:return[dn.ERC1155];default:return[dn.ERC721,dn.ERC1155,dn.SPECIALNFT]}}function K_(r){return r.erc1155Metadata.map(e=>({contractAddress:r.rawContract.address,tokenId:e.tokenId,tokenType:Jr.ERC1155}))}function W_(r,e,t,n="checkNftOwnership"){return te(this,void 0,void 0,function*(){if(t.length===0)throw new Error("Must provide at least one contract address");return(yield jc(r,e,{contractAddresses:t,omitMetadata:!0},n)).ownedNfts.length>0})}function H_(r,e,t,n="verifyNftOwnership"){return te(this,void 0,void 0,function*(){if(typeof t=="string")return(yield jc(r,e,{contractAddresses:[t],omitMetadata:!0},n)).ownedNfts.length>0;{if(t.length===0)throw new Error("Must provide at least one contract address");const i=yield jc(r,e,{contractAddresses:t,omitMetadata:!0},n),s=t.reduce((o,a)=>(o[a]=!1,o),{});for(const o of i.ownedNfts)s[o.contract.address]=!0;return s}})}function G_(r,e,t="isSpamContract"){return te(this,void 0,void 0,function*(){return er(r,ot.NFT,"isSpamContract",t,{contractAddress:e})})}function q_(r,e="getSpamContracts"){return te(this,void 0,void 0,function*(){return er(r,ot.NFT,"getSpamContracts",e,void 0)})}function V_(r,e,t="getFloorPrice"){return te(this,void 0,void 0,function*(){return er(r,ot.NFT,"getFloorPrice",t,{contractAddress:e})})}function j_(r,e={},t="getNftSales"){return te(this,void 0,void 0,function*(){const n=Object.assign({},e),i=yield er(r,ot.NFT,"getNFTSales",t,{fromBlock:n==null?void 0:n.fromBlock,toBlock:n==null?void 0:n.toBlock,order:n==null?void 0:n.order,marketplace:n==null?void 0:n.marketplace,contractAddress:n==null?void 0:n.contractAddress,tokenId:n!=null&&n.tokenId?Ce.from(n==null?void 0:n.tokenId).toString():void 0,sellerAddress:n==null?void 0:n.sellerAddress,buyerAddress:n==null?void 0:n.buyerAddress,taker:n==null?void 0:n.taker,limit:n==null?void 0:n.limit,pageKey:n==null?void 0:n.pageKey});return n_(i)})}function Y_(r,e,t,n="computeRarity"){return te(this,void 0,void 0,function*(){const i=yield er(r,ot.NFT,"computeRarity",n,{contractAddress:e,tokenId:Ce.from(t).toString()});return o_(i)})}function J_(r,e,t="searchContractMetadata"){return te(this,void 0,void 0,function*(){return(yield er(r,ot.NFT,"searchContractMetadata",t,{query:e})).map(T0)})}function Z_(r,e,t="summarizeNftAttributes"){return te(this,void 0,void 0,function*(){return er(r,ot.NFT,"summarizeNftAttributes",t,{contractAddress:e})})}function X_(r,e,t,n="refreshNftMetadata"){return te(this,void 0,void 0,function*(){const i=Ce.from(t).toString(),s=yield zb(r,e,i,void 0,n),o=yield ek(r,e,i,n);return s.timeLastUpdated!==o.timeLastUpdated})}function Q_(r,e,t="refreshContract"){return te(this,void 0,void 0,function*(){const n=yield er(r,ot.NFT,"reingestContract",t,{contractAddress:e});return{contractAddress:n.contractAddress,refreshState:rk(n.reingestionState),progress:n.progress}})}function ek(r,e,t,n){return te(this,void 0,void 0,function*(){const i=yield er(r,ot.NFT,"getNFTMetadata",n,{contractAddress:e,tokenId:Ce.from(t).toString(),refreshCache:!0});return ka(i)})}function Hb(r){return qb(r)?ka(r):Lb(r)}function Gb(r,e){return qb(r)?ka(r):Lb(r,e)}function qb(r){return r.title!==void 0}function B0(r,e){return te(this,void 0,void 0,function*(){const t=e.transfers.filter(o=>o.rawContract.address!==null).flatMap(o=>{var a;const c=tk(o),f={from:o.from,to:(a=o.to)!==null&&a!==void 0?a:void 0,transactionHash:o.hash,blockNumber:o.blockNum};return c.map(l=>({metadata:f,token:l}))});if(t.length===0)return{nfts:[]};const n=yield Kb(r,t.map(o=>o.token)),i=new Map;return n.forEach(o=>{const a=`${o.contract.address}-${Ce.from(o.tokenId).toString()}`;i.set(a,o)}),{nfts:t.map(o=>{const a=`${o.token.contractAddress}-${Ce.from(o.token.tokenId).toString()}`;return Object.assign(Object.assign({},i.get(a)),o.metadata)}),pageKey:e.pageKey}})}function tk(r){return r.category===dn.ERC1155?K_(r):[{contractAddress:r.rawContract.address,tokenId:r.tokenId,tokenType:r.category===dn.ERC721?Jr.ERC721:void 0}]}function Tf(r){return r===void 0?!0:!r}function rk(r){switch(r){case"does_not_exist":return di.DOES_NOT_EXIST;case"already_queued":return di.ALREADY_QUEUED;case"in_progress":return di.IN_PROGRESS;case"finished":return di.FINISHED;case"queued":return di.QUEUED;case"queue_failed":return di.QUEUE_FAILED;default:throw new Error("Unknown reingestion state: "+r)}}class nk{constructor(e){this.config=e}getNftMetadata(e,t,n,i){let s;return typeof n=="object"?s={tokenType:n.tokenType,tokenUriTimeoutInMs:n.tokenUriTimeoutInMs,refreshCache:n.refreshCache}:s={tokenType:n,tokenUriTimeoutInMs:i},zb(this.config,e,t,s)}getNftMetadataBatch(e,t){return Kb(this.config,e,t)}getContractMetadata(e){return P_(this.config,e)}getContractMetadataBatch(e){return B_(this.config,e)}getNftsForOwnerIterator(e,t){return O_(this.config,e,t)}getNftsForOwner(e,t){return jc(this.config,e,t)}getNftsForContract(e,t){return C_(this.config,e,t)}getNftsForContractIterator(e,t){return M_(this.config,e,t)}getOwnersForContract(e,t){return U_(this.config,e,t)}getOwnersForNft(e,t,n){return F_(this.config,e,t,n)}getContractsForOwner(e,t){return L_(this.config,e,t)}getTransfersForOwner(e,t,n){return $_(this.config,e,t,n)}getTransfersForContract(e,t){return z_(this.config,e,t)}getMintedNfts(e,t){return te(this,void 0,void 0,function*(){return D_(this.config,e,t)})}checkNftOwnership(e,t){return W_(this.config,e,t)}verifyNftOwnership(e,t){return H_(this.config,e,t)}isSpamContract(e){return G_(this.config,e)}getSpamContracts(){return q_(this.config)}getFloorPrice(e){return V_(this.config,e)}getNftSales(e){return j_(this.config,e)}computeRarity(e,t){return Y_(this.config,e,t)}searchContractMetadata(e){return J_(this.config,e)}summarizeNftAttributes(e){return Z_(this.config,e)}refreshNftMetadata(e,t){return X_(this.config,e,t)}refreshContract(e){return Q_(this.config,e)}}class ik{constructor(e){this.config=e}getAllWebhooks(){return te(this,void 0,void 0,function*(){this.verifyConfig();const e=yield this.sendWebhookRequest("team-webhooks","getAllWebhooks",{});return{webhooks:sk(e),totalCount:e.data.length}})}getAddresses(e,t){return te(this,void 0,void 0,function*(){this.verifyConfig();const n=typeof e=="string"?e:e.id,i=yield this.sendWebhookRequest("webhook-addresses","getAddresses",{webhook_id:n,limit:t==null?void 0:t.limit,after:t==null?void 0:t.pageKey});return ok(i)})}getGraphqlQuery(e){return te(this,void 0,void 0,function*(){this.verifyConfig();const t=typeof e=="string"?e:e.id,n=yield this.sendWebhookRequest("dashboard-webhook-graphql-query","getGraphqlQuery",{webhook_id:t});return ak(n)})}getNftFilters(e,t){return te(this,void 0,void 0,function*(){this.verifyConfig();const n=typeof e=="string"?e:e.id,i=yield this.sendWebhookRequest("webhook-nft-filters","getNftFilters",{webhook_id:n,limit:t==null?void 0:t.limit,after:t==null?void 0:t.pageKey});return ck(i)})}updateWebhook(e,t){return te(this,void 0,void 0,function*(){const n=typeof e=="string"?e:e.id;let i,s,o,a;if("isActive"in t)i="update-webhook",s="updateWebhook",o="PUT",a={webhook_id:n,is_active:t.isActive};else if("addFilters"in t||"removeFilters"in t)i="update-webhook-nft-filters",s="updateWebhookNftFilters",o="PATCH",a={webhook_id:n,nft_filters_to_add:t.addFilters?t.addFilters.map(Ha):[],nft_filters_to_remove:t.removeFilters?t.removeFilters.map(Ha):[]};else if("addMetadataFilters"in t||"removeMetadataFilters"in t)i="update-webhook-nft-metadata-filters",s="updateWebhookNftMetadataFilters",o="PATCH",a={webhook_id:n,nft_metadata_filters_to_add:t.addMetadataFilters?t.addMetadataFilters.map(Ha):[],nft_metadata_filters_to_remove:t.removeMetadataFilters?t.removeMetadataFilters.map(Ha):[]};else if("addAddresses"in t||"removeAddresses"in t)i="update-webhook-addresses",s="webhook:updateWebhookAddresses",o="PATCH",a={webhook_id:n,addresses_to_add:yield this.resolveAddresses(t.addAddresses),addresses_to_remove:yield this.resolveAddresses(t.removeAddresses)};else if("newAddresses"in t)i="update-webhook-addresses",s="webhook:updateWebhookAddress",o="PUT",a={webhook_id:n,addresses:yield this.resolveAddresses(t.newAddresses)};else throw new Error("Invalid `update` param passed into `updateWebhook`");yield this.sendWebhookRequest(i,s,{},{method:o,data:a})})}createWebhook(e,t,n){return te(this,void 0,void 0,function*(){let i;if(t===jn.MINED_TRANSACTION||t===jn.DROPPED_TRANSACTION){if(!("appId"in n))throw new Error("Transaction Webhooks require an app id.");i=n.appId}let s=Wa.get(this.config.network),o,a,c;if(t===jn.NFT_ACTIVITY||t===jn.NFT_METADATA_UPDATE){if(!("filters"in n)||n.filters.length===0)throw new Error("Nft Activity Webhooks require a non-empty array input.");s=n.network?Wa.get(n.network):s;const h=n.filters.map(w=>w.tokenId?{contract_address:w.contractAddress,token_id:Ce.from(w.tokenId).toString()}:{contract_address:w.contractAddress});o=t===jn.NFT_ACTIVITY?{nft_filters:h}:{nft_metadata_filters:h}}else if(t===jn.ADDRESS_ACTIVITY){if(n===void 0||!("addresses"in n)||n.addresses.length===0)throw new Error("Address Activity Webhooks require a non-empty array input.");s=n.network?Wa.get(n.network):s,a=yield this.resolveAddresses(n.addresses)}else if(t==jn.GRAPHQL){if(n===void 0||!("graphqlQuery"in n)||n.graphqlQuery.length===0)throw new Error("Custom Webhooks require a non-empty graphql query.");s=n.network?Wa.get(n.network):s,c=n.graphqlQuery}const f=Object.assign(Object.assign(Object.assign(Object.assign({network:s,webhook_type:t,webhook_url:e},i&&{app_id:i}),o),a&&{addresses:a}),c&&{graphql_query:c}),l=yield this.sendWebhookRequest("create-webhook","createWebhook",{},{method:"POST",data:f});return Vb(l.data)})}deleteWebhook(e){return te(this,void 0,void 0,function*(){this.verifyConfig();const t=typeof e=="string"?e:e.id;if("message"in(yield this.sendWebhookRequest("delete-webhook","deleteWebhook",{webhook_id:t},{method:"DELETE"})))throw new Error(`Webhook not found. Failed to delete webhook: ${t}`)})}verifyConfig(){if(this.config.authToken===void 0)throw new Error("Using the Notify API requires setting the Alchemy Auth Token in the settings object when initializing Alchemy.")}sendWebhookRequest(e,t,n,i){return er(this.config,ot.WEBHOOK,e,t,n,Object.assign(Object.assign({},i),{headers:Object.assign({"X-Alchemy-Token":this.config.authToken},i==null?void 0:i.headers)}))}resolveAddresses(e){return te(this,void 0,void 0,function*(){if(e===void 0)return[];const t=[],n=yield this.config.getProvider();for(const i of e){const s=yield n.resolveName(i);if(s===null)throw new Error(`Unable to resolve the ENS address: ${i}`);t.push(s)}return t})}}const El={ETH_MAINNET:De.ETH_MAINNET,ETH_GOERLI:De.ETH_GOERLI,ETH_ROPSTEN:De.ETH_ROPSTEN,ETH_RINKEBY:De.ETH_RINKEBY,ETH_KOVAN:De.ETH_KOVAN,MATIC_MAINNET:De.MATIC_MAINNET,MATIC_MUMBAI:De.MATIC_MUMBAI,ARB_MAINNET:De.ARB_MAINNET,ARB_RINKEBY:De.ARB_RINKEBY,OPT_MAINNET:De.OPT_MAINNET,OPT_KOVAN:De.OPT_KOVAN},Wa=Object.keys(De).reduce((r,e)=>(e in El&&r.set(El[e],e),r),new Map);function sk(r){return r.data.map(Vb)}function Vb(r){return Object.assign({id:r.id,network:El[r.network],type:r.webhook_type,url:r.webhook_url,isActive:r.is_active,timeCreated:new Date(r.time_created).toISOString(),signingKey:r.signing_key,version:r.version},r.app_id!==void 0&&{appId:r.app_id})}function ok(r){return{addresses:r.data,totalCount:r.pagination.total_count,pageKey:r.pagination.cursors.after}}function ak(r){return{graphqlQuery:r.data.graphql_query}}function ck(r){return{filters:r.data.map(e=>e.token_id?{contractAddress:e.contract_address,tokenId:Ce.from(e.token_id).toString()}:{contractAddress:e.contract_address}),totalCount:r.pagination.total_count,pageKey:r.pagination.cursors.after}}function Ha(r){return r.tokenId?{contract_address:r.contractAddress,token_id:Ce.from(r.tokenId).toString()}:{contract_address:r.contractAddress}}const fk=[.9,1,1.1,1.2,1.3];class uk{constructor(e){this.config=e}sendPrivateTransaction(e,t,n){return te(this,void 0,void 0,function*(){const i=yield this.config.getProvider(),s=t?Af(t):void 0;return i._send("eth_sendPrivateTransaction",[{tx:e,maxBlockNumber:s,preferences:n}],"sendPrivateTransaction")})}cancelPrivateTransaction(e){return te(this,void 0,void 0,function*(){return(yield this.config.getProvider())._send("eth_cancelPrivateTransaction",[{txHash:e}],"cancelPrivateTransaction")})}simulateAssetChangesBundle(e,t){return te(this,void 0,void 0,function*(){const n=yield this.config.getProvider(),i=t!==void 0?[e,t]:[e],s=yield n._send("alchemy_simulateAssetChangesBundle",i,"simulateAssetChangesBundle");return vs(s)})}simulateAssetChanges(e,t){return te(this,void 0,void 0,function*(){const n=yield this.config.getProvider(),i=t!==void 0?[e,t]:[e],s=yield n._send("alchemy_simulateAssetChanges",i,"simulateAssetChanges");return vs(s)})}simulateExecutionBundle(e,t){return te(this,void 0,void 0,function*(){const n=yield this.config.getProvider(),i=t!==void 0?[e,t]:[e],s=n._send("alchemy_simulateExecutionBundle",i,"simulateExecutionBundle");return vs(s)})}simulateExecution(e,t){return te(this,void 0,void 0,function*(){const n=yield this.config.getProvider(),i=t!==void 0?[e,t]:[e],s=n._send("alchemy_simulateExecution",i,"simulateExecution");return vs(s)})}getTransaction(e){return te(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getTransaction(e)})}sendTransaction(e){return te(this,void 0,void 0,function*(){return(yield this.config.getProvider()).sendTransaction(e)})}estimateGas(e){return te(this,void 0,void 0,function*(){return(yield this.config.getProvider()).estimateGas(e)})}getMaxPriorityFeePerGas(){return te(this,void 0,void 0,function*(){const t=yield(yield this.config.getProvider())._send("eth_maxPriorityFeePerGas",[],"getMaxPriorityFeePerGas");return t_(t)})}waitForTransaction(e,t,n){return te(this,void 0,void 0,function*(){return(yield this.config.getProvider()).waitForTransaction(e,t,n)})}sendGasOptimizedTransaction(e,t){return te(this,void 0,void 0,function*(){if(Array.isArray(e))return this._sendGasOptimizedTransaction(e,"sendGasOptimizedTransactionPreSigned");let n,i,s;const o=yield this.config.getProvider();try{n=yield this.estimateGas(e),i=yield this.getMaxPriorityFeePerGas(),s=(yield o.getBlock("latest")).baseFeePerGas.toNumber()}catch(f){throw new Error(`Failed to estimate gas for transaction: ${f}`)}const a=lk(e,n.toNumber(),s,i),c=yield Promise.all(a.map(f=>t.signTransaction(f)));return this._sendGasOptimizedTransaction(c,"sendGasOptimizedTransactionGenerated")})}getGasOptimizedTransactionStatus(e){return te(this,void 0,void 0,function*(){return(yield this.config.getProvider())._send("alchemy_getGasOptimizedTransactionStatus",[e],"getGasOptimizedTransactionStatus")})}_sendGasOptimizedTransaction(e,t){return te(this,void 0,void 0,function*(){return(yield this.config.getProvider())._send("alchemy_sendGasOptimizedTransaction",[{rawTransactions:e}],t)})}}function lk(r,e,t,n){return fk.map(i=>Object.assign(Object.assign({},r),{gasLimit:e,maxFeePerGas:Math.round(t*i+n*i),maxPriorityFeePerGas:Math.round(i*n)}))}const Yc="alchemy-pending-transactions",Jc="alchemy-mined-transactions",dk=[Yc,Jc];class hk{constructor(e,t,n){this.listener=t,this.tag=e,this.once=n,this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter;default:return this.tag}}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");if(e[0]!=="tx")throw new Error("Not a transaction event");return e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")throw new Error("Not a transaction event");const t=e[1],n=bk(e[2]),i={};return n.length>0&&(i.topics=n),t&&t!=="*"&&(i.address=t),i}pollable(){const e=["block","network","pending","poll"];return this.tag.indexOf(":")>=0||e.indexOf(this.tag)>=0}}class uE extends hk{get fromAddress(){const e=this.tag.split(":");if(e[0]===Yc&&e[1]&&e[1]!=="*")return rx(e[1])}get toAddress(){const e=this.tag.split(":");if(e[0]===Yc&&e[2]&&e[2]!=="*")return rx(e[2])}get hashesOnly(){const e=this.tag.split(":");if(dk.includes(e[0])&&e[3]&&e[3]!=="*")return e[3]==="true"}get includeRemoved(){const e=this.tag.split(":");if(e[0]===Jc&&e[2]&&e[2]!=="*")return e[2]==="true"}get addresses(){const e=this.tag.split(":");if(e[0]===Jc&&e[1]&&e[1]!=="*")return yk(e[1])}}function jb(r){return typeof r=="object"&&"method"in r}function lE(r){if(!jb(r))throw new Error("Event tag requires AlchemyEventType");if(r.method===Ni.PENDING_TRANSACTIONS)return pk(r);if(r.method===Ni.MINED_TRANSACTIONS)return xk(r);throw new Error(`Unrecognized AlchemyFilterEvent: ${r}`)}function dE(r){if(!Object.values(Ni).includes(r.method))throw new Error(`Invalid method name ${r.method}. Accepted method names: ${Object.values(Ni)}`)}function pk(r){const e=Zc(r.fromAddress),t=Zc(r.toAddress),n=Sl(r.hashesOnly);return Yc+":"+e+":"+t+":"+n}function xk(r){const e=gk(r.addresses),t=Sl(r.includeRemoved),n=Sl(r.hashesOnly);return Jc+":"+e+":"+t+":"+n}function gk(r){return r===void 0?"*":r.map(e=>Zc(e.to)+","+Zc(e.from)).join("|")}function Zc(r){return r===void 0?"*":Array.isArray(r)?r.join("|"):r}function Sl(r){return r===void 0?"*":r.toString()}function bk(r){return r===""?[]:r.split(/&/g).map(e=>{if(e==="")return[];const t=e.split("|").map(n=>n==="null"?null:n);return t.length===1?t[0]:t})}function rx(r){if(r==="")return;const e=r.split("|");return e.length===1?e[0]:e}function yk(r){if(r!=="")return r.split("|").map(e=>e.split(",")).map(e=>Object.assign(Object.assign({},e[0]!=="*"&&{to:e[0]}),e[1]!=="*"&&{from:e[1]}))}class mk{constructor(e){this.config=e}on(e,t){return te(this,void 0,void 0,function*(){const n=yield this.config.getWebSocketProvider(),i=yield this._resolveEnsAlchemyEvent(e);n.on(i,t)}),this}once(e,t){return te(this,void 0,void 0,function*(){const n=yield this.config.getWebSocketProvider(),i=yield this._resolveEnsAlchemyEvent(e);n.once(i,t)}),this}off(e,t){return te(this,void 0,void 0,function*(){const n=yield this.config.getWebSocketProvider(),i=yield this._resolveEnsAlchemyEvent(e);return n.off(i,t)}),this}removeAllListeners(e){return te(this,void 0,void 0,function*(){const t=yield this.config.getWebSocketProvider(),n=e?yield this._resolveEnsAlchemyEvent(e):void 0;t.removeAllListeners(n)}),this}listenerCount(e){return te(this,void 0,void 0,function*(){const t=yield this.config.getWebSocketProvider(),n=e?yield this._resolveEnsAlchemyEvent(e):void 0;return t.listenerCount(n)})}listeners(e){return te(this,void 0,void 0,function*(){const t=yield this.config.getWebSocketProvider(),n=e?yield this._resolveEnsAlchemyEvent(e):void 0;return t.listeners(n)})}_resolveEnsAlchemyEvent(e){return te(this,void 0,void 0,function*(){if(!jb(e))return e;if(e.method===Ni.MINED_TRANSACTIONS&&e.addresses){const t=[];for(const n of e.addresses)n.to&&(n.to=yield this._resolveNameOrError(n.to)),n.from&&(n.from=yield this._resolveNameOrError(n.from)),t.push(n);e.addresses=t}else e.method===Ni.PENDING_TRANSACTIONS&&(e.fromAddress&&(typeof e.fromAddress=="string"?e.fromAddress=yield this._resolveNameOrError(e.fromAddress):e.fromAddress=yield Promise.all(e.fromAddress.map(t=>this._resolveNameOrError(t)))),e.toAddress&&(typeof e.toAddress=="string"?e.toAddress=yield this._resolveNameOrError(e.toAddress):e.toAddress=yield Promise.all(e.toAddress.map(t=>this._resolveNameOrError(t)))));return e})}_resolveNameOrError(e){return te(this,void 0,void 0,function*(){const n=yield(yield this.config.getProvider()).resolveName(e);if(n===null)throw new Error(`Unable to resolve the ENS address: ${e}`);return n})}}class wk{constructor(e){this.config=new V5(e),this.core=new g_(this.config),this.nft=new nk(this.config),this.ws=new mk(this.config),this.transact=new uk(this.config),this.notify=new ik(this.config),this.debug=new b_(this.config)}}async function vk(r){const e={apiKey:"9kNXbHSC4XEBluKh72dg644UOMK74Y7C",network:De.ETH_MAINNET},n=await(await new wk(e).nft.getNftsForOwner(r)).ownedNfts,i=[];return console.log("Eth",n),n.forEach(function(s,o){let a,c;const f=s.media,l=f.length?f[0].raw:"";s.rawMetadata.external_url?a=s.rawMetadata.external_url:a="",s.rawMetadata.created_by?c=s.rawMetadata.created_by:c="";const h={name:s.title,description:s.description,imageURL:l,collection:s.contract.openSea.collectionName,nftType:ub.Ethereum,index:o,creator:c,animationImage:"",externalUrl:a,attributes:[{type:"",value:""}]};i.push(h)}),i}const qo=et();function nx(r){return r?r.startsWith("ipfs://ipfs")?(r="https://ipfs.io/ipfs/"+r.slice(11),r):(r.startsWith("ipfs://")&&(r="https://ipfs.io/ipfs/"+r.slice(7)),r):""}const Yb=et(),_k=et(),kk=et(),Ek=et(),Sk=et(),Ak=et(),Ik=et(),Rk=et(),Tk=et(),Nk=et();Yb.set(!1);function ix(r){let e,t;return{c(){e=H("img"),F(e,"class","nftType svelte-fffywc"),Xr(e.src,t="https://blog.logomyway.com/wp-content/uploads/2021/11/Ethereum-logo.png")||F(e,"src",t),F(e,"alt","Chain not detected")},m(n,i){ae(n,e,i)},d(n){n&&oe(e)}}}function sx(r){let e,t;return{c(){e=H("img"),F(e,"class","nftType svelte-fffywc"),Xr(e.src,t="https://cryptologos.cc/logos/immutable-x-imx-logo.png")||F(e,"src",t),F(e,"alt","Chain not detected")},m(n,i){ae(n,e,i)},d(n){n&&oe(e)}}}function ox(r){let e,t;return{c(){e=H("img"),F(e,"class","nftType svelte-fffywc"),Xr(e.src,t="https://upload.wikimedia.org/wikipedia/en/b/b9/Solana_logo.png")||F(e,"src",t),F(e,"alt","Chain not detected")},m(n,i){ae(n,e,i)},d(n){n&&oe(e)}}}function ax(r){let e,t;return{c(){e=H("img"),F(e,"class","nftType svelte-fffywc"),Xr(e.src,t="https://cryptologos.cc/logos/loopring-lrc-logo.png")||F(e,"src",t),F(e,"alt","Chain not detected")},m(n,i){ae(n,e,i)},d(n){n&&oe(e)}}}function Pk(r){let e,t,n,i,s,o,a,c,f,l,h,w,b=r[0].collection+"",m,k,S,A,O=r[0].name+"",R,B,N,L,$,K=r[0].nftType===0&&ix(),Y=r[0].nftType===1&&sx(),J=r[0].nftType===2&&ox(),q=r[0].nftType===3&&ax();return{c(){e=H("div"),t=H("div"),n=H("img"),s=ee(),o=H("div"),a=H("div"),K&&K.c(),c=ee(),Y&&Y.c(),f=ee(),J&&J.c(),l=ee(),q&&q.c(),h=ee(),w=H("div"),m=Se(b),k=ee(),S=H("br"),A=ee(),R=Se(O),B=H("br"),F(n,"class","nftImage svelte-fffywc"),Xr(n.src,i=nx(r[0].imageURL))||F(n,"src",i),F(n,"alt",""),F(t,"id","nftImageSection"),F(t,"class","svelte-fffywc"),F(a,"id","nftTypeSection"),F(a,"class","svelte-fffywc"),F(w,"id","nftInfo"),F(w,"class","svelte-fffywc"),F(o,"id","nftBottom"),F(o,"class","svelte-fffywc"),F(e,"data-index",N=r[0].index),F(e,"id","nftCard"),F(e,"class","nft svelte-fffywc")},m(re,v){ae(re,e,v),U(e,t),U(t,n),U(e,s),U(e,o),U(o,a),K&&K.m(a,null),U(a,c),Y&&Y.m(a,null),U(a,f),J&&J.m(a,null),U(a,l),q&&q.m(a,null),U(o,h),U(o,w),U(w,m),U(w,k),U(w,S),U(w,A),U(w,R),U(w,B),L||($=_e(e,"click",r[1]),L=!0)},p(re,[v]){v&1&&!Xr(n.src,i=nx(re[0].imageURL))&&F(n,"src",i),re[0].nftType===0?K||(K=ix(),K.c(),K.m(a,c)):K&&(K.d(1),K=null),re[0].nftType===1?Y||(Y=sx(),Y.c(),Y.m(a,f)):Y&&(Y.d(1),Y=null),re[0].nftType===2?J||(J=ox(),J.c(),J.m(a,l)):J&&(J.d(1),J=null),re[0].nftType===3?q||(q=ax(),q.c(),q.m(a,null)):q&&(q.d(1),q=null),v&1&&b!==(b=re[0].collection+"")&&xt(m,b),v&1&&O!==(O=re[0].name+"")&&xt(R,O),v&1&&N!==(N=re[0].index)&&F(e,"data-index",N)},i:Te,o:Te,d(re){re&&oe(e),K&&K.d(),Y&&Y.d(),J&&J.d(),q&&q.d(),L=!1,$()}}}function Bk(r,e,t){let n;tt(r,qo,o=>t(2,n=o));let{nft:i}=e;function s(o){Sk.set(""),console.log("dffdfdf");var a=o.currentTarget.getAttribute("data-index");console.log("name",n[a]),Yb.set(!0),_k.set(n[a].collection),kk.set(n[a].description),Ek.set(n[a].imageURL),Ak.set(n[a].name),Ik.set(n[a].nftType),Rk.set(n[a].creator),Tk.set(n[a].externalUrl),Nk.set(n[a].attributes)}return r.$$set=o=>{"nft"in o&&t(0,i=o.nft)},[i,s]}class Ok extends lr{constructor(e){super(),ur(this,e,Bk,Pk,ir,{nft:0})}}function cx(r,e,t){const n=r.slice();return n[1]=e[t],n}function Ck(r){let e;return{c(){e=H("div"),F(e,"id","nftViewPlaceholder"),F(e,"class","svelte-1rszxkx")},m(t,n){ae(t,e,n)},p:Te,i:Te,o:Te,d(t){t&&oe(e)}}}function Mk(r){let e,t,n=r[0],i=[];for(let o=0;o<n.length;o+=1)i[o]=fx(cx(r,n,o));const s=o=>we(i[o],1,1,()=>{i[o]=null});return{c(){e=H("div");for(let o=0;o<i.length;o+=1)i[o].c();F(e,"class","nfts-grid svelte-1rszxkx")},m(o,a){ae(o,e,a);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(e,null);t=!0},p(o,a){if(a&1){n=o[0];let c;for(c=0;c<n.length;c+=1){const f=cx(o,n,c);i[c]?(i[c].p(f,a),ue(i[c],1)):(i[c]=fx(f),i[c].c(),ue(i[c],1),i[c].m(e,null))}for(or(),c=n.length;c<i.length;c+=1)s(c);ar()}},i(o){if(!t){for(let a=0;a<n.length;a+=1)ue(i[a]);t=!0}},o(o){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)we(i[a]);t=!1},d(o){o&&oe(e),Ln(i,o)}}}function fx(r){let e,t;return e=new Ok({props:{nft:r[1]}}),{c(){Sr(e.$$.fragment)},m(n,i){cr(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.nft=n[1]),e.$set(s)},i(n){t||(ue(e.$$.fragment,n),t=!0)},o(n){we(e.$$.fragment,n),t=!1},d(n){fr(e,n)}}}function Uk(r){let e,t,n,i;const s=[Mk,Ck],o=[];function a(c,f){return c[0]&&c[0].length?0:1}return e=a(r),t=o[e]=s[e](r),{c(){t.c(),n=po()},m(c,f){o[e].m(c,f),ae(c,n,f),i=!0},p(c,[f]){let l=e;e=a(c),e===l?o[e].p(c,f):(or(),we(o[l],1,1,()=>{o[l]=null}),ar(),t=o[e],t?t.p(c,f):(t=o[e]=s[e](c),t.c()),ue(t,1),t.m(n.parentNode,n))},i(c){i||(ue(t),i=!0)},o(c){we(t),i=!1},d(c){o[e].d(c),c&&oe(n)}}}function Lk(r,e,t){let n;return tt(r,qo,i=>t(0,n=i)),[n]}class Fk extends lr{constructor(e){super(),ur(this,e,Lk,Uk,ir,{})}}async function Dk(r){const e=await vk(r);return e.forEach(function(t,n){t.index=n}),console.log("nfts:",e),e}function ux(r,e,t){const n=r.slice();return n[11]=e[t],n[13]=t,n}function lx(r){let e,t,n=r[1]&&dx();return{c(){e=H("div"),n&&n.c(),F(e,"class","svelte-16rncql")},m(i,s){ae(i,e,s),n&&n.m(e,null),t=!0},p(i,s){i[1]?n?s&2&&ue(n,1):(n=dx(),n.c(),ue(n,1),n.m(e,null)):n&&(or(),we(n,1,1,()=>{n=null}),ar())},i(i){t||(ue(n),t=!0)},o(i){we(n),t=!1},d(i){i&&oe(e),n&&n.d()}}}function dx(r){let e,t;return e=new L8({}),{c(){Sr(e.$$.fragment)},m(n,i){cr(e,n,i),t=!0},i(n){t||(ue(e.$$.fragment,n),t=!0)},o(n){we(e.$$.fragment,n),t=!1},d(n){fr(e,n)}}}function hx(r){let e,t,n,i;const s=[zk,$k],o=[];function a(c,f){return c[2]?0:1}return e=a(r),t=o[e]=s[e](r),{c(){t.c(),n=po()},m(c,f){o[e].m(c,f),ae(c,n,f),i=!0},p(c,f){let l=e;e=a(c),e===l?o[e].p(c,f):(or(),we(o[l],1,1,()=>{o[l]=null}),ar(),t=o[e],t?t.p(c,f):(t=o[e]=s[e](c),t.c()),ue(t,1),t.m(n.parentNode,n))},i(c){i||(ue(t),i=!0)},o(c){we(t),i=!1},d(c){o[e].d(c),c&&oe(n)}}}function $k(r){let e,t,n,i;return{c(){e=H("div"),t=H("button"),t.textContent="Fetch NFTs",F(t,"class","svelte-16rncql"),F(e,"class","svelte-16rncql")},m(s,o){ae(s,e,o),U(e,t),n||(i=_e(t,"click",r[9]),n=!0)},p:Te,i:Te,o:Te,d(s){s&&oe(e),n=!1,i()}}}function zk(r){let e,t,n;return t=new Fk({}),{c(){e=H("div"),Sr(t.$$.fragment),_t(e,"position","absolute"),_t(e,"top","50px"),F(e,"class","svelte-16rncql")},m(i,s){ae(i,e,s),cr(t,e,null),n=!0},p:Te,i(i){n||(ue(t.$$.fragment,i),n=!0)},o(i){we(t.$$.fragment,i),n=!1},d(i){i&&oe(e),fr(t)}}}function px(r){let e;return{c(){e=H("div"),e.textContent="content 3",F(e,"class","svelte-16rncql")},m(t,n){ae(t,e,n)},d(t){t&&oe(e)}}}function xx(r){let e;return{c(){e=H("div"),e.textContent="content 4",F(e,"class","svelte-16rncql")},m(t,n){ae(t,e,n)},d(t){t&&oe(e)}}}function gx(r){let e,t=r[8],n=[];for(let i=0;i<t.length;i+=1)n[i]=bx(ux(r,t,i));return{c(){e=H("div");for(let i=0;i<n.length;i+=1)n[i].c();F(e,"class","tabs footer svelte-16rncql")},m(i,s){ae(i,e,s);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(i,s){if(s&257){t=i[8];let o;for(o=0;o<t.length;o+=1){const a=ux(i,t,o);n[o]?n[o].p(a,s):(n[o]=bx(a),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(i){i&&oe(e),Ln(n,i)}}}function bx(r){let e,t=r[11]+"",n,i,s,o;function a(){return r[10](r[13])}return{c(){e=H("a"),n=Se(t),i=ee(),F(e,"class","tab tab-bordered svelte-16rncql"),sc(e,"tab-active",r[0]==r[13])},m(c,f){ae(c,e,f),U(e,n),U(e,i),s||(o=_e(e,"click",a),s=!0)},p(c,f){r=c,f&1&&sc(e,"tab-active",r[0]==r[13])},d(c){c&&oe(e),s=!1,o()}}}function yx(r){let e,t;return e=new C8({}),{c(){Sr(e.$$.fragment)},m(n,i){cr(e,n,i),t=!0},i(n){t||(ue(e.$$.fragment,n),t=!0)},o(n){we(e.$$.fragment,n),t=!1},d(n){fr(e,n)}}}function mx(r){let e,t;return e=new T4({}),{c(){Sr(e.$$.fragment)},m(n,i){cr(e,n,i),t=!0},i(n){t||(ue(e.$$.fragment,n),t=!0)},o(n){we(e.$$.fragment,n),t=!1},d(n){fr(e,n)}}}function wx(r){let e,t;return e=new G8({}),{c(){Sr(e.$$.fragment)},m(n,i){cr(e,n,i),t=!0},i(n){t||(ue(e.$$.fragment,n),t=!0)},o(n){we(e.$$.fragment,n),t=!1},d(n){fr(e,n)}}}function vx(r){let e,t;return e=new j8({}),{c(){Sr(e.$$.fragment)},m(n,i){cr(e,n,i),t=!0},i(n){t||(ue(e.$$.fragment,n),t=!0)},o(n){we(e.$$.fragment,n),t=!1},d(n){fr(e,n)}}}function Kk(r){return{c:Te,m:Te,i:Te,o:Te,d:Te}}function Wk(r){let e,t;return e=new A4({}),{c(){Sr(e.$$.fragment)},m(n,i){cr(e,n,i),t=!0},i(n){t||(ue(e.$$.fragment,n),t=!0)},o(n){we(e.$$.fragment,n),t=!1},d(n){fr(e,n)}}}function Hk(r){let e,t,n,i,s,o,a,c,f,l,h,w,b,m,k,S;e=new K8({});let A=r[0]==0&&lx(r),O=r[0]==1&&hx(r),R=r[0]==2&&px(),B=r[0]==3&&xx(),N=r[0]>=0&&r[0]<=3&&gx(r),L=r[3]&&yx(),$=r[4]&&mx(),K=r[5]&&wx(),Y=r[6]&&vx();const J=[Wk,Kk],q=[];function re(v,u){return v[7]?0:1}return b=re(r),m=q[b]=J[b](r),{c(){Sr(e.$$.fragment),t=ee(),A&&A.c(),n=ee(),i=H("div"),O&&O.c(),s=ee(),R&&R.c(),o=ee(),B&&B.c(),a=ee(),N&&N.c(),c=ee(),L&&L.c(),f=ee(),$&&$.c(),l=ee(),K&&K.c(),h=ee(),Y&&Y.c(),w=ee(),m.c(),k=po(),F(i,"class","nftTab svelte-16rncql")},m(v,u){cr(e,v,u),ae(v,t,u),A&&A.m(v,u),ae(v,n,u),ae(v,i,u),O&&O.m(i,null),ae(v,s,u),R&&R.m(v,u),ae(v,o,u),B&&B.m(v,u),ae(v,a,u),N&&N.m(v,u),ae(v,c,u),L&&L.m(v,u),ae(v,f,u),$&&$.m(v,u),ae(v,l,u),K&&K.m(v,u),ae(v,h,u),Y&&Y.m(v,u),ae(v,w,u),q[b].m(v,u),ae(v,k,u),S=!0},p(v,[u]){v[0]==0?A?(A.p(v,u),u&1&&ue(A,1)):(A=lx(v),A.c(),ue(A,1),A.m(n.parentNode,n)):A&&(or(),we(A,1,1,()=>{A=null}),ar()),v[0]==1?O?(O.p(v,u),u&1&&ue(O,1)):(O=hx(v),O.c(),ue(O,1),O.m(i,null)):O&&(or(),we(O,1,1,()=>{O=null}),ar()),v[0]==2?R||(R=px(),R.c(),R.m(o.parentNode,o)):R&&(R.d(1),R=null),v[0]==3?B||(B=xx(),B.c(),B.m(a.parentNode,a)):B&&(B.d(1),B=null),v[0]>=0&&v[0]<=3?N?N.p(v,u):(N=gx(v),N.c(),N.m(c.parentNode,c)):N&&(N.d(1),N=null),v[3]?L?u&8&&ue(L,1):(L=yx(),L.c(),ue(L,1),L.m(f.parentNode,f)):L&&(or(),we(L,1,1,()=>{L=null}),ar()),v[4]?$?u&16&&ue($,1):($=mx(),$.c(),ue($,1),$.m(l.parentNode,l)):$&&(or(),we($,1,1,()=>{$=null}),ar()),v[5]?K?u&32&&ue(K,1):(K=wx(),K.c(),ue(K,1),K.m(h.parentNode,h)):K&&(or(),we(K,1,1,()=>{K=null}),ar()),v[6]?Y?u&64&&ue(Y,1):(Y=vx(),Y.c(),ue(Y,1),Y.m(w.parentNode,w)):Y&&(or(),we(Y,1,1,()=>{Y=null}),ar());let x=b;b=re(v),b!==x&&(or(),we(q[x],1,1,()=>{q[x]=null}),ar(),m=q[b],m||(m=q[b]=J[b](v),m.c()),ue(m,1),m.m(k.parentNode,k))},i(v){S||(ue(e.$$.fragment,v),ue(A),ue(O),ue(L),ue($),ue(K),ue(Y),ue(m),S=!0)},o(v){we(e.$$.fragment,v),we(A),we(O),we(L),we($),we(K),we(Y),we(m),S=!1},d(v){fr(e,v),v&&oe(t),A&&A.d(v),v&&oe(n),v&&oe(i),O&&O.d(),v&&oe(s),R&&R.d(v),v&&oe(o),B&&B.d(v),v&&oe(a),N&&N.d(v),v&&oe(c),L&&L.d(v),v&&oe(f),$&&$.d(v),v&&oe(l),K&&K.d(v),v&&oe(h),Y&&Y.d(v),v&&oe(w),q[b].d(v),v&&oe(k)}}}function Gk(r,e,t){let n,i,s,o,a,c,f,l;return tt(r,Vo,m=>t(0,n=m)),tt(r,to,m=>t(1,i=m)),tt(r,qo,m=>t(2,s=m)),tt(r,Ss,m=>t(3,o=m)),tt(r,cc,m=>t(4,a=m)),tt(r,bs,m=>t(5,c=m)),tt(r,eo,m=>t(6,f=m)),tt(r,Qs,m=>t(7,l=m)),to.set(ln[0]),Mo.set(Yu[0]),[n,i,s,o,a,c,f,l,["Tokens","NFTs","Swap","Recent Activity"],()=>Dk(i.address).then(m=>{function k(S,A){S&&S.length?(S=S.concat(A),S.forEach(function(O,R){O.index=R})):qo.set(A)}k(qo,m)}),m=>kx(Vo,n=m,n)]}class qk extends lr{constructor(e){super(),ur(this,e,Gk,Hk,ir,{})}}function Vk(r){let e,t;return e=new qk({}),{c(){Sr(e.$$.fragment)},m(n,i){cr(e,n,i),t=!0},p:Te,i(n){t||(ue(e.$$.fragment,n),t=!0)},o(n){we(e.$$.fragment,n),t=!1},d(n){fr(e,n)}}}class hE extends lr{constructor(e){super(),ur(this,e,null,Vk,ir,{})}}export{hE as A,Ce as B,aE as C,D5 as D,uE as E,$5 as F,fE as G,Xp as H,d_ as I,W5 as J,sE as K,Dr as L,De as N,k_ as V,te as _,dk as a,Yc as b,Ni as c,Jc as d,oE as e,t_ as f,lE as g,En as h,jb as i,Vi as j,Xk as k,Pr as l,O4 as m,cE as n,iE as o,tE as p,$r as q,Ko as r,Qk as s,Af as t,rE as u,dE as v,co as w,nE as x,eE as y,M4 as z};
